{"version":3,"sources":["bootstrap.datetimepicker.js","jquery.cityselect.js","jquery.dragsort.js","jquery.iconpicker.js","webuploader.js"],"names":["$","UTCDate","Date","UTC","apply","arguments","Array","prototype","indexOf","find","i","undefined","this","length","n","Datetimepicker","element","options","that","container","language","data","dates","split","isRTL","rtl","formatType","format","DPGlobal","parseFormat","getDefaultFormat","isInline","isVisible","isInput","is","fontAwesome","bootcssVer","component","parent","componentReset","hasInput","linkField","linkFormat","minuteStep","pickerPosition","showMeridian","initialDate","zIndex","icons","leftArrow","rightArrow","icontype","_attachEvents","clickedOutside","e","target","closest","hide","formatViewType","minView","convertViewMode","maxView","modes","wheelViewModeNavigation","wheelViewModeNavigationInverseDirection","wheelViewModeNavigationDelay","startViewMode","startView","viewMode","viewSelect","forceParse","template","templateV3","replace","picker","appendTo","on","click","proxy","mousedown","fn","mousewheel","console","log","addClass","selector","toggleClass","document","autoclose","keyboardNavigation","todayBtn","todayHighlight","weekStart","weekEnd","startDate","Infinity","endDate","daysOfWeekDisabled","setStartDate","setEndDate","setDaysOfWeekDisabled","setMinutesDisabled","minutesDisabled","setHoursDisabled","hoursDisabled","fillDow","fillMonths","update","showMode","show","constructor","_events","_detachEvents","focus","keyup","keydown","push","reset","el","ev","off","height","outerHeight","place","window","stopPropagation","preventDefault","trigger","type","date","val","setValue","remove","datetimepicker","getDate","d","getUTCDate","getTime","getTimezoneOffset","setDate","setUTCDate","viewDate","fill","setFormat","formatted","getFormattedDate","formatDate","parseDate","updateNavArrows","isArray","map","parseInt","index_highest","each","index_current","css","offset","top","left","containerOffset","outerWidth","bodyWidth","body","clientWidth","innerWidth","fromArgs","String","dowCnt","html","daysMin","append","monthsShort","year","getUTCFullYear","month","getUTCMonth","dayMonth","hours","getUTCHours","minutes","getUTCMinutes","startYear","startMonth","endYear","endMonth","currentDate","valueOf","today","text","months","toggle","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","clsName","getFullYear","getMonth","inArray","empty","join","txt","meridian","meridianOld","actual","meridiem","toUpperCase","Math","floor","currentYear","end","removeClass","eq","slice","yearCont","hour","visibility","wheelPause","originalEvent","delta","wheelDelta","mode","setTimeout","nodeName","toLowerCase","className","dir","navStep","moveHour","moveDate","moveMonth","moveYear","convertViewModeText","getHours","getMinutes","getSeconds","_setDate","seconds","getUTCSeconds","index","setUTCMonth","setUTCFullYear","hasClass","setUTCHours","substr","setUTCMinutes","oldViewMode","which","change","moveMinute","new_date","new_month","test","mag","abs","dateWithinRange","keyCode","newDate","newViewDate","dateChanged","ctrlKey","shiftKey","newViewMode","max","min","filter","old","option","args","shift","internal_return","$this","extend","defaults","Constructor","en","days","daysShort","suffix","navFnc","isLeapYear","field","Error","validParts","nonpunctuation","separators","parts","match","dateUTC","setMilliseconds","part","part_re","exec","call","filtered","toString","parsed","setters_order","setters_map","hh","v","h","HH","H","ii","ss","setUTCSeconds","s","yyyy","yy","m","isNaN","p","cnt","substring","M","MM","D","DD","P","dd","mm","y","Y","F","t","j","l","w","N","S","a","g","G","A","seps","headTemplate","headTemplateV3","contTemplate","footTemplate","noConflict","jQuery","citySelect","settings","url","prov","city","dist","nodata","required","city_json","box_obj","prov_obj","city_obj","dist_obj","select_prehtml","cityStart","prov_id","get","selectedIndex","attr","citylist","temp_html","c","key","value","display","distStart","city_id","init","bind","getJSON","json","dragsort","opts","lists","list","lastPos","cont","children","size","newList","draggedItem","placeHolderItem","pos","offsetLimit","scroll","tagName","itemSelector","dragSelector","placeHolderTemplate","grabItem","uninit","styleDragHandlers","unbind","getItems","cursor","item","insideMoveableItem","dragSelectorExclude","dragHandle","parentNode","listElem","dragStart","mousemove","mouseup","dropItem","mt","ml","pageY","pageX","dragBetween","containerHeight","round","right","bottom","width","clone","after","borderWidth","next","listTable","id","orig","position","opacity","z-index","moveX","moveY","maxX","maxY","scrollY","setInterval","scrollContainer","scrollTop","scrollX","scrollLeft","createDropTargets","buildPositionTable","setPos","swapItems","wheel","x","offsetParent","not","scrollSpeed","browser","safari","mozilla","detail","loc","elm","removeAttr","before","clearInterval","dragEnd","nextItem","prepend","ei","findPos","nlist","fixed","idx","insertAfter","insertBefore","ph","dt","iconpicker","self","buttonSize","columns","open","allowedSizes","templates","sizes","$el","currentTarget","closeMenu","openMenu","icon","clickCallback","select","str","doFilter","$sizeSelector","$container","resize","createMenu","eval","$menu","class","style","$filter","sizeSelector","innerHeight","button","title","name","data-icon","data-filter","detach","scrollbarWidth","getScrollbarWidth","ceil","ucwords","$1","sortObj","obj","tempArry","tempObj","sort","b","localeCompare","$inner","$outer","inner","outer","width1","offsetWidth","width2","root","factory","origin","modules","_require","deps","callback","len","getModule","_define","setModule","returned","module","exports","exportsTo","host","last","ucFirst","charAt","hasOwnProperty","pop","makeExport","dollar","__dollar","define","amd","WebUploader","require","Zepto","_","Deferred","when","isPromise","anything","then","promise","uncurryThis","bindFn","context","createObject","proto","f","Object","create","noop","Function","version","ua","ret","webkit","chrome","ie","firefox","opera","parseFloat","navigator","userAgent","os","android","ios","inherits","Super","protos","staticProtos","child","__super__","nextTick","cb","guid","counter","prefix","random","formatSize","pointLength","units","unit","toFixed","Base","findHandlers","arr","grep","handler","_cb","ctx","eachEvent","events","iterator","separator","triggerHanders","stoped","ctx2","set","me","once","allEvents","installTo","Mediator","Uploader","_init","upload","stop","getFile","getFiles","addFile","addFiles","removeFile","cancelFile","skipFile","retry","isInProgress","makeThumb","md5File","getDimension","addButton","predictRuntimeType","refresh","disable","enable","command","request","state","isPlainObject","getStats","stats","successNum","numOfSuccess","progressNum","numOfProgress","cancelNum","numOfCancel","invalidNum","numOfInvalid","uploadFailNum","numOfUploadFailed","queueNum","numOfQueue","interruptNum","numofInterrupt","isFunction","concat","destroy","Runtime","uid","factories","getFirstKey","getContainer","_container","createElement","overflow","_parent","orders","addRuntime","hasRuntime","runtime","RuntimeClient","standalone","deferred","runtimeReady","done","connectRuntime","cache","__promise","resolve","__client","runtimeOrder","add","__standalone","getRuntime","disconnectRuntime","unshift","getRuid","ruid","RuntimeClent","DragAndDrop","accept","disableGlobalDnd","isArrayLike","nodeType","Widget","uploader","owner","_destroy","IGNORE","widgetClass","invoke","apiName","responseMap","widgets","_widgets","deactives","disableWidgets","klass","_name","widget","rlt","rlts","dfds","pipe","register","widgetProto","unRegister","splice","Dnd","dnd","files","items","FilePaste","paste","Blob","source","ext","start","getSource","File","file","rExt","RegExp","lastModifiedDate","toLocaleString","FilePicker","innerHTML","label","multiple","_refer","_resizeHandler","shimContainer","btn","pick","pickers","addBtn","promises","swf","gid","idPrefix","idSuffix","WUFile","statusText","statusMap","Status","INITED","loaded","msg","setStatus","ERROR","status","prevStatus","getStatus","QUEUED","PROGRESS","COMPLETE","CANCELLED","INTERRUPT","INVALID","Queue","numofDeleted","_queue","_map","STATUS","_fileAdded","fileId","fetch","sts","existing","cur","pre","_onFileStatusChange","curStatus","preStatus","extensions","queue","placeholder","_ruid","_wrapFile","acceptFile","invalid","_addFile","auto","fetchFile","noForceStart","sortFiles","support","Transport","_blob","_formData","formData","_headers","headers","_timeout","clearTimeout","_timer","server","method","withCredentials","fileVal","timeout","sendAsBinary","appendBlob","blob","filename","setRequestHeader","send","abort","getResponse","getResponseAsJson","duration","CuteFile","chunkSize","api","pending","total","chunks","has","block","chunk","cuted","blocks","remaning","prepareNextFile","chunked","chunkRetry","threads","runing","progress","pool","stack","__tick","_tick","transport","_trigged","_promise","startUpload","stopUpload","interrupt","_putback","_popBlock","_tr","_getStats","skipped","always","_nextBlock","_startSend","_getStack","act","preparing","_prepareNextFile","_finishFile","fail","reason","_doSend","percentage","requestAccept","tr","totalPercent","uploaded","reject","_raw","flag","retried","hds","validators","addValidator","removeValidator","count","fileNumLimit","fileSizeLimit","fileSingleSizeLimit","hashString","_char","hash","charCodeAt","mapping","duplicate","__hash","CompBase","Html5Runtime","comp","instance","client","components","FileReader","DataView","webkitSlice","mozSlice","elem","dragEnterHandler","_dragEnterHandler","dragOverHandler","_dragOverHandler","dragLeaveHandler","_dragLeaveHandler","dropHandler","_dropHandler","dndOver","denied","_denied","dataTransfer","dropEffect","parentElem","contains","_leaveTimer","getData","err","_getTansferFiles","results","canAccessFolder","webkitGetAsEntry","isDirectory","_traverseDirectoryTree","entry","isFile","createReader","readEntries","entries","mimeTypes","hander","_pasteHander","allowed","clipboardData","kind","getAsFile","mouseHandler","input","background","callee","cloneNode","replaceChild","_status","_response","binary","fr","xhr","_initAjax","param","FormData","k","_setRequestHeader","overrideMimeType","onload","result","readAsArrayBuffer","_parseJson","_xhr","onprogress","onreadystatechange","XMLHttpRequest","XDomainRequest","lengthComputable","readyState","responseText","JSON","parse","ex","getFlashVersion","plugins","description","ActiveXObject","GetVariable","ex2","FlashRuntime","evt","clients","jsreciver","flashExec","flash","getFlash","_flash","copy","_responseJson","forceURLStream","mimeType","percent","readBody","decodeURIComponent","preset"],"mappings":"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","file":"lyui.extend.min.js","sourcesContent":["/* =========================================================\n * bootstrap-datetimepicker.js\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Improvements by Andrew Rowls\n * Improvements by Sébastien Malot\n * Improvements by Yun Lai\n * Improvements by Kenneth Henderick\n * Improvements by CuGBabyBeaR\n * Improvements by Christian Vaas\n *\n * Project URL : http://www.malot.fr/bootstrap-datetimepicker\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n!function ($) {\n\n  // Add ECMA262-5 Array methods if not supported natively (IE8)\n  if (!('indexOf' in Array.prototype)) {\n    Array.prototype.indexOf = function (find, i) {\n      if (i === undefined) i = 0;\n      if (i < 0) i += this.length;\n      if (i < 0) i = 0;\n      for (var n = this.length; i < n; i++) {\n        if (i in this && this[i] === find) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  }\n\n  function elementOrParentIsFixed (element) {\n    var $element = $(element);\n    var $checkElements = $element.add($element.parents());\n    var isFixed = false;\n    $checkElements.each(function(){\n      if ($(this).css('position') === 'fixed') {\n        isFixed = true;\n        return false;\n      }\n    });\n    return isFixed;\n  }\n\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate(), today.getUTCHours(), today.getUTCMinutes(), today.getUTCSeconds(), 0);\n  }\n\n  // Picker object\n  var Datetimepicker = function (element, options) {\n    var that = this;\n\n    this.element = $(element);\n\n    // add container for single page application\n    // when page switch the datetimepicker div will be removed also.\n    this.container = options.container || 'body';\n\n    this.language = options.language || this.element.data('date-language') || 'en';\n    this.language = this.language in dates ? this.language : this.language.split('-')[0]; // fr-CA fallback to fr\n    this.language = this.language in dates ? this.language : 'en';\n    this.isRTL = dates[this.language].rtl || false;\n    this.formatType = options.formatType || this.element.data('format-type') || 'standard';\n    this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || dates[this.language].format || DPGlobal.getDefaultFormat(this.formatType, 'input'), this.formatType);\n    this.isInline = false;\n    this.isVisible = false;\n    this.isInput = this.element.is('input');\n    this.fontAwesome = options.fontAwesome || this.element.data('font-awesome') || false;\n\n    this.bootcssVer = options.bootcssVer || (this.isInput ? (this.element.is('.form-control') ? 3 : 2) : ( this.bootcssVer = this.element.is('.input-group') ? 3 : 2 ));\n\n    this.component = this.element.is('.date') ? ( this.bootcssVer == 3 ? this.element.find('.input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-calendar, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o').parent() : this.element.find('.add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar .fa-calendar .fa-clock-o').parent()) : false;\n    this.componentReset = this.element.is('.date') ? ( this.bootcssVer == 3 ? this.element.find('.input-group-addon .glyphicon-remove, .input-group-addon .fa-times').parent():this.element.find('.add-on .icon-remove, .add-on .fa-times').parent()) : false;\n    this.hasInput = this.component && this.element.find('input').length;\n    if (this.component && this.component.length === 0) {\n      this.component = false;\n    }\n    this.linkField = options.linkField || this.element.data('link-field') || false;\n    this.linkFormat = DPGlobal.parseFormat(options.linkFormat || this.element.data('link-format') || DPGlobal.getDefaultFormat(this.formatType, 'link'), this.formatType);\n    this.minuteStep = options.minuteStep || this.element.data('minute-step') || 5;\n    this.pickerPosition = options.pickerPosition || this.element.data('picker-position') || 'bottom-right';\n    this.showMeridian = options.showMeridian || this.element.data('show-meridian') || false;\n    this.initialDate = options.initialDate || new Date();\n    this.zIndex = options.zIndex || this.element.data('z-index') || undefined;\n\n    this.icons = {\n      leftArrow: this.fontAwesome ? 'fa-arrow-left' : (this.bootcssVer === 3 ? 'glyphicon-arrow-left' : 'icon-arrow-left'),\n      rightArrow: this.fontAwesome ? 'fa-arrow-right' : (this.bootcssVer === 3 ? 'glyphicon-arrow-right' : 'icon-arrow-right')\n    }\n    this.icontype = this.fontAwesome ? 'fa' : 'glyphicon';\n\n    this._attachEvents();\n\n    this.clickedOutside = function (e) {\n        // Clicked outside the datetimepicker, hide it\n        if ($(e.target).closest('.datetimepicker').length === 0) {\n            that.hide();\n        }\n    }\n\n    this.formatViewType = 'datetime';\n    if ('formatViewType' in options) {\n      this.formatViewType = options.formatViewType;\n    } else if ('formatViewType' in this.element.data()) {\n      this.formatViewType = this.element.data('formatViewType');\n    }\n\n    this.minView = 0;\n    if ('minView' in options) {\n      this.minView = options.minView;\n    } else if ('minView' in this.element.data()) {\n      this.minView = this.element.data('min-view');\n    }\n    this.minView = DPGlobal.convertViewMode(this.minView);\n\n    this.maxView = DPGlobal.modes.length - 1;\n    if ('maxView' in options) {\n      this.maxView = options.maxView;\n    } else if ('maxView' in this.element.data()) {\n      this.maxView = this.element.data('max-view');\n    }\n    this.maxView = DPGlobal.convertViewMode(this.maxView);\n\n    this.wheelViewModeNavigation = false;\n    if ('wheelViewModeNavigation' in options) {\n      this.wheelViewModeNavigation = options.wheelViewModeNavigation;\n    } else if ('wheelViewModeNavigation' in this.element.data()) {\n      this.wheelViewModeNavigation = this.element.data('view-mode-wheel-navigation');\n    }\n\n    this.wheelViewModeNavigationInverseDirection = false;\n\n    if ('wheelViewModeNavigationInverseDirection' in options) {\n      this.wheelViewModeNavigationInverseDirection = options.wheelViewModeNavigationInverseDirection;\n    } else if ('wheelViewModeNavigationInverseDirection' in this.element.data()) {\n      this.wheelViewModeNavigationInverseDirection = this.element.data('view-mode-wheel-navigation-inverse-dir');\n    }\n\n    this.wheelViewModeNavigationDelay = 100;\n    if ('wheelViewModeNavigationDelay' in options) {\n      this.wheelViewModeNavigationDelay = options.wheelViewModeNavigationDelay;\n    } else if ('wheelViewModeNavigationDelay' in this.element.data()) {\n      this.wheelViewModeNavigationDelay = this.element.data('view-mode-wheel-navigation-delay');\n    }\n\n    this.startViewMode = 2;\n    if ('startView' in options) {\n      this.startViewMode = options.startView;\n    } else if ('startView' in this.element.data()) {\n      this.startViewMode = this.element.data('start-view');\n    }\n    this.startViewMode = DPGlobal.convertViewMode(this.startViewMode);\n    this.viewMode = this.startViewMode;\n\n    this.viewSelect = this.minView;\n    if ('viewSelect' in options) {\n      this.viewSelect = options.viewSelect;\n    } else if ('viewSelect' in this.element.data()) {\n      this.viewSelect = this.element.data('view-select');\n    }\n    this.viewSelect = DPGlobal.convertViewMode(this.viewSelect);\n\n    this.forceParse = true;\n    if ('forceParse' in options) {\n      this.forceParse = options.forceParse;\n    } else if ('dateForceParse' in this.element.data()) {\n      this.forceParse = this.element.data('date-force-parse');\n    }\n    var template = this.bootcssVer === 3 ? DPGlobal.templateV3 : DPGlobal.template;\n    while (template.indexOf('{iconType}') !== -1) {\n      template = template.replace('{iconType}', this.icontype);\n    }\n    while (template.indexOf('{leftArrow}') !== -1) {\n      template = template.replace('{leftArrow}', this.icons.leftArrow);\n    }\n    while (template.indexOf('{rightArrow}') !== -1) {\n      template = template.replace('{rightArrow}', this.icons.rightArrow);\n    }\n    this.picker = $(template)\n      .appendTo(this.isInline ? this.element : this.container) // 'body')\n      .on({\n        click:     $.proxy(this.click, this),\n        mousedown: $.proxy(this.mousedown, this)\n      });\n\n    if (this.wheelViewModeNavigation) {\n      if ($.fn.mousewheel) {\n        this.picker.on({mousewheel: $.proxy(this.mousewheel, this)});\n      } else {\n        console.log('Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option');\n      }\n    }\n\n    if (this.isInline) {\n      this.picker.addClass('datetimepicker-inline');\n    } else {\n      this.picker.addClass('datetimepicker-dropdown-' + this.pickerPosition + ' dropdown-menu');\n    }\n    if (this.isRTL) {\n      this.picker.addClass('datetimepicker-rtl');\n      var selector = this.bootcssVer === 3 ? '.prev span, .next span' : '.prev i, .next i';\n      this.picker.find(selector).toggleClass(this.icons.leftArrow + ' ' + this.icons.rightArrow);\n    }\n\n    $(document).on('mousedown', this.clickedOutside);\n\n    this.autoclose = false;\n    if ('autoclose' in options) {\n      this.autoclose = options.autoclose;\n    } else if ('dateAutoclose' in this.element.data()) {\n      this.autoclose = this.element.data('date-autoclose');\n    }\n\n    this.keyboardNavigation = true;\n    if ('keyboardNavigation' in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if ('dateKeyboardNavigation' in this.element.data()) {\n      this.keyboardNavigation = this.element.data('date-keyboard-navigation');\n    }\n\n    this.todayBtn = (options.todayBtn || this.element.data('date-today-btn') || false);\n    this.todayHighlight = (options.todayHighlight || this.element.data('date-today-highlight') || false);\n\n    this.weekStart = ((options.weekStart || this.element.data('date-weekstart') || dates[this.language].weekStart || 0) % 7);\n    this.weekEnd = ((this.weekStart + 6) % 7);\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.setStartDate(options.startDate || this.element.data('date-startdate'));\n    this.setEndDate(options.endDate || this.element.data('date-enddate'));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\n    this.setMinutesDisabled(options.minutesDisabled || this.element.data('date-minute-disabled'));\n    this.setHoursDisabled(options.hoursDisabled || this.element.data('date-hour-disabled'));\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n  };\n\n  Datetimepicker.prototype = {\n    constructor: Datetimepicker,\n\n    _events:       [],\n    _attachEvents: function () {\n      this._detachEvents();\n      if (this.isInput) { // single input\n        this._events = [\n          [this.element, {\n            focus:   $.proxy(this.show, this),\n            keyup:   $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this)\n          }]\n        ];\n      }\n      else if (this.component && this.hasInput) { // component: input + button\n        this._events = [\n          // For components that are not readonly, allow keyboard nav\n          [this.element.find('input'), {\n            focus:   $.proxy(this.show, this),\n            keyup:   $.proxy(this.update, this),\n            keydown: $.proxy(this.keydown, this)\n          }],\n          [this.component, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n        if (this.componentReset) {\n          this._events.push([\n            this.componentReset,\n            {click: $.proxy(this.reset, this)}\n          ]);\n        }\n      }\n      else if (this.element.is('div')) {  // inline datetimepicker\n        this.isInline = true;\n      }\n      else {\n        this._events = [\n          [this.element, {\n            click: $.proxy(this.show, this)\n          }]\n        ];\n      }\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n\n    _detachEvents: function () {\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n      this._events = [];\n    },\n\n    show: function (e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      if (this.forceParse) {\n        this.update();\n      }\n      this.place();\n      $(window).on('resize', $.proxy(this.place, this));\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      this.isVisible = true;\n      this.element.trigger({\n        type: 'show',\n        date: this.date\n      });\n    },\n\n    hide: function (e) {\n      if (!this.isVisible) return;\n      if (this.isInline) return;\n      this.picker.hide();\n      $(window).off('resize', this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n      if (!this.isInput) {\n        $(document).off('mousedown', this.hide);\n      }\n\n      if (\n        this.forceParse &&\n          (\n            this.isInput && this.element.val() ||\n              this.hasInput && this.element.find('input').val()\n            )\n        )\n        this.setValue();\n      this.isVisible = false;\n      this.element.trigger({\n        type: 'hide',\n        date: this.date\n      });\n    },\n\n    remove: function () {\n      this._detachEvents();\n      $(document).off('mousedown', this.clickedOutside);\n      this.picker.remove();\n      delete this.picker;\n      delete this.element.data().datetimepicker;\n    },\n\n    getDate: function () {\n      var d = this.getUTCDate();\n      return new Date(d.getTime() + (d.getTimezoneOffset() * 60000));\n    },\n\n    getUTCDate: function () {\n      return this.date;\n    },\n\n    setDate: function (d) {\n      this.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset() * 60000)));\n    },\n\n    setUTCDate: function (d) {\n      if (d >= this.startDate && d <= this.endDate) {\n        this.date = d;\n        this.setValue();\n        this.viewDate = this.date;\n        this.fill();\n      } else {\n        this.element.trigger({\n          type:      'outOfRange',\n          date:      d,\n          startDate: this.startDate,\n          endDate:   this.endDate\n        });\n      }\n    },\n\n    setFormat: function (format) {\n      this.format = DPGlobal.parseFormat(format, this.formatType);\n      var element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n      if (element && element.val()) {\n        this.setValue();\n      }\n    },\n\n    setValue: function () {\n      var formatted = this.getFormattedDate();\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find('input').val(formatted);\n        }\n        this.element.data('date', formatted);\n      } else {\n        this.element.val(formatted);\n      }\n      if (this.linkField) {\n        $('#' + this.linkField).val(this.getFormattedDate(this.linkFormat));\n      }\n    },\n\n    getFormattedDate: function (format) {\n      if (format == undefined) format = this.format;\n      return DPGlobal.formatDate(this.date, format, this.language, this.formatType);\n    },\n\n    setStartDate: function (startDate) {\n      this.startDate = startDate || -Infinity;\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language, this.formatType);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setEndDate: function (endDate) {\n      this.endDate = endDate || Infinity;\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language, this.formatType);\n      }\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setDaysOfWeekDisabled: function (daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setMinutesDisabled: function (minutesDisabled) {\n      this.minutesDisabled = minutesDisabled || [];\n      if (!$.isArray(this.minutesDisabled)) {\n        this.minutesDisabled = this.minutesDisabled.split(/,\\s*/);\n      }\n      this.minutesDisabled = $.map(this.minutesDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    setHoursDisabled: function (hoursDisabled) {\n      this.hoursDisabled = hoursDisabled || [];\n      if (!$.isArray(this.hoursDisabled)) {\n        this.hoursDisabled = this.hoursDisabled.split(/,\\s*/);\n      }\n      this.hoursDisabled = $.map(this.hoursDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n\n    place: function () {\n      if (this.isInline) return;\n\n      if (!this.zIndex) {\n        var index_highest = 0;\n        $('div').each(function () {\n          var index_current = parseInt($(this).css('zIndex'), 10);\n          if (index_current > index_highest) {\n            index_highest = index_current;\n          }\n        });\n        this.zIndex = index_highest + 10;\n      }\n\n      var offset, top, left, containerOffset;\n      if (this.container instanceof $) {\n        containerOffset = this.container.offset();\n      } else {\n        containerOffset = $(this.container).offset();\n      }\n\n      if (this.component) {\n        offset = this.component.offset();\n        left = offset.left;\n        if (this.pickerPosition == 'bottom-left' || this.pickerPosition == 'top-left') {\n          left += this.component.outerWidth() - this.picker.outerWidth();\n        }\n      } else {\n        offset = this.element.offset();\n        left = offset.left;\n      }\n\n      var bodyWidth = document.body.clientWidth || window.innerWidth;\n      if (left + 220 > bodyWidth) {\n        left = bodyWidth - 220;\n      }\n\n      if (this.pickerPosition == 'top-left' || this.pickerPosition == 'top-right') {\n        top = offset.top - this.picker.outerHeight();\n      } else {\n        top = offset.top + this.height;\n      }\n\n      top = top - containerOffset.top;\n      left = left - containerOffset.left;\n\n      this.picker.css({\n        top:    top,\n        left:   left,\n        zIndex: this.zIndex\n      });\n    },\n\n    update: function () {\n      var date, fromArgs = false;\n      if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      } else {\n        date = (this.isInput ? this.element.val() : this.element.find('input').val()) || this.element.data('date') || this.initialDate;\n        if (typeof date == 'string' || date instanceof String) {\n          date = date.replace(/^\\s+|\\s+$/g,'');\n        }\n      }\n\n      if (!date) {\n        date = new Date();\n        fromArgs = false;\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language, this.formatType);\n\n      if (fromArgs) this.setValue();\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate);\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate);\n      } else {\n        this.viewDate = new Date(this.date);\n      }\n      this.fill();\n    },\n\n    fillDow: function () {\n      var dowCnt = this.weekStart,\n        html = '<tr>';\n      while (dowCnt < this.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[(dowCnt++) % 7] + '</th>';\n      }\n      html += '</tr>';\n      this.picker.find('.datetimepicker-days thead').append(html);\n    },\n\n    fillMonths: function () {\n      var html = '',\n        i = 0;\n      while (i < 12) {\n        html += '<span class=\"month\">' + dates[this.language].monthsShort[i++] + '</span>';\n      }\n      this.picker.find('.datetimepicker-months td').html(html);\n    },\n\n    fill: function () {\n      if (this.date == null || this.viewDate == null) {\n        return;\n      }\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        dayMonth = d.getUTCDate(),\n        hours = d.getUTCHours(),\n        minutes = d.getUTCMinutes(),\n        startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n        startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() + 1 : -Infinity,\n        endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n        endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() + 1 : Infinity,\n        currentDate = (new UTCDate(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate())).valueOf(),\n        today = new Date();\n      this.picker.find('.datetimepicker-days thead th:eq(1)')\n        .text(dates[this.language].months[month] + ' ' + year);\n      if (this.formatViewType == 'time') {\n        var formatted = this.getFormattedDate();\n        this.picker.find('.datetimepicker-hours thead th:eq(1)').text(formatted);\n        this.picker.find('.datetimepicker-minutes thead th:eq(1)').text(formatted);\n      } else {\n        this.picker.find('.datetimepicker-hours thead th:eq(1)')\n          .text(dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\n        this.picker.find('.datetimepicker-minutes thead th:eq(1)')\n          .text(dayMonth + ' ' + dates[this.language].months[month] + ' ' + year);\n      }\n      this.picker.find('tfoot th.today')\n        .text(dates[this.language].today)\n        .toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      /*var prevMonth = UTCDate(year, month, 0,0,0,0,0);\n       prevMonth.setUTCDate(prevMonth.getDate() - (prevMonth.getUTCDay() - this.weekStart + 7)%7);*/\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n        day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push('<tr>');\n        }\n        clsName = '';\n        if (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\n          clsName += ' old';\n        } else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\n          clsName += ' new';\n        }\n        // Compare internal UTC date with local today, not UTC today\n        if (this.todayHighlight &&\n          prevMonth.getUTCFullYear() == today.getFullYear() &&\n          prevMonth.getUTCMonth() == today.getMonth() &&\n          prevMonth.getUTCDate() == today.getDate()) {\n          clsName += ' today';\n        }\n        if (prevMonth.valueOf() == currentDate) {\n          clsName += ' active';\n        }\n        if ((prevMonth.valueOf() + 86400000) <= this.startDate || prevMonth.valueOf() > this.endDate ||\n          $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1) {\n          clsName += ' disabled';\n        }\n        html.push('<td class=\"day' + clsName + '\">' + prevMonth.getUTCDate() + '</td>');\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push('</tr>');\n        }\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n      this.picker.find('.datetimepicker-days tbody').empty().append(html.join(''));\n\n      html = [];\n      var txt = '', meridian = '', meridianOld = '';\n      var hoursDisabled = this.hoursDisabled || [];\n      for (var i = 0; i < 24; i++) {\n        if (hoursDisabled.indexOf(i) !== -1) continue;\n        var actual = UTCDate(year, month, dayMonth, i);\n        clsName = '';\n        // We want the previous hour for the startDate\n        if ((actual.valueOf() + 3600000) <= this.startDate || actual.valueOf() > this.endDate) {\n          clsName += ' disabled';\n        } else if (hours == i) {\n          clsName += ' active';\n        }\n        if (this.showMeridian && dates[this.language].meridiem.length == 2) {\n          meridian = (i < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\n          if (meridian != meridianOld) {\n            if (meridianOld != '') {\n              html.push('</fieldset>');\n            }\n            html.push('<fieldset class=\"hour\"><legend>' + meridian.toUpperCase() + '</legend>');\n          }\n          meridianOld = meridian;\n          txt = (i % 12 ? i % 12 : 12);\n          html.push('<span class=\"hour' + clsName + ' hour_' + (i < 12 ? 'am' : 'pm') + '\">' + txt + '</span>');\n          if (i == 23) {\n            html.push('</fieldset>');\n          }\n        } else {\n          txt = i + ':00';\n          html.push('<span class=\"hour' + clsName + '\">' + txt + '</span>');\n        }\n      }\n      this.picker.find('.datetimepicker-hours td').html(html.join(''));\n\n      html = [];\n      txt = '', meridian = '', meridianOld = '';\n      var minutesDisabled = this.minutesDisabled || [];\n      for (var i = 0; i < 60; i += this.minuteStep) {\n        if (minutesDisabled.indexOf(i) !== -1) continue;\n        var actual = UTCDate(year, month, dayMonth, hours, i, 0);\n        clsName = '';\n        if (actual.valueOf() < this.startDate || actual.valueOf() > this.endDate) {\n          clsName += ' disabled';\n        } else if (Math.floor(minutes / this.minuteStep) == Math.floor(i / this.minuteStep)) {\n          clsName += ' active';\n        }\n        if (this.showMeridian && dates[this.language].meridiem.length == 2) {\n          meridian = (hours < 12 ? dates[this.language].meridiem[0] : dates[this.language].meridiem[1]);\n          if (meridian != meridianOld) {\n            if (meridianOld != '') {\n              html.push('</fieldset>');\n            }\n            html.push('<fieldset class=\"minute\"><legend>' + meridian.toUpperCase() + '</legend>');\n          }\n          meridianOld = meridian;\n          txt = (hours % 12 ? hours % 12 : 12);\n          //html.push('<span class=\"minute'+clsName+' minute_'+(hours<12?'am':'pm')+'\">'+txt+'</span>');\n          html.push('<span class=\"minute' + clsName + '\">' + txt + ':' + (i < 10 ? '0' + i : i) + '</span>');\n          if (i == 59) {\n            html.push('</fieldset>');\n          }\n        } else {\n          txt = i + ':00';\n          //html.push('<span class=\"hour'+clsName+'\">'+txt+'</span>');\n          html.push('<span class=\"minute' + clsName + '\">' + hours + ':' + (i < 10 ? '0' + i : i) + '</span>');\n        }\n      }\n      this.picker.find('.datetimepicker-minutes td').html(html.join(''));\n\n      var currentYear = this.date.getUTCFullYear();\n      var months = this.picker.find('.datetimepicker-months')\n        .find('th:eq(1)')\n        .text(year)\n        .end()\n        .find('span').removeClass('active');\n      if (currentYear == year) {\n        // getUTCMonths() returns 0 based, and we need to select the next one\n                // To cater bootstrap 2 we don't need to select the next one\n                var offset = months.length - 12;\n        months.eq(this.date.getUTCMonth() + offset).addClass('active');\n      }\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n      if (year == startYear) {\n        months.slice(0, startMonth + 1).addClass('disabled');\n      }\n      if (year == endYear) {\n        months.slice(endMonth).addClass('disabled');\n      }\n\n      html = '';\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find('.datetimepicker-years')\n        .find('th:eq(1)')\n        .text(year + '-' + (year + 9))\n        .end()\n        .find('td');\n      year -= 1;\n      for (var i = -1; i < 11; i++) {\n        html += '<span class=\"year' + (i == -1 || i == 10 ? ' old' : '') + (currentYear == year ? ' active' : '') + (year < startYear || year > endYear ? ' disabled' : '') + '\">' + year + '</span>';\n        year += 1;\n      }\n      yearCont.html(html);\n      this.place();\n    },\n\n    updateNavArrows: function () {\n      var d = new Date(this.viewDate),\n        year = d.getUTCFullYear(),\n        month = d.getUTCMonth(),\n        day = d.getUTCDate(),\n        hour = d.getUTCHours();\n      switch (this.viewMode) {\n        case 0:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\n            && month <= this.startDate.getUTCMonth()\n            && day <= this.startDate.getUTCDate()\n            && hour <= this.startDate.getUTCHours()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\n            && month >= this.endDate.getUTCMonth()\n            && day >= this.endDate.getUTCDate()\n            && hour >= this.endDate.getUTCHours()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n        case 1:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\n            && month <= this.startDate.getUTCMonth()\n            && day <= this.startDate.getUTCDate()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\n            && month >= this.endDate.getUTCMonth()\n            && day >= this.endDate.getUTCDate()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n        case 2:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()\n            && month <= this.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()\n            && month >= this.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n        case 3:\n        case 4:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n            this.picker.find('.prev').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.prev').css({visibility: 'visible'});\n          }\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n            this.picker.find('.next').css({visibility: 'hidden'});\n          } else {\n            this.picker.find('.next').css({visibility: 'visible'});\n          }\n          break;\n      }\n    },\n\n    mousewheel: function (e) {\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (this.wheelPause) {\n        return;\n      }\n\n      this.wheelPause = true;\n\n      var originalEvent = e.originalEvent;\n\n      var delta = originalEvent.wheelDelta;\n\n      var mode = delta > 0 ? 1 : (delta === 0) ? 0 : -1;\n\n      if (this.wheelViewModeNavigationInverseDirection) {\n        mode = -mode;\n      }\n\n      this.showMode(mode);\n\n      setTimeout($.proxy(function () {\n\n        this.wheelPause = false\n\n      }, this), this.wheelViewModeNavigationDelay);\n\n    },\n\n    click: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th, legend');\n      if (target.is('.' + this.icontype)) {\n        target = $(target).parent().closest('span, td, th, legend');\n      }\n      if (target.length == 1) {\n        if (target.is('.disabled')) {\n          this.element.trigger({\n            type:      'outOfRange',\n            date:      this.viewDate,\n            startDate: this.startDate,\n            endDate:   this.endDate\n          });\n          return;\n        }\n        switch (target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch (target[0].className) {\n              case 'switch':\n                this.showMode(1);\n                break;\n              case 'prev':\n              case 'next':\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == 'prev' ? -1 : 1);\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveHour(this.viewDate, dir);\n                    break;\n                  case 1:\n                    this.viewDate = this.moveDate(this.viewDate, dir);\n                    break;\n                  case 2:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    break;\n                  case 3:\n                  case 4:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    break;\n                }\n                this.fill();\n                this.element.trigger({\n                  type:      target[0].className + ':' + this.convertViewModeText(this.viewMode),\n                  date:      this.viewDate,\n                  startDate: this.startDate,\n                  endDate:   this.endDate\n                });\n                break;\n              case 'today':\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), 0);\n\n                // Respect startDate and endDate.\n                if (date < this.startDate) date = this.startDate;\n                else if (date > this.endDate) date = this.endDate;\n\n                this.viewMode = this.startViewMode;\n                this.showMode(0);\n                this._setDate(date);\n                this.fill();\n                if (this.autoclose) {\n                  this.hide();\n                }\n                break;\n            }\n            break;\n          case 'span':\n            if (!target.is('.disabled')) {\n              var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                day = this.viewDate.getUTCDate(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n\n              if (target.is('.month')) {\n                this.viewDate.setUTCDate(1);\n                month = target.parent().find('span').index(target);\n                day = this.viewDate.getUTCDate();\n                this.viewDate.setUTCMonth(month);\n                this.element.trigger({\n                  type: 'changeMonth',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 3) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.year')) {\n                this.viewDate.setUTCDate(1);\n                year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this.element.trigger({\n                  type: 'changeYear',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 4) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.hour')) {\n                hours = parseInt(target.text(), 10) || 0;\n                if (target.hasClass('hour_am') || target.hasClass('hour_pm')) {\n                  if (hours == 12 && target.hasClass('hour_am')) {\n                    hours = 0;\n                  } else if (hours != 12 && target.hasClass('hour_pm')) {\n                    hours += 12;\n                  }\n                }\n                this.viewDate.setUTCHours(hours);\n                this.element.trigger({\n                  type: 'changeHour',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 1) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              } else if (target.is('.minute')) {\n                minutes = parseInt(target.text().substr(target.text().indexOf(':') + 1), 10) || 0;\n                this.viewDate.setUTCMinutes(minutes);\n                this.element.trigger({\n                  type: 'changeMinute',\n                  date: this.viewDate\n                });\n                if (this.viewSelect >= 0) {\n                  this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n                }\n              }\n              if (this.viewMode != 0) {\n                var oldViewMode = this.viewMode;\n                this.showMode(-1);\n                this.fill();\n                if (oldViewMode == this.viewMode && this.autoclose) {\n                  this.hide();\n                }\n              } else {\n                this.fill();\n                if (this.autoclose) {\n                  this.hide();\n                }\n              }\n            }\n            break;\n          case 'td':\n            if (target.is('.day') && !target.is('.disabled')) {\n              var day = parseInt(target.text(), 10) || 1;\n              var year = this.viewDate.getUTCFullYear(),\n                month = this.viewDate.getUTCMonth(),\n                hours = this.viewDate.getUTCHours(),\n                minutes = this.viewDate.getUTCMinutes(),\n                seconds = this.viewDate.getUTCSeconds();\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month == 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n              this.viewDate.setUTCFullYear(year);\n              this.viewDate.setUTCMonth(month, day);\n              this.element.trigger({\n                type: 'changeDay',\n                date: this.viewDate\n              });\n              if (this.viewSelect >= 2) {\n                this._setDate(UTCDate(year, month, day, hours, minutes, seconds, 0));\n              }\n            }\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n            if (oldViewMode == this.viewMode && this.autoclose) {\n              this.hide();\n            }\n            break;\n        }\n      }\n    },\n\n    _setDate: function (date, which) {\n      if (!which || which == 'date')\n        this.date = date;\n      if (!which || which == 'view')\n        this.viewDate = date;\n      this.fill();\n      this.setValue();\n      var element;\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n      if (element) {\n        element.change();\n        if (this.autoclose && (!which || which == 'date')) {\n          //this.hide();\n        }\n      }\n      this.element.trigger({\n        type: 'changeDate',\n        date: this.date\n      });\n      if(date == null)\n        this.date = this.viewDate;\n    },\n\n    moveMinute: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf());\n      //dir = dir > 0 ? 1 : -1;\n      new_date.setUTCMinutes(new_date.getUTCMinutes() + (dir * this.minuteStep));\n      return new_date;\n    },\n\n    moveHour: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf());\n      //dir = dir > 0 ? 1 : -1;\n      new_date.setUTCHours(new_date.getUTCHours() + dir);\n      return new_date;\n    },\n\n    moveDate: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf());\n      //dir = dir > 0 ? 1 : -1;\n      new_date.setUTCDate(new_date.getUTCDate() + dir);\n      return new_date;\n    },\n\n    moveMonth: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n        day = new_date.getUTCDate(),\n        month = new_date.getUTCMonth(),\n        mag = Math.abs(dir),\n        new_month, test;\n      dir = dir > 0 ? 1 : -1;\n      if (mag == 1) {\n        test = dir == -1\n          // If going back one month, make sure month is not current month\n          // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n          ? function () {\n          return new_date.getUTCMonth() == month;\n        }\n          // If going forward one month, make sure month is as expected\n          // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n          : function () {\n          return new_date.getUTCMonth() != new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month);\n        // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n        if (new_month < 0 || new_month > 11)\n          new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++)\n          // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n          new_date = this.moveMonth(new_date, dir);\n        // ...then reset the day, keeping it in the new month\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n        test = function () {\n          return new_month != new_date.getUTCMonth();\n        };\n      }\n      // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n      return new_date;\n    },\n\n    moveYear: function (date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n\n    dateWithinRange: function (date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n\n    keydown: function (e) {\n      if (this.picker.is(':not(:visible)')) {\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\n          this.show();\n        return;\n      }\n      var dateChanged = false,\n        dir, day, month,\n        newDate, newViewDate;\n      switch (e.keyCode) {\n        case 27: // escape\n          this.hide();\n          e.preventDefault();\n          break;\n        case 37: // left\n        case 39: // right\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode == 37 ? -1 : 1;\n          viewMode = this.viewMode;\n          if (e.ctrlKey) {\n            viewMode += 2;\n          } else if (e.shiftKey) {\n            viewMode += 1;\n          }\n          if (viewMode == 4) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (viewMode == 3) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else if (viewMode == 2) {\n            newDate = this.moveDate(this.date, dir);\n            newViewDate = this.moveDate(this.viewDate, dir);\n          } else if (viewMode == 1) {\n            newDate = this.moveHour(this.date, dir);\n            newViewDate = this.moveHour(this.viewDate, dir);\n          } else if (viewMode == 0) {\n            newDate = this.moveMinute(this.date, dir);\n            newViewDate = this.moveMinute(this.viewDate, dir);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n          break;\n        case 38: // up\n        case 40: // down\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode == 38 ? -1 : 1;\n          viewMode = this.viewMode;\n          if (e.ctrlKey) {\n            viewMode += 2;\n          } else if (e.shiftKey) {\n            viewMode += 1;\n          }\n          if (viewMode == 4) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (viewMode == 3) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else if (viewMode == 2) {\n            newDate = this.moveDate(this.date, dir * 7);\n            newViewDate = this.moveDate(this.viewDate, dir * 7);\n          } else if (viewMode == 1) {\n            if (this.showMeridian) {\n              newDate = this.moveHour(this.date, dir * 6);\n              newViewDate = this.moveHour(this.viewDate, dir * 6);\n            } else {\n              newDate = this.moveHour(this.date, dir * 4);\n              newViewDate = this.moveHour(this.viewDate, dir * 4);\n            }\n          } else if (viewMode == 0) {\n            newDate = this.moveMinute(this.date, dir * 4);\n            newViewDate = this.moveMinute(this.viewDate, dir * 4);\n          }\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n          break;\n        case 13: // enter\n          if (this.viewMode != 0) {\n            var oldViewMode = this.viewMode;\n            this.showMode(-1);\n            this.fill();\n            if (oldViewMode == this.viewMode && this.autoclose) {\n              this.hide();\n            }\n          } else {\n            this.fill();\n            if (this.autoclose) {\n              this.hide();\n            }\n          }\n          e.preventDefault();\n          break;\n        case 9: // tab\n          this.hide();\n          break;\n      }\n      if (dateChanged) {\n        var element;\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find('input');\n        }\n        if (element) {\n          element.change();\n        }\n        this.element.trigger({\n          type: 'changeDate',\n          date: this.date\n        });\n      }\n    },\n\n    showMode: function (dir) {\n      if (dir) {\n        var newViewMode = Math.max(0, Math.min(DPGlobal.modes.length - 1, this.viewMode + dir));\n        if (newViewMode >= this.minView && newViewMode <= this.maxView) {\n          this.element.trigger({\n            type:        'changeMode',\n            date:        this.viewDate,\n            oldViewMode: this.viewMode,\n            newViewMode: newViewMode\n          });\n\n          this.viewMode = newViewMode;\n        }\n      }\n      /*\n       vitalets: fixing bug of very special conditions:\n       jquery 1.7.1 + webkit + show inline datetimepicker in bootstrap popover.\n       Method show() does not set display css correctly and datetimepicker is not shown.\n       Changed to .css('display', 'block') solve the problem.\n       See https://github.com/vitalets/x-editable/issues/37\n\n       In jquery 1.7.2+ everything works fine.\n       */\n      //this.picker.find('>div').hide().filter('.datetimepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n      this.picker.find('>div').hide().filter('.datetimepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n      this.updateNavArrows();\n    },\n\n    reset: function (e) {\n      this._setDate(null, 'date');\n    },\n\n    convertViewModeText:  function (viewMode) {\n      switch (viewMode) {\n        case 4:\n          return 'decade';\n        case 3:\n          return 'year';\n        case 2:\n          return 'month';\n        case 1:\n          return 'day';\n        case 0:\n          return 'hour';\n      }\n    }\n  };\n\n  var old = $.fn.datetimepicker;\n  $.fn.datetimepicker = function (option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    var internal_return;\n    this.each(function () {\n      var $this = $(this),\n        data = $this.data('datetimepicker'),\n        options = typeof option == 'object' && option;\n      if (!data) {\n        $this.data('datetimepicker', (data = new Datetimepicker(this, $.extend({}, $.fn.datetimepicker.defaults, options))));\n      }\n      if (typeof option == 'string' && typeof data[option] == 'function') {\n        internal_return = data[option].apply(data, args);\n        if (internal_return !== undefined) {\n          return false;\n        }\n      }\n    });\n    if (internal_return !== undefined)\n      return internal_return;\n    else\n      return this;\n  };\n\n  $.fn.datetimepicker.defaults = {\n  };\n  $.fn.datetimepicker.Constructor = Datetimepicker;\n  var dates = $.fn.datetimepicker.dates = {\n    en: {\n      days:        ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n      daysShort:   ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],\n      daysMin:     ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n      months:      ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n      monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      meridiem:    ['am', 'pm'],\n      suffix:      ['st', 'nd', 'rd', 'th'],\n      today:       'Today'\n    }\n  };\n\n  var DPGlobal = {\n    modes:            [\n      {\n        clsName: 'minutes',\n        navFnc:  'Hours',\n        navStep: 1\n      },\n      {\n        clsName: 'hours',\n        navFnc:  'Date',\n        navStep: 1\n      },\n      {\n        clsName: 'days',\n        navFnc:  'Month',\n        navStep: 1\n      },\n      {\n        clsName: 'months',\n        navFnc:  'FullYear',\n        navStep: 1\n      },\n      {\n        clsName: 'years',\n        navFnc:  'FullYear',\n        navStep: 10\n      }\n    ],\n    isLeapYear:       function (year) {\n      return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0))\n    },\n    getDaysInMonth:   function (year, month) {\n      return [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month]\n    },\n    getDefaultFormat: function (type, field) {\n      if (type == 'standard') {\n        if (field == 'input')\n          return 'yyyy-mm-dd hh:ii';\n        else\n          return 'yyyy-mm-dd hh:ii:ss';\n      } else if (type == 'php') {\n        if (field == 'input')\n          return 'Y-m-d H:i';\n        else\n          return 'Y-m-d H:i:s';\n      } else {\n        throw new Error('Invalid format type.');\n      }\n    },\n    validParts: function (type) {\n      if (type == 'standard') {\n        return /hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g;\n      } else if (type == 'php') {\n        return /[dDjlNwzFmMnStyYaABgGhHis]/g;\n      } else {\n        throw new Error('Invalid format type.');\n      }\n    },\n    nonpunctuation: /[^ -\\/:-@\\[-`{-~\\t\\n\\rTZ]+/g,\n    parseFormat: function (format, type) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts(type), '\\0').split('\\0'),\n        parts = format.match(this.validParts(type));\n      if (!separators || !separators.length || !parts || parts.length == 0) {\n        throw new Error('Invalid date format.');\n      }\n      return {separators: separators, parts: parts};\n    },\n    parseDate: function (date, format, language, type) {\n      if (date instanceof Date) {\n        var dateUTC = new Date(date.valueOf() - date.getTimezoneOffset() * 60000);\n        dateUTC.setMilliseconds(0);\n        return dateUTC;\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd', type);\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd hh:ii', type);\n      }\n      if (/^\\d{4}\\-\\d{1,2}\\-\\d{1,2}[T ]\\d{1,2}\\:\\d{1,2}\\:\\d{1,2}[Z]{0,1}$/.test(date)) {\n        format = this.parseFormat('yyyy-mm-dd hh:ii:ss', type);\n      }\n      if (/^[-+]\\d+[dmwy]([\\s,]+[-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([-+]\\d+)([dmwy])/,\n          parts = date.match(/([-+]\\d+)([dmwy])/g),\n          part, dir;\n        date = new Date();\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n          switch (part[2]) {\n            case 'd':\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n            case 'm':\n              date = Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype, date, dir);\n              break;\n            case 'w':\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n            case 'y':\n              date = Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype, date, dir);\n              break;\n          }\n        }\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), 0);\n      }\n      var parts = date && date.toString().match(this.nonpunctuation) || [],\n        date = new Date(0, 0, 0, 0, 0, 0, 0),\n        parsed = {},\n        setters_order = ['hh', 'h', 'ii', 'i', 'ss', 's', 'yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'D', 'DD', 'd', 'dd', 'H', 'HH', 'p', 'P'],\n        setters_map = {\n          hh:   function (d, v) {\n            return d.setUTCHours(v);\n          },\n          h:    function (d, v) {\n            return d.setUTCHours(v);\n          },\n          HH:   function (d, v) {\n            return d.setUTCHours(v == 12 ? 0 : v);\n          },\n          H:    function (d, v) {\n            return d.setUTCHours(v == 12 ? 0 : v);\n          },\n          ii:   function (d, v) {\n            return d.setUTCMinutes(v);\n          },\n          i:    function (d, v) {\n            return d.setUTCMinutes(v);\n          },\n          ss:   function (d, v) {\n            return d.setUTCSeconds(v);\n          },\n          s:    function (d, v) {\n            return d.setUTCSeconds(v);\n          },\n          yyyy: function (d, v) {\n            return d.setUTCFullYear(v);\n          },\n          yy:   function (d, v) {\n            return d.setUTCFullYear(2000 + v);\n          },\n          m:    function (d, v) {\n            v -= 1;\n            while (v < 0) v += 12;\n            v %= 12;\n            d.setUTCMonth(v);\n            while (d.getUTCMonth() != v)\n              if (isNaN(d.getUTCMonth()))\n                return d;\n              else\n                d.setUTCDate(d.getUTCDate() - 1);\n            return d;\n          },\n          d:    function (d, v) {\n            return d.setUTCDate(v);\n          },\n          p:    function (d, v) {\n            return d.setUTCHours(v == 1 ? d.getUTCHours() + 12 : d.getUTCHours());\n          }\n        },\n        val, filtered, part;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      setters_map['P'] = setters_map['p'];\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds());\n      if (parts.length == format.parts.length) {\n        for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = format.parts[i];\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                    p = parts[i].slice(0, m.length);\n                  return m.toLowerCase() == p.toLowerCase();\n                });\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n              case 'p':\n              case 'P':\n                val = $.inArray(parts[i].toLowerCase(), dates[language].meridiem);\n                break;\n            }\n          }\n          parsed[part] = val;\n        }\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s]))\n            setters_map[s](date, parsed[s])\n        }\n      }\n      return date;\n    },\n    formatDate:       function (date, format, language, type) {\n      if (date == null) {\n        return '';\n      }\n      var val;\n      if (type == 'standard') {\n        val = {\n          // year\n          yy:   date.getUTCFullYear().toString().substring(2),\n          yyyy: date.getUTCFullYear(),\n          // month\n          m:    date.getUTCMonth() + 1,\n          M:    dates[language].monthsShort[date.getUTCMonth()],\n          MM:   dates[language].months[date.getUTCMonth()],\n          // day\n          d:    date.getUTCDate(),\n          D:    dates[language].daysShort[date.getUTCDay()],\n          DD:   dates[language].days[date.getUTCDay()],\n          p:    (dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\n          // hour\n          h:    date.getUTCHours(),\n          // minute\n          i:    date.getUTCMinutes(),\n          // second\n          s:    date.getUTCSeconds()\n        };\n\n        if (dates[language].meridiem.length == 2) {\n          val.H = (val.h % 12 == 0 ? 12 : val.h % 12);\n        }\n        else {\n          val.H = val.h;\n        }\n        val.HH = (val.H < 10 ? '0' : '') + val.H;\n        val.P = val.p.toUpperCase();\n        val.hh = (val.h < 10 ? '0' : '') + val.h;\n        val.ii = (val.i < 10 ? '0' : '') + val.i;\n        val.ss = (val.s < 10 ? '0' : '') + val.s;\n        val.dd = (val.d < 10 ? '0' : '') + val.d;\n        val.mm = (val.m < 10 ? '0' : '') + val.m;\n      } else if (type == 'php') {\n        // php format\n        val = {\n          // year\n          y: date.getUTCFullYear().toString().substring(2),\n          Y: date.getUTCFullYear(),\n          // month\n          F: dates[language].months[date.getUTCMonth()],\n          M: dates[language].monthsShort[date.getUTCMonth()],\n          n: date.getUTCMonth() + 1,\n          t: DPGlobal.getDaysInMonth(date.getUTCFullYear(), date.getUTCMonth()),\n          // day\n          j: date.getUTCDate(),\n          l: dates[language].days[date.getUTCDay()],\n          D: dates[language].daysShort[date.getUTCDay()],\n          w: date.getUTCDay(), // 0 -> 6\n          N: (date.getUTCDay() == 0 ? 7 : date.getUTCDay()),       // 1 -> 7\n          S: (date.getUTCDate() % 10 <= dates[language].suffix.length ? dates[language].suffix[date.getUTCDate() % 10 - 1] : ''),\n          // hour\n          a: (dates[language].meridiem.length == 2 ? dates[language].meridiem[date.getUTCHours() < 12 ? 0 : 1] : ''),\n          g: (date.getUTCHours() % 12 == 0 ? 12 : date.getUTCHours() % 12),\n          G: date.getUTCHours(),\n          // minute\n          i: date.getUTCMinutes(),\n          // second\n          s: date.getUTCSeconds()\n        };\n        val.m = (val.n < 10 ? '0' : '') + val.n;\n        val.d = (val.j < 10 ? '0' : '') + val.j;\n        val.A = val.a.toString().toUpperCase();\n        val.h = (val.g < 10 ? '0' : '') + val.g;\n        val.H = (val.G < 10 ? '0' : '') + val.G;\n        val.i = (val.i < 10 ? '0' : '') + val.i;\n        val.s = (val.s < 10 ? '0' : '') + val.s;\n      } else {\n        throw new Error('Invalid format type.');\n      }\n      var date = [],\n        seps = $.extend([], format.separators);\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length) {\n          date.push(seps.shift());\n        }\n        date.push(val[format.parts[i]]);\n      }\n      if (seps.length) {\n        date.push(seps.shift());\n      }\n      return date.join('');\n    },\n    convertViewMode:  function (viewMode) {\n      switch (viewMode) {\n        case 4:\n        case 'decade':\n          viewMode = 4;\n          break;\n        case 3:\n        case 'year':\n          viewMode = 3;\n          break;\n        case 2:\n        case 'month':\n          viewMode = 2;\n          break;\n        case 1:\n        case 'day':\n          viewMode = 1;\n          break;\n        case 0:\n        case 'hour':\n          viewMode = 0;\n          break;\n      }\n\n      return viewMode;\n    },\n    headTemplate: '<thead>' +\n                '<tr>' +\n                '<th class=\"prev\"><i class=\"{iconType} {leftArrow}\"/></th>' +\n                '<th colspan=\"5\" class=\"switch\"></th>' +\n                '<th class=\"next\"><i class=\"{iconType} {rightArrow}\"/></th>' +\n                '</tr>' +\n      '</thead>',\n    headTemplateV3: '<thead>' +\n                '<tr>' +\n                '<th class=\"prev\"><span class=\"{iconType} {leftArrow}\"></span> </th>' +\n                '<th colspan=\"5\" class=\"switch\"></th>' +\n                '<th class=\"next\"><span class=\"{iconType} {rightArrow}\"></span> </th>' +\n                '</tr>' +\n      '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datetimepicker\">' +\n    '<div class=\"datetimepicker-minutes\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-hours\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-days\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplate +\n    '<tbody></tbody>' +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-months\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-years\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplate +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '</div>';\n  DPGlobal.templateV3 = '<div class=\"datetimepicker\">' +\n    '<div class=\"datetimepicker-minutes\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-hours\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-days\">' +\n    '<table class=\" table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    '<tbody></tbody>' +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-months\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '<div class=\"datetimepicker-years\">' +\n    '<table class=\"table-condensed\">' +\n    DPGlobal.headTemplateV3 +\n    DPGlobal.contTemplate +\n    DPGlobal.footTemplate +\n    '</table>' +\n    '</div>' +\n    '</div>';\n  $.fn.datetimepicker.DPGlobal = DPGlobal;\n\n  /* DATETIMEPICKER NO CONFLICT\n   * =================== */\n\n  $.fn.datetimepicker.noConflict = function () {\n    $.fn.datetimepicker = old;\n    return this;\n  };\n\n  /* DATETIMEPICKER DATA-API\n   * ================== */\n\n  $(document).on(\n    'focus.datetimepicker.data-api click.datetimepicker.data-api',\n    '[data-provide=\"datetimepicker\"]',\n    function (e) {\n      var $this = $(this);\n      if ($this.data('datetimepicker')) return;\n      e.preventDefault();\n      // component click requires us to explicitly show it\n      $this.datetimepicker('show');\n    }\n  );\n  $(function () {\n    $('[data-provide=\"datetimepicker-inline\"]').datetimepicker();\n  });\n\n}(window.jQuery);\n\n\n/**\n * Simplified Chinese translation for bootstrap-datetimepicker\n * Yuan Cheung <advanimal@gmail.com>\n */\n;(function($){\n    $.fn.datetimepicker.dates['zh-CN'] = {\n            days: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\", \"星期日\"],\n            daysShort: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\", \"周日\"],\n            daysMin:  [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\n            months: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一\", \"十二\"],\n            monthsShort: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一\", \"十二\"],\n            today: \"今天\",\n            suffix: [],\n            meridiem: [\"上午\", \"下午\"]\n    };\n}(jQuery));\n\n","/*\r\n modify 20160622 jry 598821125@qq.com\r\n Ajax 三级省市联动\r\n http://code.ciaoca.cn/\r\n 日期：2012-7-18\r\n \r\n settings 参数说明\r\n -----\r\n url:省市数据josn文件路径\r\n prov:默认省份\r\n city:默认城市\r\n dist:默认地区（县）\r\n nodata:无数据状态\r\n required:必选项\r\n ------------------------------ */\r\n(function($) {\r\n    $.fn.citySelect = function(settings) {\r\n        if (this.length < 1) {\r\n            return;\r\n        }\r\n        ;\r\n\r\n        // 默认值\r\n        settings = $.extend({\r\n            url: \"\",\r\n            prov: null,\r\n            city: null,\r\n            dist: null,\r\n            nodata: null,\r\n            required: true\r\n        }, settings);\r\n\r\n        var box_obj = this;\r\n        var prov_obj = box_obj.find(\".prov\");\r\n        var city_obj = box_obj.find(\".city\");\r\n        var dist_obj = box_obj.find(\".dist\");\r\n        var prov_val = settings.prov;\r\n        var city_val = settings.city;\r\n        var dist_val = settings.dist;\r\n        var select_prehtml = (settings.required) ? \"\" : \"<option value=''>请选择</option>\";\r\n        var city_json;\r\n\r\n        // 赋值市级函数\r\n        var cityStart = function() {\r\n            var prov_id = prov_obj.get(0).selectedIndex;\r\n            if (!settings.required) {\r\n                prov_id--;\r\n            }\r\n            ;\r\n            city_obj.empty().attr(\"disabled\", true);\r\n            dist_obj.empty().attr(\"disabled\", true);\r\n\r\n            if (prov_id < 0 || typeof (city_json.citylist[prov_id].c) == \"undefined\") {\r\n                if (settings.nodata == \"none\") {\r\n                    city_obj.css(\"display\", \"none\");\r\n                    dist_obj.css(\"display\", \"none\");\r\n                } else if (settings.nodata == \"hidden\") {\r\n                    city_obj.css(\"visibility\", \"hidden\");\r\n                    dist_obj.css(\"visibility\", \"hidden\");\r\n                }\r\n                ;\r\n                return;\r\n            }\r\n            ;\r\n\r\n            // 遍历赋值市级下拉列表\r\n            temp_html = select_prehtml;\r\n            $.each(city_json.citylist[prov_id].c, function(i, city) {\r\n                if (city.n.key) {\r\n                    temp_html += \"<option value='\" + city.n.key + \"'>\" + city.n.value + \"</option>\";\r\n                } else {\r\n                    temp_html += \"<option value='\" + city.n + \"'>\" + city.n + \"</option>\";\r\n                }\r\n            });\r\n            city_obj.html(temp_html).attr(\"disabled\", false).css({\"display\": \"\", \"visibility\": \"\"});\r\n            distStart();\r\n        };\r\n\r\n        // 赋值地区（县）函数\r\n        var distStart = function() {\r\n            var prov_id = prov_obj.get(0).selectedIndex;\r\n            var city_id = city_obj.get(0).selectedIndex;\r\n            if (!settings.required) {\r\n                prov_id--;\r\n                city_id--;\r\n            }\r\n            ;\r\n            dist_obj.empty().attr(\"disabled\", true);\r\n\r\n            if (prov_id < 0 || city_id < 0 || typeof (city_json.citylist[prov_id].c[city_id].a) == \"undefined\") {\r\n                if (settings.nodata == \"none\") {\r\n                    dist_obj.css(\"display\", \"none\");\r\n                } else if (settings.nodata == \"hidden\") {\r\n                    dist_obj.css(\"visibility\", \"hidden\");\r\n                }\r\n                ;\r\n                return;\r\n            }\r\n            ;\r\n\r\n            // 遍历赋值市级下拉列表\r\n            temp_html = select_prehtml;\r\n            $.each(city_json.citylist[prov_id].c[city_id].a, function(i, dist) {\r\n                if (dist.s.key) {\r\n                    temp_html += \"<option value='\" + dist.s.key + \"'>\" + dist.s.value + \"</option>\";\r\n                } else {\r\n                    temp_html += \"<option value='\" + dist.s + \"'>\" + dist.s + \"</option>\";\r\n                }\r\n            });\r\n            dist_obj.html(temp_html).attr(\"disabled\", false).css({\"display\": \"\", \"visibility\": \"\"});\r\n        };\r\n\r\n        var init = function() {\r\n            // 遍历赋值省份下拉列表\r\n            temp_html = select_prehtml;\r\n            $.each(city_json.citylist, function(i, prov) {\r\n                if (prov.p.key) {\r\n                    temp_html += \"<option value='\" + prov.p.key + \"'>\" + prov.p.value + \"</option>\";\r\n                } else {\r\n                    temp_html += \"<option value='\" + prov.p + \"'>\" + prov.p + \"</option>\";\r\n                }\r\n            });\r\n            prov_obj.html(temp_html);\r\n\r\n            // 若有传入省份与市级的值，则选中。（setTimeout为兼容IE6而设置）\r\n            setTimeout(function() {\r\n                if (settings.prov != null) {\r\n                    prov_obj.val(settings.prov);\r\n                    cityStart();\r\n                    setTimeout(function() {\r\n                        if (settings.city != null) {\r\n                            city_obj.val(settings.city);\r\n                            distStart();\r\n                            setTimeout(function() {\r\n                                if (settings.dist != null) {\r\n                                    dist_obj.val(settings.dist);\r\n                                }\r\n                                ;\r\n                            }, 1);\r\n                        }\r\n                        ;\r\n                    }, 1);\r\n                }\r\n                ;\r\n            }, 1);\r\n\r\n            // 选择省份时发生事件\r\n            prov_obj.bind(\"change\", function() {\r\n                cityStart();\r\n            });\r\n\r\n            // 选择市级时发生事件\r\n            city_obj.bind(\"change\", function() {\r\n                distStart();\r\n            });\r\n        };\r\n\r\n        // 设置省市json数据\r\n        if (typeof (settings.url) == \"string\") {\r\n            $.getJSON(settings.url, function(json) {\r\n                city_json = json;\r\n                init();\r\n            });\r\n        } else {\r\n            city_json = settings.url;\r\n            init();\r\n        }\r\n        ;\r\n    };\r\n})(jQuery);","// jQuery List DragSort v0.5.1-cmaish\n// Website: http://dragsort.codeplex.com/\n// License: http://dragsort.codeplex.com/license\n// This version from: https://github.com/cmaish/dragsort\n\n(function($) {\n\n\t$.fn.dragsort = function(options) {\n\t\tif (options == \"destroy\") {\n\t\t\t$(this.selector).trigger(\"dragsort-uninit\");\n\t\t\treturn;\n\t\t}\n\n\t\tvar opts = $.extend({}, $.fn.dragsort.defaults, options);\n\t\tvar lists = [];\n\t\tvar list = null, lastPos = null;\n\n\t\tthis.each(function(i, cont) {\n\n\t\t\t//if list container is table, the browser automatically wraps rows in tbody if not specified so change list container to tbody so that children returns rows as user expected\n\t\t\tif ($(cont).is(\"table\") && $(cont).children().size() == 1 && $(cont).children().is(\"tbody\"))\n\t\t\t\tcont = $(cont).children().get(0);\n\n\t\t\tvar newList = {\n\t\t\t\tdraggedItem: null,\n\t\t\t\tplaceHolderItem: null,\n\t\t\t\tpos: null,\n\t\t\t\toffset: null,\n\t\t\t\toffsetLimit: null,\n\t\t\t\tscroll: null,\n\t\t\t\tcontainer: cont,\n\n\t\t\t\tinit: function() {\n\t\t\t\t\t//set options to default values if not set\n\t\t\t\t\topts.tagName = $(this.container).children().size() == 0 ? \"li\" : $(this.container).children().get(0).tagName.toLowerCase();\n\t\t\t\t\tif (opts.itemSelector == \"\")\n\t\t\t\t\t\topts.itemSelector = opts.tagName;\n\t\t\t\t\tif (opts.dragSelector == \"\")\n\t\t\t\t\t\topts.dragSelector = opts.tagName;\n\t\t\t\t\tif (opts.placeHolderTemplate == \"\")\n\t\t\t\t\t\topts.placeHolderTemplate = \"<\" + opts.tagName + \">&nbsp;</\" + opts.tagName + \">\";\n\n\t\t\t\t\t//listidx allows reference back to correct list variable instance\n\t\t\t\t\t$(this.container).attr(\"data-listidx\", i).mousedown(this.grabItem).bind(\"dragsort-uninit\", this.uninit);\n\t\t\t\t\tthis.styleDragHandlers(true);\n\t\t\t\t},\n\n\t\t\t\tuninit: function() {\n\t\t\t\t\tvar list = lists[$(this).attr(\"data-listidx\")];\n\t\t\t\t\t$(list.container).unbind(\"mousedown\", list.grabItem).unbind(\"dragsort-uninit\");\n\t\t\t\t\tlist.styleDragHandlers(false);\n\t\t\t\t},\n\n\t\t\t\tgetItems: function() {\n\t\t\t\t\treturn $(this.container).children(opts.itemSelector);\n\t\t\t\t},\n\n\t\t\t\tstyleDragHandlers: function(cursor) {\n\t\t\t\t\tthis.getItems().map(function() { return $(this).is(opts.dragSelector) ? this : $(this).find(opts.dragSelector).get(); }).css(\"cursor\", cursor ? \"pointer\" : \"\");\n\t\t\t\t},\n\n\t\t\t\tgrabItem: function(e) {\n\t\t\t\t\tvar list = lists[$(this).attr(\"data-listidx\")];\n\t\t\t\t\tvar item = $(e.target).closest(\"[data-listidx] > \" + opts.tagName).get(0);\n\t\t\t\t\tvar insideMoveableItem = list.getItems().filter(function() { return this == item; }).size() > 0;\n\n\t\t\t\t\t//if not left click or if clicked on excluded element (e.g. text box) or not a moveable list item return\n\t\t\t\t\tif (e.which != 1 || $(e.target).is(opts.dragSelectorExclude) || $(e.target).closest(opts.dragSelectorExclude).size() > 0 || !insideMoveableItem)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t//prevents selection, stops issue on Fx where dragging hyperlink doesn't work and on IE where it triggers mousemove even though mouse hasn't moved,\n\t\t\t\t\t//does also stop being able to click text boxes hence dragging on text boxes by default is disabled in dragSelectorExclude\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t//change cursor to move while dragging\n\t\t\t\t\tvar dragHandle = e.target;\n\t\t\t\t\twhile (!$(dragHandle).is(opts.dragSelector)) {\n\t\t\t\t\t\tif (dragHandle == this) return;\n\t\t\t\t\t\tdragHandle = dragHandle.parentNode;\n\t\t\t\t\t}\n\t\t\t\t\t$(dragHandle).attr(\"data-cursor\", $(dragHandle).css(\"cursor\"));\n\t\t\t\t\t$(dragHandle).css(\"cursor\", \"move\");\n\n\t\t\t\t\t//on mousedown wait for movement of mouse before triggering dragsort script (dragStart) to allow clicking of hyperlinks to work\n\t\t\t\t\tvar listElem = this;\n\t\t\t\t\tvar trigger = function() {\n\t\t\t\t\t\tlist.dragStart.call(listElem, e);\n\t\t\t\t\t\t$(list.container).unbind(\"mousemove\", trigger);\n\t\t\t\t\t};\n\t\t\t\t\t$(list.container).mousemove(trigger).mouseup(function() { $(list.container).unbind(\"mousemove\", trigger); $(dragHandle).css(\"cursor\", $(dragHandle).attr(\"data-cursor\")); });\n\t\t\t\t},\n\n\t\t\t\tdragStart: function(e) {\n\t\t\t\t\tif (list != null && list.draggedItem != null)\n\t\t\t\t\t\tlist.dropItem();\n\n\t\t\t\t\tlist = lists[$(this).attr(\"data-listidx\")];\n\t\t\t\t\tlist.draggedItem = $(e.target).closest(\"[data-listidx] > \" + opts.tagName)\n\t\t\t\t\t\n\t\t\t\t\t//raise event\n\t\t\t\t\tif (opts.dragStart.apply(list.draggedItem) === false) {\n\t\t\t\t\t    list.draggedItem = null;\n\t\t\t\t\t    return;\n\t\t\t\t\t}\n\n\t\t\t\t\t//record current position so on dragend we know if the dragged item changed position or not, not using getItems to allow dragsort to restore dragged item to original location in relation to fixed items\n\t\t\t\t\tlist.draggedItem.attr(\"data-origpos\", $(this).attr(\"data-listidx\") + \"-\" + $(list.container).children().index(list.draggedItem));\n\n\t\t\t\t\t//calculate mouse offset relative to draggedItem\n\t\t\t\t\tvar mt = parseInt(list.draggedItem.css(\"marginTop\"));\n\t\t\t\t\tvar ml = parseInt(list.draggedItem.css(\"marginLeft\"));\n\t\t\t\t\tlist.offset = list.draggedItem.offset();\n\t\t\t\t\tlist.offset.top = e.pageY - list.offset.top + (isNaN(mt) ? 0 : mt) - 1;\n\t\t\t\t\tlist.offset.left = e.pageX - list.offset.left + (isNaN(ml) ? 0 : ml) - 1;\n\n\t\t\t\t\t//calculate box the dragged item can't be dragged outside of\n\t\t\t\t\tif (!opts.dragBetween) {\n\t\t\t\t\t\tvar containerHeight = $(list.container).outerHeight() == 0 ? Math.max(1, Math.round(0.5 + list.getItems().size() * list.draggedItem.outerWidth() / $(list.container).outerWidth())) * list.draggedItem.outerHeight() : $(list.container).outerHeight();\n\t\t\t\t\t\tlist.offsetLimit = $(list.container).offset();\n\t\t\t\t\t\tlist.offsetLimit.right = list.offsetLimit.left + $(list.container).outerWidth() - list.draggedItem.outerWidth();\n\t\t\t\t\t\tlist.offsetLimit.bottom = list.offsetLimit.top + containerHeight - list.draggedItem.outerHeight();\n\t\t\t\t\t}\n\n\t\t\t\t\t//create placeholder item\n\t\t\t\t\tvar h = list.draggedItem.height();\n\t\t\t\t\tvar w = list.draggedItem.width();\n\t\t\t\t\tif (opts.tagName == \"tr\") {\n\t\t\t\t\t\tlist.draggedItem.children().each(function() { $(this).width($(this).width()); });\n\t\t\t\t\t\tlist.placeHolderItem = list.draggedItem.clone().attr(\"data-placeholder\", true);\n\t\t\t\t\t\tlist.draggedItem.after(list.placeHolderItem);\n\t\t\t\t\t\tlist.placeHolderItem.children().each(function() { $(this).css({ borderWidth:0, width: $(this).width() + 1, height: $(this).height() + 1 }).html(\"&nbsp;\"); });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlist.draggedItem.after(opts.placeHolderTemplate);\n\t\t\t\t\t\tlist.placeHolderItem = list.draggedItem.next().css({ height: h, width: w }).attr(\"data-placeholder\", true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (opts.tagName == \"td\") {\n\t\t\t\t\t\tvar listTable = list.draggedItem.closest(\"table\").get(0);\n\t\t\t\t\t\t$(\"<table id='\" + listTable.id + \"' style='border-width: 0px;' class='dragSortItem \" + listTable.className + \"'><tr></tr></table>\").appendTo(\"body\").children().append(list.draggedItem);\n\t\t\t\t\t}\n\n\t\t\t\t\t//style draggedItem while dragging\n\t\t\t\t\tvar orig = list.draggedItem.attr(\"style\");\n\t\t\t\t\tlist.draggedItem.attr(\"data-origstyle\", orig ? orig : \"\");\n\t\t\t\t\tlist.draggedItem.css({ position: \"absolute\", opacity: 0.8, \"z-index\": 999, height: h, width: w });\n\n\t\t\t\t\t//auto-scroll setup\n\t\t\t\t\tlist.scroll = { moveX: 0, moveY: 0, maxX: $(document).width() - $(window).width(), maxY: $(document).height() - $(window).height() };\n\t\t\t\t\tlist.scroll.scrollY = window.setInterval(function() {\n\t\t\t\t\t\tif (opts.scrollContainer != window) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollTop($(opts.scrollContainer).scrollTop() + list.scroll.moveY);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar t = $(opts.scrollContainer).scrollTop();\n\t\t\t\t\t\tif (list.scroll.moveY > 0 && t < list.scroll.maxY || list.scroll.moveY < 0 && t > 0) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollTop(t + list.scroll.moveY);\n\t\t\t\t\t\t\tlist.draggedItem.css(\"top\", list.draggedItem.offset().top + list.scroll.moveY + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlist.scroll.scrollX = window.setInterval(function() {\n\t\t\t\t\t\tif (opts.scrollContainer != window) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollLeft($(opts.scrollContainer).scrollLeft() + list.scroll.moveX);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar l = $(opts.scrollContainer).scrollLeft();\n\t\t\t\t\t\tif (list.scroll.moveX > 0 && l < list.scroll.maxX || list.scroll.moveX < 0 && l > 0) {\n\t\t\t\t\t\t\t$(opts.scrollContainer).scrollLeft(l + list.scroll.moveX);\n\t\t\t\t\t\t\tlist.draggedItem.css(\"left\", list.draggedItem.offset().left + list.scroll.moveX + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\n\t\t\t\t\t//misc\n\t\t\t\t\t$(lists).each(function(i, l) { l.createDropTargets(); l.buildPositionTable(); });\n\t\t\t\t\tlist.setPos(e.pageX, e.pageY);\n\t\t\t\t\t$(document).bind(\"mousemove\", list.swapItems);\n\t\t\t\t\t$(document).bind(\"mouseup\", list.dropItem);\n\t\t\t\t\tif (opts.scrollContainer != window)\n\t\t\t\t\t\t$(window).bind(\"DOMMouseScroll mousewheel\", list.wheel);\n\t\t\t\t},\n\n\t\t\t\t//set position of draggedItem\n\t\t\t\tsetPos: function(x, y) { \n\t\t\t\t\t//remove mouse offset so mouse cursor remains in same place on draggedItem instead of top left corner\n\t\t\t\t\tvar top = y - this.offset.top;\n\t\t\t\t\tvar left = x - this.offset.left;\n\n\t\t\t\t\t//limit top, left to within box draggedItem can't be dragged outside of\n\t\t\t\t\tif (!opts.dragBetween) {\n\t\t\t\t\t\ttop = Math.min(this.offsetLimit.bottom, Math.max(top, this.offsetLimit.top));\n\t\t\t\t\t\tleft = Math.min(this.offsetLimit.right, Math.max(left, this.offsetLimit.left));\n\t\t\t\t\t}\n\n\t\t\t\t\t//adjust top & left calculations to parent offset\n\t\t\t\t\tvar parent = this.draggedItem.offsetParent().not(\"body\").offset(); //offsetParent returns body even when it's static, if not static offset is only factoring margin\n\t\t\t\t\tif (parent != null) {\n\t\t\t\t\t\ttop -= parent.top;\n\t\t\t\t\t\tleft -= parent.left;\n\t\t\t\t\t}\n\n\t\t\t\t\t//set x or y auto-scroll amount\n\t\t\t\t\tif (opts.scrollContainer == window) {\n\t\t\t\t\t\ty -= $(window).scrollTop();\n\t\t\t\t\t\tx -= $(window).scrollLeft();\n\t\t\t\t\t\ty = Math.max(0, y - $(window).height() + 5) + Math.min(0, y - 5);\n\t\t\t\t\t\tx = Math.max(0, x - $(window).width() + 5) + Math.min(0, x - 5);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar cont = $(opts.scrollContainer);\n\t\t\t\t\t\tvar offset = cont.offset();\n\t\t\t\t\t\ty = Math.max(0, y - cont.height() - offset.top) + Math.min(0, y - offset.top);\n\t\t\t\t\t\tx = Math.max(0, x - cont.width() - offset.left) + Math.min(0, x - offset.left);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlist.scroll.moveX = x == 0 ? 0 : x * opts.scrollSpeed / Math.abs(x);\n\t\t\t\t\tlist.scroll.moveY = y == 0 ? 0 : y * opts.scrollSpeed / Math.abs(y);\n\n\t\t\t\t\t//move draggedItem to new mouse cursor location\n\t\t\t\t\tthis.draggedItem.css({ top: top, left: left });\n\t\t\t\t},\n\n\t\t\t\t//if scroll container is a div allow mouse wheel to scroll div instead of window when mouse is hovering over\n\t\t\t\twheel: function(e) {\n\t\t\t\t\tif (($.browser.safari || $.browser.mozilla) && list && opts.scrollContainer != window) {\n\t\t\t\t\t\tvar cont = $(opts.scrollContainer);\n\t\t\t\t\t\tvar offset = cont.offset();\n\t\t\t\t\t\tif (e.pageX > offset.left && e.pageX < offset.left + cont.width() && e.pageY > offset.top && e.pageY < offset.top + cont.height()) {\n\t\t\t\t\t\t\tvar delta = e.detail ? e.detail * 5 : e.wheelDelta / -2;\n\t\t\t\t\t\t\tcont.scrollTop(cont.scrollTop() + delta);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t//build a table recording all the positions of the moveable list items\n\t\t\t\tbuildPositionTable: function() {\n\t\t\t\t\tvar pos = [];\n\t\t\t\t\tthis.getItems().not([list.draggedItem[0], list.placeHolderItem[0]]).each(function(i) {\n\t\t\t\t\t\tvar loc = $(this).offset();\n\t\t\t\t\t\tloc.right = loc.left + $(this).outerWidth();\n\t\t\t\t\t\tloc.bottom = loc.top + $(this).outerHeight();\n\t\t\t\t\t\tloc.elm = this;\n\t\t\t\t\t\tpos[i] = loc;\n\t\t\t\t\t});\n\t\t\t\t\tthis.pos = pos;\n\t\t\t\t},\n\n\t\t\t\tdropItem: function() {\n\t\t\t\t\tif (list.draggedItem == null)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t//list.draggedItem.attr(\"style\", \"\") doesn't work on IE8 and jQuery 1.5 or lower\n\t\t\t\t\t//list.draggedItem.removeAttr(\"style\") doesn't work on chrome and jQuery 1.6 (works jQuery 1.5 or lower)\n\t\t\t\t\tvar orig = list.draggedItem.attr(\"data-origstyle\");\n\t\t\t\t\tlist.draggedItem.attr(\"style\", orig);\n\t\t\t\t\tif (orig == \"\")\n\t\t\t\t\t\tlist.draggedItem.removeAttr(\"style\");\n\t\t\t\t\tlist.draggedItem.removeAttr(\"data-origstyle\");\n\n\t\t\t\t\tlist.styleDragHandlers(true);\n\n\t\t\t\t\tlist.placeHolderItem.before(list.draggedItem);\n\t\t\t\t\tlist.placeHolderItem.remove();\n\n\t\t\t\t\t$(\"[data-droptarget], .dragSortItem\").remove();\n\n\t\t\t\t\twindow.clearInterval(list.scroll.scrollY);\n\t\t\t\t\twindow.clearInterval(list.scroll.scrollX);\n\n\t\t\t\t\t//if position changed call dragEnd\n\t\t\t\t\tif (list.draggedItem.attr(\"data-origpos\") != $(lists).index(list) + \"-\" + $(list.container).children().index(list.draggedItem))\n\t\t\t\t\t\tif (opts.dragEnd.apply(list.draggedItem) == false) { //if dragEnd returns false revert order\n\t\t\t\t\t\t\tvar pos = list.draggedItem.attr(\"data-origpos\").split('-');\n\t\t\t\t\t\t\tvar nextItem = $(lists[pos[0]].container).children().not(list.draggedItem).eq(pos[1]);\n\t\t\t\t\t\t\tif (nextItem.size() > 0)\n\t\t\t\t\t\t\t\tnextItem.before(list.draggedItem);\n\t\t\t\t\t\t\telse if (pos[1] == 0) //was the only item in list\n\t\t\t\t\t\t\t\t$(lists[pos[0]].container).prepend(list.draggedItem);\n\t\t\t\t\t\t\telse //was the last item in list\n\t\t\t\t\t\t\t\t$(lists[pos[0]].container).append(list.draggedItem);\n\t\t\t\t\t\t}\n\t\t\t\t\tlist.draggedItem.removeAttr(\"data-origpos\");\n\n\t\t\t\t\tlist.draggedItem = null;\n\t\t\t\t\t$(document).unbind(\"mousemove\", list.swapItems);\n\t\t\t\t\t$(document).unbind(\"mouseup\", list.dropItem);\n\t\t\t\t\tif (opts.scrollContainer != window)\n\t\t\t\t\t\t$(window).unbind(\"DOMMouseScroll mousewheel\", list.wheel);\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t//swap the draggedItem (represented visually by placeholder) with the list item the it has been dragged on top of\n\t\t\t\tswapItems: function(e) {\n\t\t\t\t\tif (list.draggedItem == null)\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t//move draggedItem to mouse location\n\t\t\t\t\tlist.setPos(e.pageX, e.pageY);\n\n\t\t\t\t\t//retrieve list and item position mouse cursor is over\n\t\t\t\t\tvar ei = list.findPos(e.pageX, e.pageY);\n\t\t\t\t\tvar nlist = list;\n\t\t\t\t\tfor (var i = 0; ei == -1 && opts.dragBetween && i < lists.length; i++) {\n\t\t\t\t\t\tei = lists[i].findPos(e.pageX, e.pageY);\n\t\t\t\t\t\tnlist = lists[i];\n\t\t\t\t\t}\n\n\t\t\t\t\t//if not over another moveable list item return\n\t\t\t\t\tif (ei == -1)\n\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t//save fixed items locations\n\t\t\t\t\tvar children = function() { return $(nlist.container).children().not(nlist.draggedItem); };\n\t\t\t\t\tvar fixed = children().not(opts.itemSelector).each(function(i) { this.idx = children().index(this); });\n\n\t\t\t\t\t//if moving draggedItem up or left place placeHolder before list item the dragged item is hovering over otherwise place it after\n\t\t\t\t\tif (lastPos == null || lastPos.top > list.draggedItem.offset().top || lastPos.left > list.draggedItem.offset().left)\n\t\t\t\t\t\t$(nlist.pos[ei].elm).before(list.placeHolderItem);\n\t\t\t\t\telse\n\t\t\t\t\t\t$(nlist.pos[ei].elm).after(list.placeHolderItem);\n\n\t\t\t\t\t//restore fixed items location\n\t\t\t\t\tfixed.each(function() {\n\t\t\t\t\t\tvar elm = children().eq(this.idx).get(0);\n\t\t\t\t\t\tif (this != elm && children().index(this) < this.idx)\n\t\t\t\t\t\t\t$(this).insertAfter(elm);\n\t\t\t\t\t\telse if (this != elm)\n\t\t\t\t\t\t\t$(this).insertBefore(elm);\n\t\t\t\t\t});\n\n\t\t\t\t\t//misc\n\t\t\t\t\t$(lists).each(function(i, l) { l.createDropTargets(); l.buildPositionTable(); });\n\t\t\t\t\tlastPos = list.draggedItem.offset();\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\n\t\t\t\t//returns the index of the list item the mouse is over\n\t\t\t\tfindPos: function(x, y) {\n\t\t\t\t\tfor (var i = 0; i < this.pos.length; i++) {\n\t\t\t\t\t\tif (this.pos[i].left < x && this.pos[i].right > x && this.pos[i].top < y && this.pos[i].bottom > y)\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t},\n\n\t\t\t\t//create drop targets which are placeholders at the end of other lists to allow dragging straight to the last position\n\t\t\t\tcreateDropTargets: function() {\n\t\t\t\t\tif (!opts.dragBetween)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t$(lists).each(function() {\n\t\t\t\t\t\tvar ph = $(this.container).find(\"[data-placeholder]\");\n\t\t\t\t\t\tvar dt = $(this.container).find(\"[data-droptarget]\");\n\t\t\t\t\t\tif (ph.size() > 0 && dt.size() > 0)\n\t\t\t\t\t\t\tdt.remove();\n\t\t\t\t\t\telse if (ph.size() == 0 && dt.size() == 0) {\n\t\t\t\t\t\t\tif (opts.tagName == \"td\")\n\t\t\t\t\t\t\t\t$(opts.placeHolderTemplate).attr(\"data-droptarget\", true).appendTo(this.container);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t//list.placeHolderItem.clone().removeAttr(\"data-placeholder\") crashes in IE7 and jquery 1.5.1 (doesn't in jquery 1.4.2 or IE8)\n\t\t\t\t\t\t\t\t$(this.container).append(list.placeHolderItem.removeAttr(\"data-placeholder\").clone().attr(\"data-droptarget\", true));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlist.placeHolderItem.attr(\"data-placeholder\", true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tnewList.init();\n\t\t\tlists.push(newList);\n\t\t});\n\n\t\treturn this;\n\t};\n\n\t$.fn.dragsort.defaults = {\n\t\titemSelector: \"\",\n\t\tdragSelector: \"\",\n\t\tdragSelectorExclude: \"input, textarea\",\n\t\tdragStart: function () { },\n\t\tdragEnd: function() { },\n\t\tdragBetween: false,\n\t\tplaceHolderTemplate: \"\",\n\t\tscrollContainer: window,\n\t\tscrollSpeed: 5\n\t};\n\n})(jQuery);","(function($) {\n    $.fn.iconpicker = function(options) {\n\n        var self = this;\n        this.buttonSize = 'sm';\n        this.columns = 10;\n        this.height = 400;\n        this.extend(options);\n        this.open = false;\n        this.allowedSizes = [\"sm\", \"lg\", \"2x\", \"3x\", \"4x\", \"5x\"];\n\n        //Templates\n        this.templates = {\n            filter: \"<div class='row'><div class='col-xs-12 form-group'><div class='icon-filter-box input-group'><span class='input-group-addon'>Filter: </span><input type='text' class='icon-filter form-control'></div></div></div>\",\n            sizes: \"<div class='row'><div class='col-xs-12 btn-group'><a class='btn btn-default' href='#' data-size='sm'>SM</a><a class='btn btn-default' href='#' data-size='lg'>LG</a><a class='btn btn-default' href='#' data-size='2x'>2X</a><a class='btn btn-default' href='#' data-size='3x'>3X</a><a class='btn btn-default' href='#' data-size='4x'>4X</a><a class='btn btn-default' href='#' data-size='5x'>5X</a></div></div>\",\n        };\n\n        //Icon List\n        this.icons = options.icons;\n\n        //Bind open menu function to element click\n        $(this).on(\"click\", function(e) {\n            self.$el = $(e.currentTarget);\n            if ($(e.currentTarget).find(\".icon-menu\").length) {\n                self.closeMenu();\n            } else {\n                self.openMenu();\n            }\n        });\n\n        //Bind event to icon click\n        $(this).on(\"click\", \".icon\", function(e) {\n            e.stopPropagation();\n            var icon = $(e.currentTarget).data(\"icon\");\n            if (self.clickCallback !== undefined) {\n                self.clickCallback(icon);\n            } else {\n                self.$el.find(\"> .form-control\").val(icon).focus().select();\n            }\n            self.closeMenu();\n        });\n\n        //Stop menu from closing if click in menu\n        $(this).on(\"click\", \".icon-menu\", function(e) {\n            e.stopPropagation();\n        });\n\n        //Bind event to filter input\n        $(this).on(\"keyup\", \".icon-filter\", function(e) {\n            var str = $(e.target).val();\n            self.doFilter(str);\n        });\n\n        //Bind event to size menu\n        $(this).on(\"click\", \".btn-group .btn\", function(e) {\n            var size = ($(e.currentTarget).data('size') == 'sm') ? '' : 'fa-' + $(e.currentTarget).data('size') ;\n            self.$sizeSelector.find('.btn').removeClass(\"active\");\n            $(e.currentTarget).addClass(\"active\");\n            self.$container.find('i').removeClass('fa-lg fa-2x fa-3x fa-4x fa-5x').addClass(size);\n            self.resize();\n        });\n\n        //Create html element\n        this.createMenu = function() {\n            this.icons = eval(this.icons);\n            this.$menu = $(\"<div>\", {class: \"icon-menu\", style: \"height:\" + this.height + \"px\"});\n            if (this.filter !== false) {\n                this.$filter = $(this.templates.filter);\n                this.$menu.append(this.$filter);\n            }\n            if (this.sizeSelector !== false) {\n                this.$sizeSelector = $(this.templates.sizes);\n                this.$sizeSelector.find('a[data-size=' + this.buttonSize + ']').addClass('active');\n                this.$menu.append(this.$sizeSelector);\n            }\n            this.$container = $(\"<div>\", {class: \"icon-container\", style: \"height:\" + this.innerHeight + \"px\"});\n            for (var i in this.icons) {\n                var size = ($.inArray(this.buttonSize, this.allowedSizes) > -1) ? \" fa-\" + this.buttonSize : \"\" ;\n                var button = $(\"<a>\", {class: \"icon\", title: this.icons[i].name, \"data-icon\": this.icons[i].selector, \"data-filter\": this.icons[i].filter});\n                button.html(\"<i class='fa fa-fw \" + this.icons[i].selector + size + \"'></i>\");\n                this.$container.append(button);\n            }\n            this.$menu.append(this.$container);\n        }\n\n        //Open Menu\n        this.openMenu = function(e) {\n            this.open = true;\n            $(this.$el).append(this.$menu);\n            this.resize();\n            this.$menu.find('.icon-filter').focus();\n        }\n\n        //Close Menu\n        this.closeMenu = function() {\n            this.open = false;\n            this.$menu.detach();\n        }\n\n        //Resize menu\n        this.resize = function(columns) {\n            this.scrollbarWidth = this.scrollbarWidth || this.getScrollbarWidth();\n            var width = Math.ceil($('.icon').outerWidth(true) * this.columns + this.scrollbarWidth) + \"px\";\n            var height = this.height - (parseInt(this.$menu.css('padding-top')) * 2);\n                height -= (this.filter !== false) ? this.$filter.outerHeight(true) : 0 ;\n                height -= (this.sizeSelector !== false) ? this.$sizeSelector.outerHeight(true) : 0 ;\n            this.$container.css({width: width, height: height});\n\n        }\n\n        //Filter function\n        this.doFilter = function(str) {\n            if (str !== \"\") {\n                $(this).find(\"a.icon[data-filter*='\" + str + \"']\").show();\n                $(this).find(\"a.icon:not([data-filter*='\" + str + \"'])\").hide();\n            } else {\n                $(this).find(\"a.icon\").show();\n            }\n        }\n\n        //Uppercase words function\n        this.ucwords = function(str) {\n            return (str.replace(/-/g, ' ') + '')\n                .replace(/^([a-z\\u00E0-\\u00FC])|\\s+([a-z\\u00E0-\\u00FC])/g, function($1) {\n                    return $1.toUpperCase();\n            });\n        }\n\n        //Object sorting function\n        this.sortObj = function(obj) {\n            var key,\n                tempArry = [],\n                i,\n                tempObj = {};\n            for ( key in obj ) {\n                tempArry.push(key);\n            }\n            tempArry.sort(\n                function(a, b) {\n                    return a.toLowerCase().localeCompare( b.toLowerCase() );\n                }\n            );\n            for ( i = 0; i < tempArry.length; i++ ) {\n                tempObj[ tempArry[i] ] = obj[ tempArry[i] ];\n            }\n            return tempObj;\n        }\n\n        //Scrollbar width\n        this.getScrollbarWidth = function() {\n            var $inner = $('<div style=\"width: 100%; height:200px;\">test</div>'),\n                $outer = $('<div style=\"width:200px;height:150px; position: absolute; top: 0; left: 0; visibility: hidden; overflow:hidden;\"></div>').append($inner),\n                inner = $inner[0],\n                outer = $outer[0];\n            $('body').append(outer);\n            var width1 = inner.offsetWidth;\n            $outer.css('overflow', 'scroll');\n            var width2 = outer.clientWidth;\n            $outer.remove();\n            return (width1 - width2);\n        }\n\n        self.createMenu();\n\n        return this;\n    };\n}( jQuery ));","/*! WebUploader 0.1.5 */\n\n\n/**\n * @fileOverview 让内部各个部件的代码可以用[amd](https://github.com/amdjs/amdjs-api/wiki/AMD)模块定义方式组织起来。\n *\n * AMD API 内部的简单不完全实现，请忽略。只有当WebUploader被合并成一个文件的时候才会引入。\n */\n(function( root, factory ) {\n    var modules = {},\n\n        // 内部require, 简单不完全实现。\n        // https://github.com/amdjs/amdjs-api/wiki/require\n        _require = function( deps, callback ) {\n            var args, len, i;\n\n            // 如果deps不是数组，则直接返回指定module\n            if ( typeof deps === 'string' ) {\n                return getModule( deps );\n            } else {\n                args = [];\n                for( len = deps.length, i = 0; i < len; i++ ) {\n                    args.push( getModule( deps[ i ] ) );\n                }\n\n                return callback.apply( null, args );\n            }\n        },\n\n        // 内部define，暂时不支持不指定id.\n        _define = function( id, deps, factory ) {\n            if ( arguments.length === 2 ) {\n                factory = deps;\n                deps = null;\n            }\n\n            _require( deps || [], function() {\n                setModule( id, factory, arguments );\n            });\n        },\n\n        // 设置module, 兼容CommonJs写法。\n        setModule = function( id, factory, args ) {\n            var module = {\n                    exports: factory\n                },\n                returned;\n\n            if ( typeof factory === 'function' ) {\n                args.length || (args = [ _require, module.exports, module ]);\n                returned = factory.apply( null, args );\n                returned !== undefined && (module.exports = returned);\n            }\n\n            modules[ id ] = module.exports;\n        },\n\n        // 根据id获取module\n        getModule = function( id ) {\n            var module = modules[ id ] || root[ id ];\n\n            if ( !module ) {\n                throw new Error( '`' + id + '` is undefined' );\n            }\n\n            return module;\n        },\n\n        // 将所有modules，将路径ids装换成对象。\n        exportsTo = function( obj ) {\n            var key, host, parts, part, last, ucFirst;\n\n            // make the first character upper case.\n            ucFirst = function( str ) {\n                return str && (str.charAt( 0 ).toUpperCase() + str.substr( 1 ));\n            };\n\n            for ( key in modules ) {\n                host = obj;\n\n                if ( !modules.hasOwnProperty( key ) ) {\n                    continue;\n                }\n\n                parts = key.split('/');\n                last = ucFirst( parts.pop() );\n\n                while( (part = ucFirst( parts.shift() )) ) {\n                    host[ part ] = host[ part ] || {};\n                    host = host[ part ];\n                }\n\n                host[ last ] = modules[ key ];\n            }\n\n            return obj;\n        },\n\n        makeExport = function( dollar ) {\n            root.__dollar = dollar;\n\n            // exports every module.\n            return exportsTo( factory( root, _define, _require ) );\n        },\n\n        origin;\n\n    if ( typeof module === 'object' && typeof module.exports === 'object' ) {\n\n        // For CommonJS and CommonJS-like environments where a proper window is present,\n        module.exports = makeExport();\n    } else if ( typeof define === 'function' && define.amd ) {\n\n        // Allow using this built library as an AMD module\n        // in another project. That other project will only\n        // see this AMD call, not the internal modules in\n        // the closure below.\n        define([ 'jquery' ], makeExport );\n    } else {\n\n        // Browser globals case. Just assign the\n        // result to a property on the global.\n        origin = root.WebUploader;\n        root.WebUploader = makeExport();\n        root.WebUploader.noConflict = function() {\n            root.WebUploader = origin;\n        };\n    }\n})( window, function( window, define, require ) {\n\n\n    /**\n     * @fileOverview jQuery or Zepto\n     */\n    define('dollar-third',[],function() {\n        var $ = window.__dollar || window.jQuery || window.Zepto;\n    \n        if ( !$ ) {\n            throw new Error('jQuery or Zepto not found!');\n        }\n    \n        return $;\n    });\n    /**\n     * @fileOverview Dom 操作相关\n     */\n    define('dollar',[\n        'dollar-third'\n    ], function( _ ) {\n        return _;\n    });\n    /**\n     * @fileOverview 使用jQuery的Promise\n     */\n    define('promise-third',[\n        'dollar'\n    ], function( $ ) {\n        return {\n            Deferred: $.Deferred,\n            when: $.when,\n    \n            isPromise: function( anything ) {\n                return anything && typeof anything.then === 'function';\n            }\n        };\n    });\n    /**\n     * @fileOverview Promise/A+\n     */\n    define('promise',[\n        'promise-third'\n    ], function( _ ) {\n        return _;\n    });\n    /**\n     * @fileOverview 基础类方法。\n     */\n    \n    /**\n     * Web Uploader内部类的详细说明，以下提及的功能类，都可以在`WebUploader`这个变量中访问到。\n     *\n     * As you know, Web Uploader的每个文件都是用过[AMD](https://github.com/amdjs/amdjs-api/wiki/AMD)规范中的`define`组织起来的, 每个Module都会有个module id.\n     * 默认module id为该文件的路径，而此路径将会转化成名字空间存放在WebUploader中。如：\n     *\n     * * module `base`：WebUploader.Base\n     * * module `file`: WebUploader.File\n     * * module `lib/dnd`: WebUploader.Lib.Dnd\n     * * module `runtime/html5/dnd`: WebUploader.Runtime.Html5.Dnd\n     *\n     *\n     * 以下文档中对类的使用可能省略掉了`WebUploader`前缀。\n     * @module WebUploader\n     * @title WebUploader API文档\n     */\n    define('base',[\n        'dollar',\n        'promise'\n    ], function( $, promise ) {\n    \n        var noop = function() {},\n            call = Function.call;\n    \n        // http://jsperf.com/uncurrythis\n        // 反科里化\n        function uncurryThis( fn ) {\n            return function() {\n                return call.apply( fn, arguments );\n            };\n        }\n    \n        function bindFn( fn, context ) {\n            return function() {\n                return fn.apply( context, arguments );\n            };\n        }\n    \n        function createObject( proto ) {\n            var f;\n    \n            if ( Object.create ) {\n                return Object.create( proto );\n            } else {\n                f = function() {};\n                f.prototype = proto;\n                return new f();\n            }\n        }\n    \n    \n        /**\n         * 基础类，提供一些简单常用的方法。\n         * @class Base\n         */\n        return {\n    \n            /**\n             * @property {String} version 当前版本号。\n             */\n            version: '0.1.5',\n    \n            /**\n             * @property {jQuery|Zepto} $ 引用依赖的jQuery或者Zepto对象。\n             */\n            $: $,\n    \n            Deferred: promise.Deferred,\n    \n            isPromise: promise.isPromise,\n    \n            when: promise.when,\n    \n            /**\n             * @description  简单的浏览器检查结果。\n             *\n             * * `webkit`  webkit版本号，如果浏览器为非webkit内核，此属性为`undefined`。\n             * * `chrome`  chrome浏览器版本号，如果浏览器为chrome，此属性为`undefined`。\n             * * `ie`  ie浏览器版本号，如果浏览器为非ie，此属性为`undefined`。**暂不支持ie10+**\n             * * `firefox`  firefox浏览器版本号，如果浏览器为非firefox，此属性为`undefined`。\n             * * `safari`  safari浏览器版本号，如果浏览器为非safari，此属性为`undefined`。\n             * * `opera`  opera浏览器版本号，如果浏览器为非opera，此属性为`undefined`。\n             *\n             * @property {Object} [browser]\n             */\n            browser: (function( ua ) {\n                var ret = {},\n                    webkit = ua.match( /WebKit\\/([\\d.]+)/ ),\n                    chrome = ua.match( /Chrome\\/([\\d.]+)/ ) ||\n                        ua.match( /CriOS\\/([\\d.]+)/ ),\n    \n                    ie = ua.match( /MSIE\\s([\\d\\.]+)/ ) ||\n                        ua.match( /(?:trident)(?:.*rv:([\\w.]+))?/i ),\n                    firefox = ua.match( /Firefox\\/([\\d.]+)/ ),\n                    safari = ua.match( /Safari\\/([\\d.]+)/ ),\n                    opera = ua.match( /OPR\\/([\\d.]+)/ );\n    \n                webkit && (ret.webkit = parseFloat( webkit[ 1 ] ));\n                chrome && (ret.chrome = parseFloat( chrome[ 1 ] ));\n                ie && (ret.ie = parseFloat( ie[ 1 ] ));\n                firefox && (ret.firefox = parseFloat( firefox[ 1 ] ));\n                safari && (ret.safari = parseFloat( safari[ 1 ] ));\n                opera && (ret.opera = parseFloat( opera[ 1 ] ));\n    \n                return ret;\n            })( navigator.userAgent ),\n    \n            /**\n             * @description  操作系统检查结果。\n             *\n             * * `android`  如果在android浏览器环境下，此值为对应的android版本号，否则为`undefined`。\n             * * `ios` 如果在ios浏览器环境下，此值为对应的ios版本号，否则为`undefined`。\n             * @property {Object} [os]\n             */\n            os: (function( ua ) {\n                var ret = {},\n    \n                    // osx = !!ua.match( /\\(Macintosh\\; Intel / ),\n                    android = ua.match( /(?:Android);?[\\s\\/]+([\\d.]+)?/ ),\n                    ios = ua.match( /(?:iPad|iPod|iPhone).*OS\\s([\\d_]+)/ );\n    \n                // osx && (ret.osx = true);\n                android && (ret.android = parseFloat( android[ 1 ] ));\n                ios && (ret.ios = parseFloat( ios[ 1 ].replace( /_/g, '.' ) ));\n    \n                return ret;\n            })( navigator.userAgent ),\n    \n            /**\n             * 实现类与类之间的继承。\n             * @method inherits\n             * @grammar Base.inherits( super ) => child\n             * @grammar Base.inherits( super, protos ) => child\n             * @grammar Base.inherits( super, protos, statics ) => child\n             * @param  {Class} super 父类\n             * @param  {Object | Function} [protos] 子类或者对象。如果对象中包含constructor，子类将是用此属性值。\n             * @param  {Function} [protos.constructor] 子类构造器，不指定的话将创建个临时的直接执行父类构造器的方法。\n             * @param  {Object} [statics] 静态属性或方法。\n             * @return {Class} 返回子类。\n             * @example\n             * function Person() {\n             *     console.log( 'Super' );\n             * }\n             * Person.prototype.hello = function() {\n             *     console.log( 'hello' );\n             * };\n             *\n             * var Manager = Base.inherits( Person, {\n             *     world: function() {\n             *         console.log( 'World' );\n             *     }\n             * });\n             *\n             * // 因为没有指定构造器，父类的构造器将会执行。\n             * var instance = new Manager();    // => Super\n             *\n             * // 继承子父类的方法\n             * instance.hello();    // => hello\n             * instance.world();    // => World\n             *\n             * // 子类的__super__属性指向父类\n             * console.log( Manager.__super__ === Person );    // => true\n             */\n            inherits: function( Super, protos, staticProtos ) {\n                var child;\n    \n                if ( typeof protos === 'function' ) {\n                    child = protos;\n                    protos = null;\n                } else if ( protos && protos.hasOwnProperty('constructor') ) {\n                    child = protos.constructor;\n                } else {\n                    child = function() {\n                        return Super.apply( this, arguments );\n                    };\n                }\n    \n                // 复制静态方法\n                $.extend( true, child, Super, staticProtos || {} );\n    \n                /* jshint camelcase: false */\n    \n                // 让子类的__super__属性指向父类。\n                child.__super__ = Super.prototype;\n    \n                // 构建原型，添加原型方法或属性。\n                // 暂时用Object.create实现。\n                child.prototype = createObject( Super.prototype );\n                protos && $.extend( true, child.prototype, protos );\n    \n                return child;\n            },\n    \n            /**\n             * 一个不做任何事情的方法。可以用来赋值给默认的callback.\n             * @method noop\n             */\n            noop: noop,\n    \n            /**\n             * 返回一个新的方法，此方法将已指定的`context`来执行。\n             * @grammar Base.bindFn( fn, context ) => Function\n             * @method bindFn\n             * @example\n             * var doSomething = function() {\n             *         console.log( this.name );\n             *     },\n             *     obj = {\n             *         name: 'Object Name'\n             *     },\n             *     aliasFn = Base.bind( doSomething, obj );\n             *\n             *  aliasFn();    // => Object Name\n             *\n             */\n            bindFn: bindFn,\n    \n            /**\n             * 引用Console.log如果存在的话，否则引用一个[空函数noop](#WebUploader:Base.noop)。\n             * @grammar Base.log( args... ) => undefined\n             * @method log\n             */\n            log: (function() {\n                if ( window.console ) {\n                    return bindFn( console.log, console );\n                }\n                return noop;\n            })(),\n    \n            nextTick: (function() {\n    \n                return function( cb ) {\n                    setTimeout( cb, 1 );\n                };\n    \n                // @bug 当浏览器不在当前窗口时就停了。\n                // var next = window.requestAnimationFrame ||\n                //     window.webkitRequestAnimationFrame ||\n                //     window.mozRequestAnimationFrame ||\n                //     function( cb ) {\n                //         window.setTimeout( cb, 1000 / 60 );\n                //     };\n    \n                // // fix: Uncaught TypeError: Illegal invocation\n                // return bindFn( next, window );\n            })(),\n    \n            /**\n             * 被[uncurrythis](http://www.2ality.com/2011/11/uncurrying-this.html)的数组slice方法。\n             * 将用来将非数组对象转化成数组对象。\n             * @grammar Base.slice( target, start[, end] ) => Array\n             * @method slice\n             * @example\n             * function doSomthing() {\n             *     var args = Base.slice( arguments, 1 );\n             *     console.log( args );\n             * }\n             *\n             * doSomthing( 'ignored', 'arg2', 'arg3' );    // => Array [\"arg2\", \"arg3\"]\n             */\n            slice: uncurryThis( [].slice ),\n    \n            /**\n             * 生成唯一的ID\n             * @method guid\n             * @grammar Base.guid() => String\n             * @grammar Base.guid( prefx ) => String\n             */\n            guid: (function() {\n                var counter = 0;\n    \n                return function( prefix ) {\n                    var guid = (+new Date()).toString( 32 ),\n                        i = 0;\n    \n                    for ( ; i < 5; i++ ) {\n                        guid += Math.floor( Math.random() * 65535 ).toString( 32 );\n                    }\n    \n                    return (prefix || 'wu_') + guid + (counter++).toString( 32 );\n                };\n            })(),\n    \n            /**\n             * 格式化文件大小, 输出成带单位的字符串\n             * @method formatSize\n             * @grammar Base.formatSize( size ) => String\n             * @grammar Base.formatSize( size, pointLength ) => String\n             * @grammar Base.formatSize( size, pointLength, units ) => String\n             * @param {Number} size 文件大小\n             * @param {Number} [pointLength=2] 精确到的小数点数。\n             * @param {Array} [units=[ 'B', 'K', 'M', 'G', 'TB' ]] 单位数组。从字节，到千字节，一直往上指定。如果单位数组里面只指定了到了K(千字节)，同时文件大小大于M, 此方法的输出将还是显示成多少K.\n             * @example\n             * console.log( Base.formatSize( 100 ) );    // => 100B\n             * console.log( Base.formatSize( 1024 ) );    // => 1.00K\n             * console.log( Base.formatSize( 1024, 0 ) );    // => 1K\n             * console.log( Base.formatSize( 1024 * 1024 ) );    // => 1.00M\n             * console.log( Base.formatSize( 1024 * 1024 * 1024 ) );    // => 1.00G\n             * console.log( Base.formatSize( 1024 * 1024 * 1024, 0, ['B', 'KB', 'MB'] ) );    // => 1024MB\n             */\n            formatSize: function( size, pointLength, units ) {\n                var unit;\n    \n                units = units || [ 'B', 'K', 'M', 'G', 'TB' ];\n    \n                while ( (unit = units.shift()) && size > 1024 ) {\n                    size = size / 1024;\n                }\n    \n                return (unit === 'B' ? size : size.toFixed( pointLength || 2 )) +\n                        unit;\n            }\n        };\n    });\n    /**\n     * 事件处理类，可以独立使用，也可以扩展给对象使用。\n     * @fileOverview Mediator\n     */\n    define('mediator',[\n        'base'\n    ], function( Base ) {\n        var $ = Base.$,\n            slice = [].slice,\n            separator = /\\s+/,\n            protos;\n    \n        // 根据条件过滤出事件handlers.\n        function findHandlers( arr, name, callback, context ) {\n            return $.grep( arr, function( handler ) {\n                return handler &&\n                        (!name || handler.e === name) &&\n                        (!callback || handler.cb === callback ||\n                        handler.cb._cb === callback) &&\n                        (!context || handler.ctx === context);\n            });\n        }\n    \n        function eachEvent( events, callback, iterator ) {\n            // 不支持对象，只支持多个event用空格隔开\n            $.each( (events || '').split( separator ), function( _, key ) {\n                iterator( key, callback );\n            });\n        }\n    \n        function triggerHanders( events, args ) {\n            var stoped = false,\n                i = -1,\n                len = events.length,\n                handler;\n    \n            while ( ++i < len ) {\n                handler = events[ i ];\n    \n                if ( handler.cb.apply( handler.ctx2, args ) === false ) {\n                    stoped = true;\n                    break;\n                }\n            }\n    \n            return !stoped;\n        }\n    \n        protos = {\n    \n            /**\n             * 绑定事件。\n             *\n             * `callback`方法在执行时，arguments将会来源于trigger的时候携带的参数。如\n             * ```javascript\n             * var obj = {};\n             *\n             * // 使得obj有事件行为\n             * Mediator.installTo( obj );\n             *\n             * obj.on( 'testa', function( arg1, arg2 ) {\n             *     console.log( arg1, arg2 ); // => 'arg1', 'arg2'\n             * });\n             *\n             * obj.trigger( 'testa', 'arg1', 'arg2' );\n             * ```\n             *\n             * 如果`callback`中，某一个方法`return false`了，则后续的其他`callback`都不会被执行到。\n             * 切会影响到`trigger`方法的返回值，为`false`。\n             *\n             * `on`还可以用来添加一个特殊事件`all`, 这样所有的事件触发都会响应到。同时此类`callback`中的arguments有一个不同处，\n             * 就是第一个参数为`type`，记录当前是什么事件在触发。此类`callback`的优先级比脚低，会再正常`callback`执行完后触发。\n             * ```javascript\n             * obj.on( 'all', function( type, arg1, arg2 ) {\n             *     console.log( type, arg1, arg2 ); // => 'testa', 'arg1', 'arg2'\n             * });\n             * ```\n             *\n             * @method on\n             * @grammar on( name, callback[, context] ) => self\n             * @param  {String}   name     事件名，支持多个事件用空格隔开\n             * @param  {Function} callback 事件处理器\n             * @param  {Object}   [context]  事件处理器的上下文。\n             * @return {self} 返回自身，方便链式\n             * @chainable\n             * @class Mediator\n             */\n            on: function( name, callback, context ) {\n                var me = this,\n                    set;\n    \n                if ( !callback ) {\n                    return this;\n                }\n    \n                set = this._events || (this._events = []);\n    \n                eachEvent( name, callback, function( name, callback ) {\n                    var handler = { e: name };\n    \n                    handler.cb = callback;\n                    handler.ctx = context;\n                    handler.ctx2 = context || me;\n                    handler.id = set.length;\n    \n                    set.push( handler );\n                });\n    \n                return this;\n            },\n    \n            /**\n             * 绑定事件，且当handler执行完后，自动解除绑定。\n             * @method once\n             * @grammar once( name, callback[, context] ) => self\n             * @param  {String}   name     事件名\n             * @param  {Function} callback 事件处理器\n             * @param  {Object}   [context]  事件处理器的上下文。\n             * @return {self} 返回自身，方便链式\n             * @chainable\n             */\n            once: function( name, callback, context ) {\n                var me = this;\n    \n                if ( !callback ) {\n                    return me;\n                }\n    \n                eachEvent( name, callback, function( name, callback ) {\n                    var once = function() {\n                            me.off( name, once );\n                            return callback.apply( context || me, arguments );\n                        };\n    \n                    once._cb = callback;\n                    me.on( name, once, context );\n                });\n    \n                return me;\n            },\n    \n            /**\n             * 解除事件绑定\n             * @method off\n             * @grammar off( [name[, callback[, context] ] ] ) => self\n             * @param  {String}   [name]     事件名\n             * @param  {Function} [callback] 事件处理器\n             * @param  {Object}   [context]  事件处理器的上下文。\n             * @return {self} 返回自身，方便链式\n             * @chainable\n             */\n            off: function( name, cb, ctx ) {\n                var events = this._events;\n    \n                if ( !events ) {\n                    return this;\n                }\n    \n                if ( !name && !cb && !ctx ) {\n                    this._events = [];\n                    return this;\n                }\n    \n                eachEvent( name, cb, function( name, cb ) {\n                    $.each( findHandlers( events, name, cb, ctx ), function() {\n                        delete events[ this.id ];\n                    });\n                });\n    \n                return this;\n            },\n    \n            /**\n             * 触发事件\n             * @method trigger\n             * @grammar trigger( name[, args...] ) => self\n             * @param  {String}   type     事件名\n             * @param  {*} [...] 任意参数\n             * @return {Boolean} 如果handler中return false了，则返回false, 否则返回true\n             */\n            trigger: function( type ) {\n                var args, events, allEvents;\n    \n                if ( !this._events || !type ) {\n                    return this;\n                }\n    \n                args = slice.call( arguments, 1 );\n                events = findHandlers( this._events, type );\n                allEvents = findHandlers( this._events, 'all' );\n    \n                return triggerHanders( events, args ) &&\n                        triggerHanders( allEvents, arguments );\n            }\n        };\n    \n        /**\n         * 中介者，它本身是个单例，但可以通过[installTo](#WebUploader:Mediator:installTo)方法，使任何对象具备事件行为。\n         * 主要目的是负责模块与模块之间的合作，降低耦合度。\n         *\n         * @class Mediator\n         */\n        return $.extend({\n    \n            /**\n             * 可以通过这个接口，使任何对象具备事件功能。\n             * @method installTo\n             * @param  {Object} obj 需要具备事件行为的对象。\n             * @return {Object} 返回obj.\n             */\n            installTo: function( obj ) {\n                return $.extend( obj, protos );\n            }\n    \n        }, protos );\n    });\n    /**\n     * @fileOverview Uploader上传类\n     */\n    define('uploader',[\n        'base',\n        'mediator'\n    ], function( Base, Mediator ) {\n    \n        var $ = Base.$;\n    \n        /**\n         * 上传入口类。\n         * @class Uploader\n         * @constructor\n         * @grammar new Uploader( opts ) => Uploader\n         * @example\n         * var uploader = WebUploader.Uploader({\n         *     swf: 'path_of_swf/Uploader.swf',\n         *\n         *     // 开起分片上传。\n         *     chunked: true\n         * });\n         */\n        function Uploader( opts ) {\n            this.options = $.extend( true, {}, Uploader.options, opts );\n            this._init( this.options );\n        }\n    \n        // default Options\n        // widgets中有相应扩展\n        Uploader.options = {};\n        Mediator.installTo( Uploader.prototype );\n    \n        // 批量添加纯命令式方法。\n        $.each({\n            upload: 'start-upload',\n            stop: 'stop-upload',\n            getFile: 'get-file',\n            getFiles: 'get-files',\n            addFile: 'add-file',\n            addFiles: 'add-file',\n            sort: 'sort-files',\n            removeFile: 'remove-file',\n            cancelFile: 'cancel-file',\n            skipFile: 'skip-file',\n            retry: 'retry',\n            isInProgress: 'is-in-progress',\n            makeThumb: 'make-thumb',\n            md5File: 'md5-file',\n            getDimension: 'get-dimension',\n            addButton: 'add-btn',\n            predictRuntimeType: 'predict-runtime-type',\n            refresh: 'refresh',\n            disable: 'disable',\n            enable: 'enable',\n            reset: 'reset'\n        }, function( fn, command ) {\n            Uploader.prototype[ fn ] = function() {\n                return this.request( command, arguments );\n            };\n        });\n    \n        $.extend( Uploader.prototype, {\n            state: 'pending',\n    \n            _init: function( opts ) {\n                var me = this;\n    \n                me.request( 'init', opts, function() {\n                    me.state = 'ready';\n                    me.trigger('ready');\n                });\n            },\n    \n            /**\n             * 获取或者设置Uploader配置项。\n             * @method option\n             * @grammar option( key ) => *\n             * @grammar option( key, val ) => self\n             * @example\n             *\n             * // 初始状态图片上传前不会压缩\n             * var uploader = new WebUploader.Uploader({\n             *     compress: null;\n             * });\n             *\n             * // 修改后图片上传前，尝试将图片压缩到1600 * 1600\n             * uploader.option( 'compress', {\n             *     width: 1600,\n             *     height: 1600\n             * });\n             */\n            option: function( key, val ) {\n                var opts = this.options;\n    \n                // setter\n                if ( arguments.length > 1 ) {\n    \n                    if ( $.isPlainObject( val ) &&\n                            $.isPlainObject( opts[ key ] ) ) {\n                        $.extend( opts[ key ], val );\n                    } else {\n                        opts[ key ] = val;\n                    }\n    \n                } else {    // getter\n                    return key ? opts[ key ] : opts;\n                }\n            },\n    \n            /**\n             * 获取文件统计信息。返回一个包含一下信息的对象。\n             * * `successNum` 上传成功的文件数\n             * * `progressNum` 上传中的文件数\n             * * `cancelNum` 被删除的文件数\n             * * `invalidNum` 无效的文件数\n             * * `uploadFailNum` 上传失败的文件数\n             * * `queueNum` 还在队列中的文件数\n             * * `interruptNum` 被暂停的文件数\n             * @method getStats\n             * @grammar getStats() => Object\n             */\n            getStats: function() {\n                // return this._mgr.getStats.apply( this._mgr, arguments );\n                var stats = this.request('get-stats');\n    \n                return stats ? {\n                    successNum: stats.numOfSuccess,\n                    progressNum: stats.numOfProgress,\n    \n                    // who care?\n                    // queueFailNum: 0,\n                    cancelNum: stats.numOfCancel,\n                    invalidNum: stats.numOfInvalid,\n                    uploadFailNum: stats.numOfUploadFailed,\n                    queueNum: stats.numOfQueue,\n                    interruptNum: stats.numofInterrupt\n                } : {};\n            },\n    \n            // 需要重写此方法来来支持opts.onEvent和instance.onEvent的处理器\n            trigger: function( type/*, args...*/ ) {\n                var args = [].slice.call( arguments, 1 ),\n                    opts = this.options,\n                    name = 'on' + type.substring( 0, 1 ).toUpperCase() +\n                        type.substring( 1 );\n    \n                if (\n                        // 调用通过on方法注册的handler.\n                        Mediator.trigger.apply( this, arguments ) === false ||\n    \n                        // 调用opts.onEvent\n                        $.isFunction( opts[ name ] ) &&\n                        opts[ name ].apply( this, args ) === false ||\n    \n                        // 调用this.onEvent\n                        $.isFunction( this[ name ] ) &&\n                        this[ name ].apply( this, args ) === false ||\n    \n                        // 广播所有uploader的事件。\n                        Mediator.trigger.apply( Mediator,\n                        [ this, type ].concat( args ) ) === false ) {\n    \n                    return false;\n                }\n    \n                return true;\n            },\n    \n            /**\n             * 销毁 webuploader 实例\n             * @method destroy\n             * @grammar destroy() => undefined\n             */\n            destroy: function() {\n                this.request( 'destroy', arguments );\n                this.off();\n            },\n    \n            // widgets/widget.js将补充此方法的详细文档。\n            request: Base.noop\n        });\n    \n        /**\n         * 创建Uploader实例，等同于new Uploader( opts );\n         * @method create\n         * @class Base\n         * @static\n         * @grammar Base.create( opts ) => Uploader\n         */\n        Base.create = Uploader.create = function( opts ) {\n            return new Uploader( opts );\n        };\n    \n        // 暴露Uploader，可以通过它来扩展业务逻辑。\n        Base.Uploader = Uploader;\n    \n        return Uploader;\n    });\n    /**\n     * @fileOverview Runtime管理器，负责Runtime的选择, 连接\n     */\n    define('runtime/runtime',[\n        'base',\n        'mediator'\n    ], function( Base, Mediator ) {\n    \n        var $ = Base.$,\n            factories = {},\n    \n            // 获取对象的第一个key\n            getFirstKey = function( obj ) {\n                for ( var key in obj ) {\n                    if ( obj.hasOwnProperty( key ) ) {\n                        return key;\n                    }\n                }\n                return null;\n            };\n    \n        // 接口类。\n        function Runtime( options ) {\n            this.options = $.extend({\n                container: document.body\n            }, options );\n            this.uid = Base.guid('rt_');\n        }\n    \n        $.extend( Runtime.prototype, {\n    \n            getContainer: function() {\n                var opts = this.options,\n                    parent, container;\n    \n                if ( this._container ) {\n                    return this._container;\n                }\n    \n                parent = $( opts.container || document.body );\n                container = $( document.createElement('div') );\n    \n                container.attr( 'id', 'rt_' + this.uid );\n                container.css({\n                    position: 'absolute',\n                    top: '0px',\n                    left: '0px',\n                    width: '1px',\n                    height: '1px',\n                    overflow: 'hidden'\n                });\n    \n                parent.append( container );\n                parent.addClass('webuploader-container');\n                this._container = container;\n                this._parent = parent;\n                return container;\n            },\n    \n            init: Base.noop,\n            exec: Base.noop,\n    \n            destroy: function() {\n                this._container && this._container.remove();\n                this._parent && this._parent.removeClass('webuploader-container');\n                this.off();\n            }\n        });\n    \n        Runtime.orders = 'html5,flash';\n    \n    \n        /**\n         * 添加Runtime实现。\n         * @param {String} type    类型\n         * @param {Runtime} factory 具体Runtime实现。\n         */\n        Runtime.addRuntime = function( type, factory ) {\n            factories[ type ] = factory;\n        };\n    \n        Runtime.hasRuntime = function( type ) {\n            return !!(type ? factories[ type ] : getFirstKey( factories ));\n        };\n    \n        Runtime.create = function( opts, orders ) {\n            var type, runtime;\n    \n            orders = orders || Runtime.orders;\n            $.each( orders.split( /\\s*,\\s*/g ), function() {\n                if ( factories[ this ] ) {\n                    type = this;\n                    return false;\n                }\n            });\n    \n            type = type || getFirstKey( factories );\n    \n            if ( !type ) {\n                throw new Error('Runtime Error');\n            }\n    \n            runtime = new factories[ type ]( opts );\n            return runtime;\n        };\n    \n        Mediator.installTo( Runtime.prototype );\n        return Runtime;\n    });\n    \n    /**\n     * @fileOverview Runtime管理器，负责Runtime的选择, 连接\n     */\n    define('runtime/client',[\n        'base',\n        'mediator',\n        'runtime/runtime'\n    ], function( Base, Mediator, Runtime ) {\n    \n        var cache;\n    \n        cache = (function() {\n            var obj = {};\n    \n            return {\n                add: function( runtime ) {\n                    obj[ runtime.uid ] = runtime;\n                },\n    \n                get: function( ruid, standalone ) {\n                    var i;\n    \n                    if ( ruid ) {\n                        return obj[ ruid ];\n                    }\n    \n                    for ( i in obj ) {\n                        // 有些类型不能重用，比如filepicker.\n                        if ( standalone && obj[ i ].__standalone ) {\n                            continue;\n                        }\n    \n                        return obj[ i ];\n                    }\n    \n                    return null;\n                },\n    \n                remove: function( runtime ) {\n                    delete obj[ runtime.uid ];\n                }\n            };\n        })();\n    \n        function RuntimeClient( component, standalone ) {\n            var deferred = Base.Deferred(),\n                runtime;\n    \n            this.uid = Base.guid('client_');\n    \n            // 允许runtime没有初始化之前，注册一些方法在初始化后执行。\n            this.runtimeReady = function( cb ) {\n                return deferred.done( cb );\n            };\n    \n            this.connectRuntime = function( opts, cb ) {\n    \n                // already connected.\n                if ( runtime ) {\n                    throw new Error('already connected!');\n                }\n    \n                deferred.done( cb );\n    \n                if ( typeof opts === 'string' && cache.get( opts ) ) {\n                    runtime = cache.get( opts );\n                }\n    \n                // 像filePicker只能独立存在，不能公用。\n                runtime = runtime || cache.get( null, standalone );\n    \n                // 需要创建\n                if ( !runtime ) {\n                    runtime = Runtime.create( opts, opts.runtimeOrder );\n                    runtime.__promise = deferred.promise();\n                    runtime.once( 'ready', deferred.resolve );\n                    runtime.init();\n                    cache.add( runtime );\n                    runtime.__client = 1;\n                } else {\n                    // 来自cache\n                    Base.$.extend( runtime.options, opts );\n                    runtime.__promise.then( deferred.resolve );\n                    runtime.__client++;\n                }\n    \n                standalone && (runtime.__standalone = standalone);\n                return runtime;\n            };\n    \n            this.getRuntime = function() {\n                return runtime;\n            };\n    \n            this.disconnectRuntime = function() {\n                if ( !runtime ) {\n                    return;\n                }\n    \n                runtime.__client--;\n    \n                if ( runtime.__client <= 0 ) {\n                    cache.remove( runtime );\n                    delete runtime.__promise;\n                    runtime.destroy();\n                }\n    \n                runtime = null;\n            };\n    \n            this.exec = function() {\n                if ( !runtime ) {\n                    return;\n                }\n    \n                var args = Base.slice( arguments );\n                component && args.unshift( component );\n    \n                return runtime.exec.apply( this, args );\n            };\n    \n            this.getRuid = function() {\n                return runtime && runtime.uid;\n            };\n    \n            this.destroy = (function( destroy ) {\n                return function() {\n                    destroy && destroy.apply( this, arguments );\n                    this.trigger('destroy');\n                    this.off();\n                    this.exec('destroy');\n                    this.disconnectRuntime();\n                };\n            })( this.destroy );\n        }\n    \n        Mediator.installTo( RuntimeClient.prototype );\n        return RuntimeClient;\n    });\n    /**\n     * @fileOverview 错误信息\n     */\n    define('lib/dnd',[\n        'base',\n        'mediator',\n        'runtime/client'\n    ], function( Base, Mediator, RuntimeClent ) {\n    \n        var $ = Base.$;\n    \n        function DragAndDrop( opts ) {\n            opts = this.options = $.extend({}, DragAndDrop.options, opts );\n    \n            opts.container = $( opts.container );\n    \n            if ( !opts.container.length ) {\n                return;\n            }\n    \n            RuntimeClent.call( this, 'DragAndDrop' );\n        }\n    \n        DragAndDrop.options = {\n            accept: null,\n            disableGlobalDnd: false\n        };\n    \n        Base.inherits( RuntimeClent, {\n            constructor: DragAndDrop,\n    \n            init: function() {\n                var me = this;\n    \n                me.connectRuntime( me.options, function() {\n                    me.exec('init');\n                    me.trigger('ready');\n                });\n            }\n        });\n    \n        Mediator.installTo( DragAndDrop.prototype );\n    \n        return DragAndDrop;\n    });\n    /**\n     * @fileOverview 组件基类。\n     */\n    define('widgets/widget',[\n        'base',\n        'uploader'\n    ], function( Base, Uploader ) {\n    \n        var $ = Base.$,\n            _init = Uploader.prototype._init,\n            _destroy = Uploader.prototype.destroy,\n            IGNORE = {},\n            widgetClass = [];\n    \n        function isArrayLike( obj ) {\n            if ( !obj ) {\n                return false;\n            }\n    \n            var length = obj.length,\n                type = $.type( obj );\n    \n            if ( obj.nodeType === 1 && length ) {\n                return true;\n            }\n    \n            return type === 'array' || type !== 'function' && type !== 'string' &&\n                    (length === 0 || typeof length === 'number' && length > 0 &&\n                    (length - 1) in obj);\n        }\n    \n        function Widget( uploader ) {\n            this.owner = uploader;\n            this.options = uploader.options;\n        }\n    \n        $.extend( Widget.prototype, {\n    \n            init: Base.noop,\n    \n            // 类Backbone的事件监听声明，监听uploader实例上的事件\n            // widget直接无法监听事件，事件只能通过uploader来传递\n            invoke: function( apiName, args ) {\n    \n                /*\n                    {\n                        'make-thumb': 'makeThumb'\n                    }\n                 */\n                var map = this.responseMap;\n    \n                // 如果无API响应声明则忽略\n                if ( !map || !(apiName in map) || !(map[ apiName ] in this) ||\n                        !$.isFunction( this[ map[ apiName ] ] ) ) {\n    \n                    return IGNORE;\n                }\n    \n                return this[ map[ apiName ] ].apply( this, args );\n    \n            },\n    \n            /**\n             * 发送命令。当传入`callback`或者`handler`中返回`promise`时。返回一个当所有`handler`中的promise都完成后完成的新`promise`。\n             * @method request\n             * @grammar request( command, args ) => * | Promise\n             * @grammar request( command, args, callback ) => Promise\n             * @for  Uploader\n             */\n            request: function() {\n                return this.owner.request.apply( this.owner, arguments );\n            }\n        });\n    \n        // 扩展Uploader.\n        $.extend( Uploader.prototype, {\n    \n            /**\n             * @property {String | Array} [disableWidgets=undefined]\n             * @namespace options\n             * @for Uploader\n             * @description 默认所有 Uploader.register 了的 widget 都会被加载，如果禁用某一部分，请通过此 option 指定黑名单。\n             */\n    \n            // 覆写_init用来初始化widgets\n            _init: function() {\n                var me = this,\n                    widgets = me._widgets = [],\n                    deactives = me.options.disableWidgets || '';\n    \n                $.each( widgetClass, function( _, klass ) {\n                    (!deactives || !~deactives.indexOf( klass._name )) &&\n                        widgets.push( new klass( me ) );\n                });\n    \n                return _init.apply( me, arguments );\n            },\n    \n            request: function( apiName, args, callback ) {\n                var i = 0,\n                    widgets = this._widgets,\n                    len = widgets && widgets.length,\n                    rlts = [],\n                    dfds = [],\n                    widget, rlt, promise, key;\n    \n                args = isArrayLike( args ) ? args : [ args ];\n    \n                for ( ; i < len; i++ ) {\n                    widget = widgets[ i ];\n                    rlt = widget.invoke( apiName, args );\n    \n                    if ( rlt !== IGNORE ) {\n    \n                        // Deferred对象\n                        if ( Base.isPromise( rlt ) ) {\n                            dfds.push( rlt );\n                        } else {\n                            rlts.push( rlt );\n                        }\n                    }\n                }\n    \n                // 如果有callback，则用异步方式。\n                if ( callback || dfds.length ) {\n                    promise = Base.when.apply( Base, dfds );\n                    key = promise.pipe ? 'pipe' : 'then';\n    \n                    // 很重要不能删除。删除了会死循环。\n                    // 保证执行顺序。让callback总是在下一个 tick 中执行。\n                    return promise[ key ](function() {\n                                var deferred = Base.Deferred(),\n                                    args = arguments;\n    \n                                if ( args.length === 1 ) {\n                                    args = args[ 0 ];\n                                }\n    \n                                setTimeout(function() {\n                                    deferred.resolve( args );\n                                }, 1 );\n    \n                                return deferred.promise();\n                            })[ callback ? key : 'done' ]( callback || Base.noop );\n                } else {\n                    return rlts[ 0 ];\n                }\n            },\n    \n            destroy: function() {\n                _destroy.apply( this, arguments );\n                this._widgets = null;\n            }\n        });\n    \n        /**\n         * 添加组件\n         * @grammar Uploader.register(proto);\n         * @grammar Uploader.register(map, proto);\n         * @param  {object} responseMap API 名称与函数实现的映射\n         * @param  {object} proto 组件原型，构造函数通过 constructor 属性定义\n         * @method Uploader.register\n         * @for Uploader\n         * @example\n         * Uploader.register({\n         *     'make-thumb': 'makeThumb'\n         * }, {\n         *     init: function( options ) {},\n         *     makeThumb: function() {}\n         * });\n         *\n         * Uploader.register({\n         *     'make-thumb': function() {\n         *         \n         *     }\n         * });\n         */\n        Uploader.register = Widget.register = function( responseMap, widgetProto ) {\n            var map = { init: 'init', destroy: 'destroy', name: 'anonymous' },\n                klass;\n    \n            if ( arguments.length === 1 ) {\n                widgetProto = responseMap;\n    \n                // 自动生成 map 表。\n                $.each(widgetProto, function(key) {\n                    if ( key[0] === '_' || key === 'name' ) {\n                        key === 'name' && (map.name = widgetProto.name);\n                        return;\n                    }\n    \n                    map[key.replace(/[A-Z]/g, '-$&').toLowerCase()] = key;\n                });\n    \n            } else {\n                map = $.extend( map, responseMap );\n            }\n    \n            widgetProto.responseMap = map;\n            klass = Base.inherits( Widget, widgetProto );\n            klass._name = map.name;\n            widgetClass.push( klass );\n    \n            return klass;\n        };\n    \n        /**\n         * 删除插件，只有在注册时指定了名字的才能被删除。\n         * @grammar Uploader.unRegister(name);\n         * @param  {string} name 组件名字\n         * @method Uploader.unRegister\n         * @for Uploader\n         * @example\n         *\n         * Uploader.register({\n         *     name: 'custom',\n         *     \n         *     'make-thumb': function() {\n         *         \n         *     }\n         * });\n         *\n         * Uploader.unRegister('custom');\n         */\n        Uploader.unRegister = Widget.unRegister = function( name ) {\n            if ( !name || name === 'anonymous' ) {\n                return;\n            }\n            \n            // 删除指定的插件。\n            for ( var i = widgetClass.length; i--; ) {\n                if ( widgetClass[i]._name === name ) {\n                    widgetClass.splice(i, 1)\n                }\n            }\n        };\n    \n        return Widget;\n    });\n    /**\n     * @fileOverview DragAndDrop Widget。\n     */\n    define('widgets/filednd',[\n        'base',\n        'uploader',\n        'lib/dnd',\n        'widgets/widget'\n    ], function( Base, Uploader, Dnd ) {\n        var $ = Base.$;\n    \n        Uploader.options.dnd = '';\n    \n        /**\n         * @property {Selector} [dnd=undefined]  指定Drag And Drop拖拽的容器，如果不指定，则不启动。\n         * @namespace options\n         * @for Uploader\n         */\n        \n        /**\n         * @property {Selector} [disableGlobalDnd=false]  是否禁掉整个页面的拖拽功能，如果不禁用，图片拖进来的时候会默认被浏览器打开。\n         * @namespace options\n         * @for Uploader\n         */\n    \n        /**\n         * @event dndAccept\n         * @param {DataTransferItemList} items DataTransferItem\n         * @description 阻止此事件可以拒绝某些类型的文件拖入进来。目前只有 chrome 提供这样的 API，且只能通过 mime-type 验证。\n         * @for  Uploader\n         */\n        return Uploader.register({\n            name: 'dnd',\n            \n            init: function( opts ) {\n    \n                if ( !opts.dnd ||\n                        this.request('predict-runtime-type') !== 'html5' ) {\n                    return;\n                }\n    \n                var me = this,\n                    deferred = Base.Deferred(),\n                    options = $.extend({}, {\n                        disableGlobalDnd: opts.disableGlobalDnd,\n                        container: opts.dnd,\n                        accept: opts.accept\n                    }),\n                    dnd;\n    \n                this.dnd = dnd = new Dnd( options );\n    \n                dnd.once( 'ready', deferred.resolve );\n                dnd.on( 'drop', function( files ) {\n                    me.request( 'add-file', [ files ]);\n                });\n    \n                // 检测文件是否全部允许添加。\n                dnd.on( 'accept', function( items ) {\n                    return me.owner.trigger( 'dndAccept', items );\n                });\n    \n                dnd.init();\n    \n                return deferred.promise();\n            },\n    \n            destroy: function() {\n                this.dnd && this.dnd.destroy();\n            }\n        });\n    });\n    \n    /**\n     * @fileOverview 错误信息\n     */\n    define('lib/filepaste',[\n        'base',\n        'mediator',\n        'runtime/client'\n    ], function( Base, Mediator, RuntimeClent ) {\n    \n        var $ = Base.$;\n    \n        function FilePaste( opts ) {\n            opts = this.options = $.extend({}, opts );\n            opts.container = $( opts.container || document.body );\n            RuntimeClent.call( this, 'FilePaste' );\n        }\n    \n        Base.inherits( RuntimeClent, {\n            constructor: FilePaste,\n    \n            init: function() {\n                var me = this;\n    \n                me.connectRuntime( me.options, function() {\n                    me.exec('init');\n                    me.trigger('ready');\n                });\n            }\n        });\n    \n        Mediator.installTo( FilePaste.prototype );\n    \n        return FilePaste;\n    });\n    /**\n     * @fileOverview 组件基类。\n     */\n    define('widgets/filepaste',[\n        'base',\n        'uploader',\n        'lib/filepaste',\n        'widgets/widget'\n    ], function( Base, Uploader, FilePaste ) {\n        var $ = Base.$;\n    \n        /**\n         * @property {Selector} [paste=undefined]  指定监听paste事件的容器，如果不指定，不启用此功能。此功能为通过粘贴来添加截屏的图片。建议设置为`document.body`.\n         * @namespace options\n         * @for Uploader\n         */\n        return Uploader.register({\n            name: 'paste',\n            \n            init: function( opts ) {\n    \n                if ( !opts.paste ||\n                        this.request('predict-runtime-type') !== 'html5' ) {\n                    return;\n                }\n    \n                var me = this,\n                    deferred = Base.Deferred(),\n                    options = $.extend({}, {\n                        container: opts.paste,\n                        accept: opts.accept\n                    }),\n                    paste;\n    \n                this.paste = paste = new FilePaste( options );\n    \n                paste.once( 'ready', deferred.resolve );\n                paste.on( 'paste', function( files ) {\n                    me.owner.request( 'add-file', [ files ]);\n                });\n                paste.init();\n    \n                return deferred.promise();\n            },\n    \n            destroy: function() {\n                this.paste && this.paste.destroy();\n            }\n        });\n    });\n    /**\n     * @fileOverview Blob\n     */\n    define('lib/blob',[\n        'base',\n        'runtime/client'\n    ], function( Base, RuntimeClient ) {\n    \n        function Blob( ruid, source ) {\n            var me = this;\n    \n            me.source = source;\n            me.ruid = ruid;\n            this.size = source.size || 0;\n    \n            // 如果没有指定 mimetype, 但是知道文件后缀。\n            if ( !source.type && this.ext &&\n                    ~'jpg,jpeg,png,gif,bmp'.indexOf( this.ext ) ) {\n                this.type = 'image/' + (this.ext === 'jpg' ? 'jpeg' : this.ext);\n            } else {\n                this.type = source.type || 'application/octet-stream';\n            }\n    \n            RuntimeClient.call( me, 'Blob' );\n            this.uid = source.uid || this.uid;\n    \n            if ( ruid ) {\n                me.connectRuntime( ruid );\n            }\n        }\n    \n        Base.inherits( RuntimeClient, {\n            constructor: Blob,\n    \n            slice: function( start, end ) {\n                return this.exec( 'slice', start, end );\n            },\n    \n            getSource: function() {\n                return this.source;\n            }\n        });\n    \n        return Blob;\n    });\n    /**\n     * 为了统一化Flash的File和HTML5的File而存在。\n     * 以至于要调用Flash里面的File，也可以像调用HTML5版本的File一下。\n     * @fileOverview File\n     */\n    define('lib/file',[\n        'base',\n        'lib/blob'\n    ], function( Base, Blob ) {\n    \n        var uid = 1,\n            rExt = /\\.([^.]+)$/;\n    \n        function File( ruid, file ) {\n            var ext;\n    \n            this.name = file.name || ('untitled' + uid++);\n            ext = rExt.exec( file.name ) ? RegExp.$1.toLowerCase() : '';\n    \n            // todo 支持其他类型文件的转换。\n            // 如果有 mimetype, 但是文件名里面没有找出后缀规律\n            if ( !ext && file.type ) {\n                ext = /\\/(jpg|jpeg|png|gif|bmp)$/i.exec( file.type ) ?\n                        RegExp.$1.toLowerCase() : '';\n                this.name += '.' + ext;\n            }\n    \n            this.ext = ext;\n            this.lastModifiedDate = file.lastModifiedDate ||\n                    (new Date()).toLocaleString();\n    \n            Blob.apply( this, arguments );\n        }\n    \n        return Base.inherits( Blob, File );\n    });\n    \n    /**\n     * @fileOverview 错误信息\n     */\n    define('lib/filepicker',[\n        'base',\n        'runtime/client',\n        'lib/file'\n    ], function( Base, RuntimeClent, File ) {\n    \n        var $ = Base.$;\n    \n        function FilePicker( opts ) {\n            opts = this.options = $.extend({}, FilePicker.options, opts );\n    \n            opts.container = $( opts.id );\n    \n            if ( !opts.container.length ) {\n                throw new Error('按钮指定错误');\n            }\n    \n            opts.innerHTML = opts.innerHTML || opts.label ||\n                    opts.container.html() || '';\n    \n            opts.button = $( opts.button || document.createElement('div') );\n            opts.button.html( opts.innerHTML );\n            opts.container.html( opts.button );\n    \n            RuntimeClent.call( this, 'FilePicker', true );\n        }\n    \n        FilePicker.options = {\n            button: null,\n            container: null,\n            label: null,\n            innerHTML: null,\n            multiple: true,\n            accept: null,\n            name: 'file'\n        };\n    \n        Base.inherits( RuntimeClent, {\n            constructor: FilePicker,\n    \n            init: function() {\n                var me = this,\n                    opts = me.options,\n                    button = opts.button;\n    \n                button.addClass('webuploader-pick');\n    \n                me.on( 'all', function( type ) {\n                    var files;\n    \n                    switch ( type ) {\n                        case 'mouseenter':\n                            button.addClass('webuploader-pick-hover');\n                            break;\n    \n                        case 'mouseleave':\n                            button.removeClass('webuploader-pick-hover');\n                            break;\n    \n                        case 'change':\n                            files = me.exec('getFiles');\n                            me.trigger( 'select', $.map( files, function( file ) {\n                                file = new File( me.getRuid(), file );\n    \n                                // 记录来源。\n                                file._refer = opts.container;\n                                return file;\n                            }), opts.container );\n                            break;\n                    }\n                });\n    \n                me.connectRuntime( opts, function() {\n                    me.refresh();\n                    me.exec( 'init', opts );\n                    me.trigger('ready');\n                });\n    \n                this._resizeHandler = Base.bindFn( this.refresh, this );\n                $( window ).on( 'resize', this._resizeHandler );\n            },\n    \n            refresh: function() {\n                var shimContainer = this.getRuntime().getContainer(),\n                    button = this.options.button,\n                    width = button.outerWidth ?\n                            button.outerWidth() : button.width(),\n    \n                    height = button.outerHeight ?\n                            button.outerHeight() : button.height(),\n    \n                    pos = button.offset();\n    \n                width && height && shimContainer.css({\n                    bottom: 'auto',\n                    right: 'auto',\n                    width: width + 'px',\n                    height: height + 'px'\n                }).offset( pos );\n            },\n    \n            enable: function() {\n                var btn = this.options.button;\n    \n                btn.removeClass('webuploader-pick-disable');\n                this.refresh();\n            },\n    \n            disable: function() {\n                var btn = this.options.button;\n    \n                this.getRuntime().getContainer().css({\n                    top: '-99999px'\n                });\n    \n                btn.addClass('webuploader-pick-disable');\n            },\n    \n            destroy: function() {\n                var btn = this.options.button;\n                $( window ).off( 'resize', this._resizeHandler );\n                btn.removeClass('webuploader-pick-disable webuploader-pick-hover ' +\n                    'webuploader-pick');\n            }\n        });\n    \n        return FilePicker;\n    });\n    \n    /**\n     * @fileOverview 文件选择相关\n     */\n    define('widgets/filepicker',[\n        'base',\n        'uploader',\n        'lib/filepicker',\n        'widgets/widget'\n    ], function( Base, Uploader, FilePicker ) {\n        var $ = Base.$;\n    \n        $.extend( Uploader.options, {\n    \n            /**\n             * @property {Selector | Object} [pick=undefined]\n             * @namespace options\n             * @for Uploader\n             * @description 指定选择文件的按钮容器，不指定则不创建按钮。\n             *\n             * * `id` {Seletor} 指定选择文件的按钮容器，不指定则不创建按钮。\n             * * `label` {String} 请采用 `innerHTML` 代替\n             * * `innerHTML` {String} 指定按钮文字。不指定时优先从指定的容器中看是否自带文字。\n             * * `multiple` {Boolean} 是否开起同时选择多个文件能力。\n             */\n            pick: null,\n    \n            /**\n             * @property {Arroy} [accept=null]\n             * @namespace options\n             * @for Uploader\n             * @description 指定接受哪些类型的文件。 由于目前还有ext转mimeType表，所以这里需要分开指定。\n             *\n             * * `title` {String} 文字描述\n             * * `extensions` {String} 允许的文件后缀，不带点，多个用逗号分割。\n             * * `mimeTypes` {String} 多个用逗号分割。\n             *\n             * 如：\n             *\n             * ```\n             * {\n             *     title: 'Images',\n             *     extensions: 'gif,jpg,jpeg,bmp,png',\n             *     mimeTypes: 'image/*'\n             * }\n             * ```\n             */\n            accept: null/*{\n                title: 'Images',\n                extensions: 'gif,jpg,jpeg,bmp,png',\n                mimeTypes: 'image/*'\n            }*/\n        });\n    \n        return Uploader.register({\n            name: 'picker',\n    \n            init: function( opts ) {\n                this.pickers = [];\n                return opts.pick && this.addBtn( opts.pick );\n            },\n    \n            refresh: function() {\n                $.each( this.pickers, function() {\n                    this.refresh();\n                });\n            },\n    \n            /**\n             * @method addButton\n             * @for Uploader\n             * @grammar addButton( pick ) => Promise\n             * @description\n             * 添加文件选择按钮，如果一个按钮不够，需要调用此方法来添加。参数跟[options.pick](#WebUploader:Uploader:options)一致。\n             * @example\n             * uploader.addButton({\n             *     id: '#btnContainer',\n             *     innerHTML: '选择文件'\n             * });\n             */\n            addBtn: function( pick ) {\n                var me = this,\n                    opts = me.options,\n                    accept = opts.accept,\n                    promises = [];\n    \n                if ( !pick ) {\n                    return;\n                }\n                \n                $.isPlainObject( pick ) || (pick = {\n                    id: pick\n                });\n    \n                $( pick.id ).each(function() {\n                    var options, picker, deferred;\n    \n                    deferred = Base.Deferred();\n    \n                    options = $.extend({}, pick, {\n                        accept: $.isPlainObject( accept ) ? [ accept ] : accept,\n                        swf: opts.swf,\n                        runtimeOrder: opts.runtimeOrder,\n                        id: this\n                    });\n    \n                    picker = new FilePicker( options );\n    \n                    picker.once( 'ready', deferred.resolve );\n                    picker.on( 'select', function( files ) {\n                        me.owner.request( 'add-file', [ files ]);\n                    });\n                    picker.init();\n    \n                    me.pickers.push( picker );\n    \n                    promises.push( deferred.promise() );\n                });\n    \n                return Base.when.apply( Base, promises );\n            },\n    \n            disable: function() {\n                $.each( this.pickers, function() {\n                    this.disable();\n                });\n            },\n    \n            enable: function() {\n                $.each( this.pickers, function() {\n                    this.enable();\n                });\n            },\n    \n            destroy: function() {\n                $.each( this.pickers, function() {\n                    this.destroy();\n                });\n                this.pickers = null;\n            }\n        });\n    });\n    /**\n     * @fileOverview 文件属性封装\n     */\n    define('file',[\n        'base',\n        'mediator'\n    ], function( Base, Mediator ) {\n    \n        var $ = Base.$,\n            idPrefix = 'WU_FILE_',\n            idSuffix = 0,\n            rExt = /\\.([^.]+)$/,\n            statusMap = {};\n    \n        function gid() {\n            return idPrefix + idSuffix++;\n        }\n    \n        /**\n         * 文件类\n         * @class File\n         * @constructor 构造函数\n         * @grammar new File( source ) => File\n         * @param {Lib.File} source [lib.File](#Lib.File)实例, 此source对象是带有Runtime信息的。\n         */\n        function WUFile( source ) {\n    \n            /**\n             * 文件名，包括扩展名（后缀）\n             * @property name\n             * @type {string}\n             */\n            this.name = source.name || 'Untitled';\n    \n            /**\n             * 文件体积（字节）\n             * @property size\n             * @type {uint}\n             * @default 0\n             */\n            this.size = source.size || 0;\n    \n            /**\n             * 文件MIMETYPE类型，与文件类型的对应关系请参考[http://t.cn/z8ZnFny](http://t.cn/z8ZnFny)\n             * @property type\n             * @type {string}\n             * @default 'application/octet-stream'\n             */\n            this.type = source.type || 'application/octet-stream';\n    \n            /**\n             * 文件最后修改日期\n             * @property lastModifiedDate\n             * @type {int}\n             * @default 当前时间戳\n             */\n            this.lastModifiedDate = source.lastModifiedDate || (new Date() * 1);\n    \n            /**\n             * 文件ID，每个对象具有唯一ID，与文件名无关\n             * @property id\n             * @type {string}\n             */\n            this.id = gid();\n    \n            /**\n             * 文件扩展名，通过文件名获取，例如test.png的扩展名为png\n             * @property ext\n             * @type {string}\n             */\n            this.ext = rExt.exec( this.name ) ? RegExp.$1 : '';\n    \n    \n            /**\n             * 状态文字说明。在不同的status语境下有不同的用途。\n             * @property statusText\n             * @type {string}\n             */\n            this.statusText = '';\n    \n            // 存储文件状态，防止通过属性直接修改\n            statusMap[ this.id ] = WUFile.Status.INITED;\n    \n            this.source = source;\n            this.loaded = 0;\n    \n            this.on( 'error', function( msg ) {\n                this.setStatus( WUFile.Status.ERROR, msg );\n            });\n        }\n    \n        $.extend( WUFile.prototype, {\n    \n            /**\n             * 设置状态，状态变化时会触发`change`事件。\n             * @method setStatus\n             * @grammar setStatus( status[, statusText] );\n             * @param {File.Status|String} status [文件状态值](#WebUploader:File:File.Status)\n             * @param {String} [statusText=''] 状态说明，常在error时使用，用http, abort,server等来标记是由于什么原因导致文件错误。\n             */\n            setStatus: function( status, text ) {\n    \n                var prevStatus = statusMap[ this.id ];\n    \n                typeof text !== 'undefined' && (this.statusText = text);\n    \n                if ( status !== prevStatus ) {\n                    statusMap[ this.id ] = status;\n                    /**\n                     * 文件状态变化\n                     * @event statuschange\n                     */\n                    this.trigger( 'statuschange', status, prevStatus );\n                }\n    \n            },\n    \n            /**\n             * 获取文件状态\n             * @return {File.Status}\n             * @example\n                     文件状态具体包括以下几种类型：\n                     {\n                         // 初始化\n                        INITED:     0,\n                        // 已入队列\n                        QUEUED:     1,\n                        // 正在上传\n                        PROGRESS:     2,\n                        // 上传出错\n                        ERROR:         3,\n                        // 上传成功\n                        COMPLETE:     4,\n                        // 上传取消\n                        CANCELLED:     5\n                    }\n             */\n            getStatus: function() {\n                return statusMap[ this.id ];\n            },\n    \n            /**\n             * 获取文件原始信息。\n             * @return {*}\n             */\n            getSource: function() {\n                return this.source;\n            },\n    \n            destroy: function() {\n                this.off();\n                delete statusMap[ this.id ];\n            }\n        });\n    \n        Mediator.installTo( WUFile.prototype );\n    \n        /**\n         * 文件状态值，具体包括以下几种类型：\n         * * `inited` 初始状态\n         * * `queued` 已经进入队列, 等待上传\n         * * `progress` 上传中\n         * * `complete` 上传完成。\n         * * `error` 上传出错，可重试\n         * * `interrupt` 上传中断，可续传。\n         * * `invalid` 文件不合格，不能重试上传。会自动从队列中移除。\n         * * `cancelled` 文件被移除。\n         * @property {Object} Status\n         * @namespace File\n         * @class File\n         * @static\n         */\n        WUFile.Status = {\n            INITED:     'inited',    // 初始状态\n            QUEUED:     'queued',    // 已经进入队列, 等待上传\n            PROGRESS:   'progress',    // 上传中\n            ERROR:      'error',    // 上传出错，可重试\n            COMPLETE:   'complete',    // 上传完成。\n            CANCELLED:  'cancelled',    // 上传取消。\n            INTERRUPT:  'interrupt',    // 上传中断，可续传。\n            INVALID:    'invalid'    // 文件不合格，不能重试上传。\n        };\n    \n        return WUFile;\n    });\n    \n    /**\n     * @fileOverview 文件队列\n     */\n    define('queue',[\n        'base',\n        'mediator',\n        'file'\n    ], function( Base, Mediator, WUFile ) {\n    \n        var $ = Base.$,\n            STATUS = WUFile.Status;\n    \n        /**\n         * 文件队列, 用来存储各个状态中的文件。\n         * @class Queue\n         * @extends Mediator\n         */\n        function Queue() {\n    \n            /**\n             * 统计文件数。\n             * * `numOfQueue` 队列中的文件数。\n             * * `numOfSuccess` 上传成功的文件数\n             * * `numOfCancel` 被取消的文件数\n             * * `numOfProgress` 正在上传中的文件数\n             * * `numOfUploadFailed` 上传错误的文件数。\n             * * `numOfInvalid` 无效的文件数。\n             * * `numofDeleted` 被移除的文件数。\n             * @property {Object} stats\n             */\n            this.stats = {\n                numOfQueue: 0,\n                numOfSuccess: 0,\n                numOfCancel: 0,\n                numOfProgress: 0,\n                numOfUploadFailed: 0,\n                numOfInvalid: 0,\n                numofDeleted: 0,\n                numofInterrupt: 0,\n            };\n    \n            // 上传队列，仅包括等待上传的文件\n            this._queue = [];\n    \n            // 存储所有文件\n            this._map = {};\n        }\n    \n        $.extend( Queue.prototype, {\n    \n            /**\n             * 将新文件加入对队列尾部\n             *\n             * @method append\n             * @param  {File} file   文件对象\n             */\n            append: function( file ) {\n                this._queue.push( file );\n                this._fileAdded( file );\n                return this;\n            },\n    \n            /**\n             * 将新文件加入对队列头部\n             *\n             * @method prepend\n             * @param  {File} file   文件对象\n             */\n            prepend: function( file ) {\n                this._queue.unshift( file );\n                this._fileAdded( file );\n                return this;\n            },\n    \n            /**\n             * 获取文件对象\n             *\n             * @method getFile\n             * @param  {String} fileId   文件ID\n             * @return {File}\n             */\n            getFile: function( fileId ) {\n                if ( typeof fileId !== 'string' ) {\n                    return fileId;\n                }\n                return this._map[ fileId ];\n            },\n    \n            /**\n             * 从队列中取出一个指定状态的文件。\n             * @grammar fetch( status ) => File\n             * @method fetch\n             * @param {String} status [文件状态值](#WebUploader:File:File.Status)\n             * @return {File} [File](#WebUploader:File)\n             */\n            fetch: function( status ) {\n                var len = this._queue.length,\n                    i, file;\n    \n                status = status || STATUS.QUEUED;\n    \n                for ( i = 0; i < len; i++ ) {\n                    file = this._queue[ i ];\n    \n                    if ( status === file.getStatus() ) {\n                        return file;\n                    }\n                }\n    \n                return null;\n            },\n    \n            /**\n             * 对队列进行排序，能够控制文件上传顺序。\n             * @grammar sort( fn ) => undefined\n             * @method sort\n             * @param {Function} fn 排序方法\n             */\n            sort: function( fn ) {\n                if ( typeof fn === 'function' ) {\n                    this._queue.sort( fn );\n                }\n            },\n    \n            /**\n             * 获取指定类型的文件列表, 列表中每一个成员为[File](#WebUploader:File)对象。\n             * @grammar getFiles( [status1[, status2 ...]] ) => Array\n             * @method getFiles\n             * @param {String} [status] [文件状态值](#WebUploader:File:File.Status)\n             */\n            getFiles: function() {\n                var sts = [].slice.call( arguments, 0 ),\n                    ret = [],\n                    i = 0,\n                    len = this._queue.length,\n                    file;\n    \n                for ( ; i < len; i++ ) {\n                    file = this._queue[ i ];\n    \n                    if ( sts.length && !~$.inArray( file.getStatus(), sts ) ) {\n                        continue;\n                    }\n    \n                    ret.push( file );\n                }\n    \n                return ret;\n            },\n    \n            /**\n             * 在队列中删除文件。\n             * @grammar removeFile( file ) => Array\n             * @method removeFile\n             * @param {File} 文件对象。\n             */\n            removeFile: function( file ) {\n                var me = this,\n                    existing = this._map[ file.id ];\n    \n                if ( existing ) {\n                    delete this._map[ file.id ];\n                    file.destroy();\n                    this.stats.numofDeleted++;\n                }\n            },\n    \n            _fileAdded: function( file ) {\n                var me = this,\n                    existing = this._map[ file.id ];\n    \n                if ( !existing ) {\n                    this._map[ file.id ] = file;\n    \n                    file.on( 'statuschange', function( cur, pre ) {\n                        me._onFileStatusChange( cur, pre );\n                    });\n                }\n            },\n    \n            _onFileStatusChange: function( curStatus, preStatus ) {\n                var stats = this.stats;\n    \n                switch ( preStatus ) {\n                    case STATUS.PROGRESS:\n                        stats.numOfProgress--;\n                        break;\n    \n                    case STATUS.QUEUED:\n                        stats.numOfQueue --;\n                        break;\n    \n                    case STATUS.ERROR:\n                        stats.numOfUploadFailed--;\n                        break;\n    \n                    case STATUS.INVALID:\n                        stats.numOfInvalid--;\n                        break;\n    \n                    case STATUS.INTERRUPT:\n                        stats.numofInterrupt--;\n                        break;\n                }\n    \n                switch ( curStatus ) {\n                    case STATUS.QUEUED:\n                        stats.numOfQueue++;\n                        break;\n    \n                    case STATUS.PROGRESS:\n                        stats.numOfProgress++;\n                        break;\n    \n                    case STATUS.ERROR:\n                        stats.numOfUploadFailed++;\n                        break;\n    \n                    case STATUS.COMPLETE:\n                        stats.numOfSuccess++;\n                        break;\n    \n                    case STATUS.CANCELLED:\n                        stats.numOfCancel++;\n                        break;\n    \n    \n                    case STATUS.INVALID:\n                        stats.numOfInvalid++;\n                        break;\n    \n                    case STATUS.INTERRUPT:\n                        stats.numofInterrupt++;\n                        break;\n                }\n            }\n    \n        });\n    \n        Mediator.installTo( Queue.prototype );\n    \n        return Queue;\n    });\n    /**\n     * @fileOverview 队列\n     */\n    define('widgets/queue',[\n        'base',\n        'uploader',\n        'queue',\n        'file',\n        'lib/file',\n        'runtime/client',\n        'widgets/widget'\n    ], function( Base, Uploader, Queue, WUFile, File, RuntimeClient ) {\n    \n        var $ = Base.$,\n            rExt = /\\.\\w+$/,\n            Status = WUFile.Status;\n    \n        return Uploader.register({\n            name: 'queue',\n    \n            init: function( opts ) {\n                var me = this,\n                    deferred, len, i, item, arr, accept, runtime;\n    \n                if ( $.isPlainObject( opts.accept ) ) {\n                    opts.accept = [ opts.accept ];\n                }\n    \n                // accept中的中生成匹配正则。\n                if ( opts.accept ) {\n                    arr = [];\n    \n                    for ( i = 0, len = opts.accept.length; i < len; i++ ) {\n                        item = opts.accept[ i ].extensions;\n                        item && arr.push( item );\n                    }\n    \n                    if ( arr.length ) {\n                        accept = '\\\\.' + arr.join(',')\n                                .replace( /,/g, '$|\\\\.' )\n                                .replace( /\\*/g, '.*' ) + '$';\n                    }\n    \n                    me.accept = new RegExp( accept, 'i' );\n                }\n    \n                me.queue = new Queue();\n                me.stats = me.queue.stats;\n    \n                // 如果当前不是html5运行时，那就算了。\n                // 不执行后续操作\n                if ( this.request('predict-runtime-type') !== 'html5' ) {\n                    return;\n                }\n    \n                // 创建一个 html5 运行时的 placeholder\n                // 以至于外部添加原生 File 对象的时候能正确包裹一下供 webuploader 使用。\n                deferred = Base.Deferred();\n                this.placeholder = runtime = new RuntimeClient('Placeholder');\n                runtime.connectRuntime({\n                    runtimeOrder: 'html5'\n                }, function() {\n                    me._ruid = runtime.getRuid();\n                    deferred.resolve();\n                });\n                return deferred.promise();\n            },\n    \n    \n            // 为了支持外部直接添加一个原生File对象。\n            _wrapFile: function( file ) {\n                if ( !(file instanceof WUFile) ) {\n    \n                    if ( !(file instanceof File) ) {\n                        if ( !this._ruid ) {\n                            throw new Error('Can\\'t add external files.');\n                        }\n                        file = new File( this._ruid, file );\n                    }\n    \n                    file = new WUFile( file );\n                }\n    \n                return file;\n            },\n    \n            // 判断文件是否可以被加入队列\n            acceptFile: function( file ) {\n                var invalid = !file || !file.size || this.accept &&\n    \n                        // 如果名字中有后缀，才做后缀白名单处理。\n                        rExt.exec( file.name ) && !this.accept.test( file.name );\n    \n                return !invalid;\n            },\n    \n    \n            /**\n             * @event beforeFileQueued\n             * @param {File} file File对象\n             * @description 当文件被加入队列之前触发，此事件的handler返回值为`false`，则此文件不会被添加进入队列。\n             * @for  Uploader\n             */\n    \n            /**\n             * @event fileQueued\n             * @param {File} file File对象\n             * @description 当文件被加入队列以后触发。\n             * @for  Uploader\n             */\n    \n            _addFile: function( file ) {\n                var me = this;\n    \n                file = me._wrapFile( file );\n    \n                // 不过类型判断允许不允许，先派送 `beforeFileQueued`\n                if ( !me.owner.trigger( 'beforeFileQueued', file ) ) {\n                    return;\n                }\n    \n                // 类型不匹配，则派送错误事件，并返回。\n                if ( !me.acceptFile( file ) ) {\n                    me.owner.trigger( 'error', 'Q_TYPE_DENIED', file );\n                    return;\n                }\n    \n                me.queue.append( file );\n                me.owner.trigger( 'fileQueued', file );\n                return file;\n            },\n    \n            getFile: function( fileId ) {\n                return this.queue.getFile( fileId );\n            },\n    \n            /**\n             * @event filesQueued\n             * @param {File} files 数组，内容为原始File(lib/File）对象。\n             * @description 当一批文件添加进队列以后触发。\n             * @for  Uploader\n             */\n            \n            /**\n             * @property {Boolean} [auto=false]\n             * @namespace options\n             * @for Uploader\n             * @description 设置为 true 后，不需要手动调用上传，有文件选择即开始上传。\n             * \n             */\n    \n            /**\n             * @method addFiles\n             * @grammar addFiles( file ) => undefined\n             * @grammar addFiles( [file1, file2 ...] ) => undefined\n             * @param {Array of File or File} [files] Files 对象 数组\n             * @description 添加文件到队列\n             * @for  Uploader\n             */\n            addFile: function( files ) {\n                var me = this;\n    \n                if ( !files.length ) {\n                    files = [ files ];\n                }\n    \n                files = $.map( files, function( file ) {\n                    return me._addFile( file );\n                });\n    \n                me.owner.trigger( 'filesQueued', files );\n    \n                if ( me.options.auto ) {\n                    setTimeout(function() {\n                        me.request('start-upload');\n                    }, 20 );\n                }\n            },\n    \n            getStats: function() {\n                return this.stats;\n            },\n    \n            /**\n             * @event fileDequeued\n             * @param {File} file File对象\n             * @description 当文件被移除队列后触发。\n             * @for  Uploader\n             */\n    \n             /**\n             * @method removeFile\n             * @grammar removeFile( file ) => undefined\n             * @grammar removeFile( id ) => undefined\n             * @grammar removeFile( file, true ) => undefined\n             * @grammar removeFile( id, true ) => undefined\n             * @param {File|id} file File对象或这File对象的id\n             * @description 移除某一文件, 默认只会标记文件状态为已取消，如果第二个参数为 `true` 则会从 queue 中移除。\n             * @for  Uploader\n             * @example\n             *\n             * $li.on('click', '.remove-this', function() {\n             *     uploader.removeFile( file );\n             * })\n             */\n            removeFile: function( file, remove ) {\n                var me = this;\n    \n                file = file.id ? file : me.queue.getFile( file );\n    \n                this.request( 'cancel-file', file );\n    \n                if ( remove ) {\n                    this.queue.removeFile( file );\n                }\n            },\n    \n            /**\n             * @method getFiles\n             * @grammar getFiles() => Array\n             * @grammar getFiles( status1, status2, status... ) => Array\n             * @description 返回指定状态的文件集合，不传参数将返回所有状态的文件。\n             * @for  Uploader\n             * @example\n             * console.log( uploader.getFiles() );    // => all files\n             * console.log( uploader.getFiles('error') )    // => all error files.\n             */\n            getFiles: function() {\n                return this.queue.getFiles.apply( this.queue, arguments );\n            },\n    \n            fetchFile: function() {\n                return this.queue.fetch.apply( this.queue, arguments );\n            },\n    \n            /**\n             * @method retry\n             * @grammar retry() => undefined\n             * @grammar retry( file ) => undefined\n             * @description 重试上传，重试指定文件，或者从出错的文件开始重新上传。\n             * @for  Uploader\n             * @example\n             * function retry() {\n             *     uploader.retry();\n             * }\n             */\n            retry: function( file, noForceStart ) {\n                var me = this,\n                    files, i, len;\n    \n                if ( file ) {\n                    file = file.id ? file : me.queue.getFile( file );\n                    file.setStatus( Status.QUEUED );\n                    noForceStart || me.request('start-upload');\n                    return;\n                }\n    \n                files = me.queue.getFiles( Status.ERROR );\n                i = 0;\n                len = files.length;\n    \n                for ( ; i < len; i++ ) {\n                    file = files[ i ];\n                    file.setStatus( Status.QUEUED );\n                }\n    \n                me.request('start-upload');\n            },\n    \n            /**\n             * @method sort\n             * @grammar sort( fn ) => undefined\n             * @description 排序队列中的文件，在上传之前调整可以控制上传顺序。\n             * @for  Uploader\n             */\n            sortFiles: function() {\n                return this.queue.sort.apply( this.queue, arguments );\n            },\n    \n            /**\n             * @event reset\n             * @description 当 uploader 被重置的时候触发。\n             * @for  Uploader\n             */\n    \n            /**\n             * @method reset\n             * @grammar reset() => undefined\n             * @description 重置uploader。目前只重置了队列。\n             * @for  Uploader\n             * @example\n             * uploader.reset();\n             */\n            reset: function() {\n                this.owner.trigger('reset');\n                this.queue = new Queue();\n                this.stats = this.queue.stats;\n            },\n    \n            destroy: function() {\n                this.reset();\n                this.placeholder && this.placeholder.destroy();\n            }\n        });\n    \n    });\n    /**\n     * @fileOverview 添加获取Runtime相关信息的方法。\n     */\n    define('widgets/runtime',[\n        'uploader',\n        'runtime/runtime',\n        'widgets/widget'\n    ], function( Uploader, Runtime ) {\n    \n        Uploader.support = function() {\n            return Runtime.hasRuntime.apply( Runtime, arguments );\n        };\n    \n        return Uploader.register({\n            name: 'runtime',\n    \n            init: function() {\n                if ( !this.predictRuntimeType() ) {\n                    throw Error('Runtime Error');\n                }\n            },\n    \n            /**\n             * 预测Uploader将采用哪个`Runtime`\n             * @grammar predictRuntimeType() => String\n             * @method predictRuntimeType\n             * @for  Uploader\n             */\n            predictRuntimeType: function() {\n                var orders = this.options.runtimeOrder || Runtime.orders,\n                    type = this.type,\n                    i, len;\n    \n                if ( !type ) {\n                    orders = orders.split( /\\s*,\\s*/g );\n    \n                    for ( i = 0, len = orders.length; i < len; i++ ) {\n                        if ( Runtime.hasRuntime( orders[ i ] ) ) {\n                            this.type = type = orders[ i ];\n                            break;\n                        }\n                    }\n                }\n    \n                return type;\n            }\n        });\n    });\n    /**\n     * @fileOverview Transport\n     */\n    define('lib/transport',[\n        'base',\n        'runtime/client',\n        'mediator'\n    ], function( Base, RuntimeClient, Mediator ) {\n    \n        var $ = Base.$;\n    \n        function Transport( opts ) {\n            var me = this;\n    \n            opts = me.options = $.extend( true, {}, Transport.options, opts || {} );\n            RuntimeClient.call( this, 'Transport' );\n    \n            this._blob = null;\n            this._formData = opts.formData || {};\n            this._headers = opts.headers || {};\n    \n            this.on( 'progress', this._timeout );\n            this.on( 'load error', function() {\n                me.trigger( 'progress', 1 );\n                clearTimeout( me._timer );\n            });\n        }\n    \n        Transport.options = {\n            server: '',\n            method: 'POST',\n    \n            // 跨域时，是否允许携带cookie, 只有html5 runtime才有效\n            withCredentials: false,\n            fileVal: 'file',\n            timeout: 2 * 60 * 1000,    // 2分钟\n            formData: {},\n            headers: {},\n            sendAsBinary: false\n        };\n    \n        $.extend( Transport.prototype, {\n    \n            // 添加Blob, 只能添加一次，最后一次有效。\n            appendBlob: function( key, blob, filename ) {\n                var me = this,\n                    opts = me.options;\n    \n                if ( me.getRuid() ) {\n                    me.disconnectRuntime();\n                }\n    \n                // 连接到blob归属的同一个runtime.\n                me.connectRuntime( blob.ruid, function() {\n                    me.exec('init');\n                });\n    \n                me._blob = blob;\n                opts.fileVal = key || opts.fileVal;\n                opts.filename = filename || opts.filename;\n            },\n    \n            // 添加其他字段\n            append: function( key, value ) {\n                if ( typeof key === 'object' ) {\n                    $.extend( this._formData, key );\n                } else {\n                    this._formData[ key ] = value;\n                }\n            },\n    \n            setRequestHeader: function( key, value ) {\n                if ( typeof key === 'object' ) {\n                    $.extend( this._headers, key );\n                } else {\n                    this._headers[ key ] = value;\n                }\n            },\n    \n            send: function( method ) {\n                this.exec( 'send', method );\n                this._timeout();\n            },\n    \n            abort: function() {\n                clearTimeout( this._timer );\n                return this.exec('abort');\n            },\n    \n            destroy: function() {\n                this.trigger('destroy');\n                this.off();\n                this.exec('destroy');\n                this.disconnectRuntime();\n            },\n    \n            getResponse: function() {\n                return this.exec('getResponse');\n            },\n    \n            getResponseAsJson: function() {\n                return this.exec('getResponseAsJson');\n            },\n    \n            getStatus: function() {\n                return this.exec('getStatus');\n            },\n    \n            _timeout: function() {\n                var me = this,\n                    duration = me.options.timeout;\n    \n                if ( !duration ) {\n                    return;\n                }\n    \n                clearTimeout( me._timer );\n                me._timer = setTimeout(function() {\n                    me.abort();\n                    me.trigger( 'error', 'timeout' );\n                }, duration );\n            }\n    \n        });\n    \n        // 让Transport具备事件功能。\n        Mediator.installTo( Transport.prototype );\n    \n        return Transport;\n    });\n    /**\n     * @fileOverview 负责文件上传相关。\n     */\n    define('widgets/upload',[\n        'base',\n        'uploader',\n        'file',\n        'lib/transport',\n        'widgets/widget'\n    ], function( Base, Uploader, WUFile, Transport ) {\n    \n        var $ = Base.$,\n            isPromise = Base.isPromise,\n            Status = WUFile.Status;\n    \n        // 添加默认配置项\n        $.extend( Uploader.options, {\n    \n    \n            /**\n             * @property {Boolean} [prepareNextFile=false]\n             * @namespace options\n             * @for Uploader\n             * @description 是否允许在文件传输时提前把下一个文件准备好。\n             * 对于一个文件的准备工作比较耗时，比如图片压缩，md5序列化。\n             * 如果能提前在当前文件传输期处理，可以节省总体耗时。\n             */\n            prepareNextFile: false,\n    \n            /**\n             * @property {Boolean} [chunked=false]\n             * @namespace options\n             * @for Uploader\n             * @description 是否要分片处理大文件上传。\n             */\n            chunked: false,\n    \n            /**\n             * @property {Boolean} [chunkSize=5242880]\n             * @namespace options\n             * @for Uploader\n             * @description 如果要分片，分多大一片？ 默认大小为5M.\n             */\n            chunkSize: 5 * 1024 * 1024,\n    \n            /**\n             * @property {Boolean} [chunkRetry=2]\n             * @namespace options\n             * @for Uploader\n             * @description 如果某个分片由于网络问题出错，允许自动重传多少次？\n             */\n            chunkRetry: 2,\n    \n            /**\n             * @property {Boolean} [threads=3]\n             * @namespace options\n             * @for Uploader\n             * @description 上传并发数。允许同时最大上传进程数。\n             */\n            threads: 3,\n    \n    \n            /**\n             * @property {Object} [formData={}]\n             * @namespace options\n             * @for Uploader\n             * @description 文件上传请求的参数表，每次发送都会发送此对象中的参数。\n             */\n            formData: {}\n    \n            /**\n             * @property {Object} [fileVal='file']\n             * @namespace options\n             * @for Uploader\n             * @description 设置文件上传域的name。\n             */\n    \n            /**\n             * @property {Object} [method='POST']\n             * @namespace options\n             * @for Uploader\n             * @description 文件上传方式，`POST`或者`GET`。\n             */\n    \n            /**\n             * @property {Object} [sendAsBinary=false]\n             * @namespace options\n             * @for Uploader\n             * @description 是否已二进制的流的方式发送文件，这样整个上传内容`php://input`都为文件内容，\n             * 其他参数在$_GET数组中。\n             */\n        });\n    \n        // 负责将文件切片。\n        function CuteFile( file, chunkSize ) {\n            var pending = [],\n                blob = file.source,\n                total = blob.size,\n                chunks = chunkSize ? Math.ceil( total / chunkSize ) : 1,\n                start = 0,\n                index = 0,\n                len, api;\n    \n            api = {\n                file: file,\n    \n                has: function() {\n                    return !!pending.length;\n                },\n    \n                shift: function() {\n                    return pending.shift();\n                },\n    \n                unshift: function( block ) {\n                    pending.unshift( block );\n                }\n            };\n    \n            while ( index < chunks ) {\n                len = Math.min( chunkSize, total - start );\n    \n                pending.push({\n                    file: file,\n                    start: start,\n                    end: chunkSize ? (start + len) : total,\n                    total: total,\n                    chunks: chunks,\n                    chunk: index++,\n                    cuted: api\n                });\n                start += len;\n            }\n    \n            file.blocks = pending.concat();\n            file.remaning = pending.length;\n    \n            return api;\n        }\n    \n        Uploader.register({\n            name: 'upload',\n    \n            init: function() {\n                var owner = this.owner,\n                    me = this;\n    \n                this.runing = false;\n                this.progress = false;\n    \n                owner\n                    .on( 'startUpload', function() {\n                        me.progress = true;\n                    })\n                    .on( 'uploadFinished', function() {\n                        me.progress = false;\n                    });\n    \n                // 记录当前正在传的数据，跟threads相关\n                this.pool = [];\n    \n                // 缓存分好片的文件。\n                this.stack = [];\n    \n                // 缓存即将上传的文件。\n                this.pending = [];\n    \n                // 跟踪还有多少分片在上传中但是没有完成上传。\n                this.remaning = 0;\n                this.__tick = Base.bindFn( this._tick, this );\n    \n                owner.on( 'uploadComplete', function( file ) {\n                    \n                    // 把其他块取消了。\n                    file.blocks && $.each( file.blocks, function( _, v ) {\n                        v.transport && (v.transport.abort(), v.transport.destroy());\n                        delete v.transport;\n                    });\n    \n                    delete file.blocks;\n                    delete file.remaning;\n                });\n            },\n    \n            reset: function() {\n                this.request( 'stop-upload', true );\n                this.runing = false;\n                this.pool = [];\n                this.stack = [];\n                this.pending = [];\n                this.remaning = 0;\n                this._trigged = false;\n                this._promise = null;\n            },\n    \n            /**\n             * @event startUpload\n             * @description 当开始上传流程时触发。\n             * @for  Uploader\n             */\n    \n            /**\n             * 开始上传。此方法可以从初始状态调用开始上传流程，也可以从暂停状态调用，继续上传流程。\n             *\n             * 可以指定开始某一个文件。\n             * @grammar upload() => undefined\n             * @grammar upload( file | fileId) => undefined\n             * @method upload\n             * @for  Uploader\n             */\n            startUpload: function(file) {\n                var me = this;\n    \n                // 移出invalid的文件\n                $.each( me.request( 'get-files', Status.INVALID ), function() {\n                    me.request( 'remove-file', this );\n                });\n    \n                // 如果指定了开始某个文件，则只开始指定文件。\n                if ( file ) {\n                    file = file.id ? file : me.request( 'get-file', file );\n    \n                    if (file.getStatus() === Status.INTERRUPT) {\n                        $.each( me.pool, function( _, v ) {\n                        \n                            // 之前暂停过。\n                            if (v.file !== file) {\n                                return;\n                            }\n    \n                            v.transport && v.transport.send();\n                        });\n                        \n                        file.setStatus( Status.QUEUED );\n                    } else if (file.getStatus() === Status.PROGRESS) {\n                        return;\n                    } else {\n                        file.setStatus( Status.QUEUED );\n                    }\n                } else {\n                    $.each( me.request( 'get-files', [ Status.INITED ] ), function() {\n                        this.setStatus( Status.QUEUED );\n                    });\n                }\n    \n                if ( me.runing ) {\n                    return;\n                }\n    \n                me.runing = true;\n    \n                // 如果有暂停的，则续传\n                $.each( me.pool, function( _, v ) {\n                    var file = v.file;\n    \n                    if ( file.getStatus() === Status.INTERRUPT ) {\n                        file.setStatus( Status.PROGRESS );\n                        me._trigged = false;\n                        v.transport && v.transport.send();\n                    }\n                });\n    \n                file || $.each( me.request( 'get-files',\n                        Status.INTERRUPT ), function() {\n                    this.setStatus( Status.PROGRESS );\n                });\n    \n                me._trigged = false;\n                Base.nextTick( me.__tick );\n                me.owner.trigger('startUpload');\n            },\n    \n            /**\n             * @event stopUpload\n             * @description 当开始上传流程暂停时触发。\n             * @for  Uploader\n             */\n    \n            /**\n             * 暂停上传。第一个参数为是否中断上传当前正在上传的文件。\n             *\n             * 如果第一个参数是文件，则只暂停指定文件。\n             * @grammar stop() => undefined\n             * @grammar stop( true ) => undefined\n             * @grammar stop( file ) => undefined\n             * @method stop\n             * @for  Uploader\n             */\n            stopUpload: function( file, interrupt ) {\n                var me = this;\n    \n                if (file === true) {\n                    interrupt = file;\n                    file = null;\n                }\n    \n                if ( me.runing === false ) {\n                    return;\n                }\n    \n                // 如果只是暂停某个文件。\n                if ( file ) {\n                    file = file.id ? file : me.request( 'get-file', file );\n    \n                    if ( file.getStatus() !== Status.PROGRESS &&\n                            file.getStatus() !== Status.QUEUED ) {\n                        return;\n                    }\n    \n                    file.setStatus( Status.INTERRUPT );\n                    $.each( me.pool, function( _, v ) {\n                        \n                        // 只 abort 指定的文件。\n                        if (v.file !== file) {\n                            return;\n                        }\n    \n                        v.transport && v.transport.abort();\n                        me._putback(v);\n                        me._popBlock(v);\n                    });\n    \n                    return Base.nextTick( me.__tick );\n                }\n    \n                me.runing = false;\n    \n                if (this._promise && this._promise.file) {\n                    this._promise.file.setStatus( Status.INTERRUPT );\n                }\n    \n                interrupt && $.each( me.pool, function( _, v ) {\n                    v.transport && v.transport.abort();\n                    v.file.setStatus( Status.INTERRUPT );\n                });\n    \n                me.owner.trigger('stopUpload');\n            },\n    \n            /**\n             * @method cancelFile\n             * @grammar cancelFile( file ) => undefined\n             * @grammar cancelFile( id ) => undefined\n             * @param {File|id} file File对象或这File对象的id\n             * @description 标记文件状态为已取消, 同时将中断文件传输。\n             * @for  Uploader\n             * @example\n             *\n             * $li.on('click', '.remove-this', function() {\n             *     uploader.cancelFile( file );\n             * })\n             */\n            cancelFile: function( file ) {\n                file = file.id ? file : this.request( 'get-file', file );\n    \n                // 如果正在上传。\n                file.blocks && $.each( file.blocks, function( _, v ) {\n                    var _tr = v.transport;\n    \n                    if ( _tr ) {\n                        _tr.abort();\n                        _tr.destroy();\n                        delete v.transport;\n                    }\n                });\n    \n                file.setStatus( Status.CANCELLED );\n                this.owner.trigger( 'fileDequeued', file );\n            },\n    \n            /**\n             * 判断`Uplaode`r是否正在上传中。\n             * @grammar isInProgress() => Boolean\n             * @method isInProgress\n             * @for  Uploader\n             */\n            isInProgress: function() {\n                return !!this.progress;\n            },\n    \n            _getStats: function() {\n                return this.request('get-stats');\n            },\n    \n            /**\n             * 掉过一个文件上传，直接标记指定文件为已上传状态。\n             * @grammar skipFile( file ) => undefined\n             * @method skipFile\n             * @for  Uploader\n             */\n            skipFile: function( file, status ) {\n                file = file.id ? file : this.request( 'get-file', file );\n    \n                file.setStatus( status || Status.COMPLETE );\n                file.skipped = true;\n    \n                // 如果正在上传。\n                file.blocks && $.each( file.blocks, function( _, v ) {\n                    var _tr = v.transport;\n    \n                    if ( _tr ) {\n                        _tr.abort();\n                        _tr.destroy();\n                        delete v.transport;\n                    }\n                });\n    \n                this.owner.trigger( 'uploadSkip', file );\n            },\n    \n            /**\n             * @event uploadFinished\n             * @description 当所有文件上传结束时触发。\n             * @for  Uploader\n             */\n            _tick: function() {\n                var me = this,\n                    opts = me.options,\n                    fn, val;\n    \n                // 上一个promise还没有结束，则等待完成后再执行。\n                if ( me._promise ) {\n                    return me._promise.always( me.__tick );\n                }\n    \n                // 还有位置，且还有文件要处理的话。\n                if ( me.pool.length < opts.threads && (val = me._nextBlock()) ) {\n                    me._trigged = false;\n    \n                    fn = function( val ) {\n                        me._promise = null;\n    \n                        // 有可能是reject过来的，所以要检测val的类型。\n                        val && val.file && me._startSend( val );\n                        Base.nextTick( me.__tick );\n                    };\n    \n                    me._promise = isPromise( val ) ? val.always( fn ) : fn( val );\n    \n                // 没有要上传的了，且没有正在传输的了。\n                } else if ( !me.remaning && !me._getStats().numOfQueue &&\n                    !me._getStats().numofInterrupt ) {\n                    me.runing = false;\n    \n                    me._trigged || Base.nextTick(function() {\n                        me.owner.trigger('uploadFinished');\n                    });\n                    me._trigged = true;\n                }\n            },\n    \n            _putback: function(block) {\n                var idx;\n    \n                block.cuted.unshift(block);\n                idx = this.stack.indexOf(block.cuted);\n    \n                if (!~idx) {\n                    this.stack.unshift(block.cuted);\n                }\n            },\n    \n            _getStack: function() {\n                var i = 0,\n                    act;\n    \n                while ( (act = this.stack[ i++ ]) ) {\n                    if ( act.has() && act.file.getStatus() === Status.PROGRESS ) {\n                        return act;\n                    } else if (!act.has() ||\n                            act.file.getStatus() !== Status.PROGRESS &&\n                            act.file.getStatus() !== Status.INTERRUPT ) {\n    \n                        // 把已经处理完了的，或者，状态为非 progress（上传中）、\n                        // interupt（暂停中） 的移除。\n                        this.stack.splice( --i, 1 );\n                    }\n                }\n    \n                return null;\n            },\n    \n            _nextBlock: function() {\n                var me = this,\n                    opts = me.options,\n                    act, next, done, preparing;\n    \n                // 如果当前文件还有没有需要传输的，则直接返回剩下的。\n                if ( (act = this._getStack()) ) {\n    \n                    // 是否提前准备下一个文件\n                    if ( opts.prepareNextFile && !me.pending.length ) {\n                        me._prepareNextFile();\n                    }\n    \n                    return act.shift();\n    \n                // 否则，如果正在运行，则准备下一个文件，并等待完成后返回下个分片。\n                } else if ( me.runing ) {\n    \n                    // 如果缓存中有，则直接在缓存中取，没有则去queue中取。\n                    if ( !me.pending.length && me._getStats().numOfQueue ) {\n                        me._prepareNextFile();\n                    }\n    \n                    next = me.pending.shift();\n                    done = function( file ) {\n                        if ( !file ) {\n                            return null;\n                        }\n                            \n                        act = CuteFile( file, opts.chunked ? opts.chunkSize : 0 );\n                        me.stack.push(act);\n                        return act.shift();\n                    };\n    \n                    // 文件可能还在prepare中，也有可能已经完全准备好了。\n                    if ( isPromise( next) ) {\n                        preparing = next.file;\n                        next = next[ next.pipe ? 'pipe' : 'then' ]( done );\n                        next.file = preparing;\n                        return next;\n                    }\n    \n                    return done( next );\n                }\n            },\n    \n    \n            /**\n             * @event uploadStart\n             * @param {File} file File对象\n             * @description 某个文件开始上传前触发，一个文件只会触发一次。\n             * @for  Uploader\n             */\n            _prepareNextFile: function() {\n                var me = this,\n                    file = me.request('fetch-file'),\n                    pending = me.pending,\n                    promise;\n    \n                if ( file ) {\n                    promise = me.request( 'before-send-file', file, function() {\n    \n                        // 有可能文件被skip掉了。文件被skip掉后，状态坑定不是Queued.\n                        if ( file.getStatus() === Status.PROGRESS || \n                            file.getStatus() === Status.INTERRUPT ) {\n                            return file;\n                        }\n    \n                        return me._finishFile( file );\n                    });\n    \n                    me.owner.trigger( 'uploadStart', file );\n                    file.setStatus( Status.PROGRESS );\n    \n                    promise.file = file;\n    \n                    // 如果还在pending中，则替换成文件本身。\n                    promise.done(function() {\n                        var idx = $.inArray( promise, pending );\n    \n                        ~idx && pending.splice( idx, 1, file );\n                    });\n    \n                    // befeore-send-file的钩子就有错误发生。\n                    promise.fail(function( reason ) {\n                        file.setStatus( Status.ERROR, reason );\n                        me.owner.trigger( 'uploadError', file, reason );\n                        me.owner.trigger( 'uploadComplete', file );\n                    });\n    \n                    pending.push( promise );\n                }\n            },\n    \n            // 让出位置了，可以让其他分片开始上传\n            _popBlock: function( block ) {\n                var idx = $.inArray( block, this.pool );\n    \n                this.pool.splice( idx, 1 );\n                block.file.remaning--;\n                this.remaning--;\n            },\n    \n            // 开始上传，可以被掉过。如果promise被reject了，则表示跳过此分片。\n            _startSend: function( block ) {\n                var me = this,\n                    file = block.file,\n                    promise;\n    \n                // 有可能在 before-send-file 的 promise 期间改变了文件状态。\n                // 如：暂停，取消\n                // 我们不能中断 promise, 但是可以在 promise 完后，不做上传操作。\n                if ( file.getStatus() !== Status.PROGRESS ) {\n                    \n                    // 如果是中断，则还需要放回去。\n                    if (file.getStatus() === Status.INTERRUPT) {\n                        me._putback(block);\n                    }\n    \n                    return;\n                }\n    \n                me.pool.push( block );\n                me.remaning++;\n    \n                // 如果没有分片，则直接使用原始的。\n                // 不会丢失content-type信息。\n                block.blob = block.chunks === 1 ? file.source :\n                        file.source.slice( block.start, block.end );\n    \n                // hook, 每个分片发送之前可能要做些异步的事情。\n                promise = me.request( 'before-send', block, function() {\n    \n                    // 有可能文件已经上传出错了，所以不需要再传输了。\n                    if ( file.getStatus() === Status.PROGRESS ) {\n                        me._doSend( block );\n                    } else {\n                        me._popBlock( block );\n                        Base.nextTick( me.__tick );\n                    }\n                });\n    \n                // 如果为fail了，则跳过此分片。\n                promise.fail(function() {\n                    if ( file.remaning === 1 ) {\n                        me._finishFile( file ).always(function() {\n                            block.percentage = 1;\n                            me._popBlock( block );\n                            me.owner.trigger( 'uploadComplete', file );\n                            Base.nextTick( me.__tick );\n                        });\n                    } else {\n                        block.percentage = 1;\n                        me._popBlock( block );\n                        Base.nextTick( me.__tick );\n                    }\n                });\n            },\n    \n    \n            /**\n             * @event uploadBeforeSend\n             * @param {Object} object\n             * @param {Object} data 默认的上传参数，可以扩展此对象来控制上传参数。\n             * @param {Object} headers 可以扩展此对象来控制上传头部。\n             * @description 当某个文件的分块在发送前触发，主要用来询问是否要添加附带参数，大文件在开起分片上传的前提下此事件可能会触发多次。\n             * @for  Uploader\n             */\n    \n            /**\n             * @event uploadAccept\n             * @param {Object} object\n             * @param {Object} ret 服务端的返回数据，json格式，如果服务端不是json格式，从ret._raw中取数据，自行解析。\n             * @description 当某个文件上传到服务端响应后，会派送此事件来询问服务端响应是否有效。如果此事件handler返回值为`false`, 则此文件将派送`server`类型的`uploadError`事件。\n             * @for  Uploader\n             */\n    \n            /**\n             * @event uploadProgress\n             * @param {File} file File对象\n             * @param {Number} percentage 上传进度\n             * @description 上传过程中触发，携带上传进度。\n             * @for  Uploader\n             */\n    \n    \n            /**\n             * @event uploadError\n             * @param {File} file File对象\n             * @param {String} reason 出错的code\n             * @description 当文件上传出错时触发。\n             * @for  Uploader\n             */\n    \n            /**\n             * @event uploadSuccess\n             * @param {File} file File对象\n             * @param {Object} response 服务端返回的数据\n             * @description 当文件上传成功时触发。\n             * @for  Uploader\n             */\n    \n            /**\n             * @event uploadComplete\n             * @param {File} [file] File对象\n             * @description 不管成功或者失败，文件上传完成时触发。\n             * @for  Uploader\n             */\n    \n            // 做上传操作。\n            _doSend: function( block ) {\n                var me = this,\n                    owner = me.owner,\n                    opts = me.options,\n                    file = block.file,\n                    tr = new Transport( opts ),\n                    data = $.extend({}, opts.formData ),\n                    headers = $.extend({}, opts.headers ),\n                    requestAccept, ret;\n    \n                block.transport = tr;\n    \n                tr.on( 'destroy', function() {\n                    delete block.transport;\n                    me._popBlock( block );\n                    Base.nextTick( me.__tick );\n                });\n    \n                // 广播上传进度。以文件为单位。\n                tr.on( 'progress', function( percentage ) {\n                    var totalPercent = 0,\n                        uploaded = 0;\n    \n                    // 可能没有abort掉，progress还是执行进来了。\n                    // if ( !file.blocks ) {\n                    //     return;\n                    // }\n    \n                    totalPercent = block.percentage = percentage;\n    \n                    if ( block.chunks > 1 ) {    // 计算文件的整体速度。\n                        $.each( file.blocks, function( _, v ) {\n                            uploaded += (v.percentage || 0) * (v.end - v.start);\n                        });\n    \n                        totalPercent = uploaded / file.size;\n                    }\n    \n                    owner.trigger( 'uploadProgress', file, totalPercent || 0 );\n                });\n    \n                // 用来询问，是否返回的结果是有错误的。\n                requestAccept = function( reject ) {\n                    var fn;\n    \n                    ret = tr.getResponseAsJson() || {};\n                    ret._raw = tr.getResponse();\n                    fn = function( value ) {\n                        reject = value;\n                    };\n    \n                    // 服务端响应了，不代表成功了，询问是否响应正确。\n                    if ( !owner.trigger( 'uploadAccept', block, ret, fn ) ) {\n                        reject = reject || 'server';\n                    }\n    \n                    return reject;\n                };\n    \n                // 尝试重试，然后广播文件上传出错。\n                tr.on( 'error', function( type, flag ) {\n                    block.retried = block.retried || 0;\n    \n                    // 自动重试\n                    if ( block.chunks > 1 && ~'http,abort'.indexOf( type ) &&\n                            block.retried < opts.chunkRetry ) {\n    \n                        block.retried++;\n                        tr.send();\n    \n                    } else {\n    \n                        // http status 500 ~ 600\n                        if ( !flag && type === 'server' ) {\n                            type = requestAccept( type );\n                        }\n    \n                        file.setStatus( Status.ERROR, type );\n                        owner.trigger( 'uploadError', file, type );\n                        owner.trigger( 'uploadComplete', file );\n                    }\n                });\n    \n                // 上传成功\n                tr.on( 'load', function() {\n                    var reason;\n    \n                    // 如果非预期，转向上传出错。\n                    if ( (reason = requestAccept()) ) {\n                        tr.trigger( 'error', reason, true );\n                        return;\n                    }\n    \n                    // 全部上传完成。\n                    if ( file.remaning === 1 ) {\n                        me._finishFile( file, ret );\n                    } else {\n                        tr.destroy();\n                    }\n                });\n    \n                // 配置默认的上传字段。\n                data = $.extend( data, {\n                    id: file.id,\n                    name: file.name,\n                    type: file.type,\n                    lastModifiedDate: file.lastModifiedDate,\n                    size: file.size\n                });\n    \n                block.chunks > 1 && $.extend( data, {\n                    chunks: block.chunks,\n                    chunk: block.chunk\n                });\n    \n                // 在发送之间可以添加字段什么的。。。\n                // 如果默认的字段不够使用，可以通过监听此事件来扩展\n                owner.trigger( 'uploadBeforeSend', block, data, headers );\n    \n                // 开始发送。\n                tr.appendBlob( opts.fileVal, block.blob, file.name );\n                tr.append( data );\n                tr.setRequestHeader( headers );\n                tr.send();\n            },\n    \n            // 完成上传。\n            _finishFile: function( file, ret, hds ) {\n                var owner = this.owner;\n    \n                return owner\n                        .request( 'after-send-file', arguments, function() {\n                            file.setStatus( Status.COMPLETE );\n                            owner.trigger( 'uploadSuccess', file, ret, hds );\n                        })\n                        .fail(function( reason ) {\n    \n                            // 如果外部已经标记为invalid什么的，不再改状态。\n                            if ( file.getStatus() === Status.PROGRESS ) {\n                                file.setStatus( Status.ERROR, reason );\n                            }\n    \n                            owner.trigger( 'uploadError', file, reason );\n                        })\n                        .always(function() {\n                            owner.trigger( 'uploadComplete', file );\n                        });\n            }\n    \n        });\n    });\n    /**\n     * @fileOverview 各种验证，包括文件总大小是否超出、单文件是否超出和文件是否重复。\n     */\n    \n    define('widgets/validator',[\n        'base',\n        'uploader',\n        'file',\n        'widgets/widget'\n    ], function( Base, Uploader, WUFile ) {\n    \n        var $ = Base.$,\n            validators = {},\n            api;\n    \n        /**\n         * @event error\n         * @param {String} type 错误类型。\n         * @description 当validate不通过时，会以派送错误事件的形式通知调用者。通过`upload.on('error', handler)`可以捕获到此类错误，目前有以下错误会在特定的情况下派送错来。\n         *\n         * * `Q_EXCEED_NUM_LIMIT` 在设置了`fileNumLimit`且尝试给`uploader`添加的文件数量超出这个值时派送。\n         * * `Q_EXCEED_SIZE_LIMIT` 在设置了`Q_EXCEED_SIZE_LIMIT`且尝试给`uploader`添加的文件总大小超出这个值时派送。\n         * * `Q_TYPE_DENIED` 当文件类型不满足时触发。。\n         * @for  Uploader\n         */\n    \n        // 暴露给外面的api\n        api = {\n    \n            // 添加验证器\n            addValidator: function( type, cb ) {\n                validators[ type ] = cb;\n            },\n    \n            // 移除验证器\n            removeValidator: function( type ) {\n                delete validators[ type ];\n            }\n        };\n    \n        // 在Uploader初始化的时候启动Validators的初始化\n        Uploader.register({\n            name: 'validator',\n    \n            init: function() {\n                var me = this;\n                Base.nextTick(function() {\n                    $.each( validators, function() {\n                        this.call( me.owner );\n                    });\n                });\n            }\n        });\n    \n        /**\n         * @property {int} [fileNumLimit=undefined]\n         * @namespace options\n         * @for Uploader\n         * @description 验证文件总数量, 超出则不允许加入队列。\n         */\n        api.addValidator( 'fileNumLimit', function() {\n            var uploader = this,\n                opts = uploader.options,\n                count = 0,\n                max = parseInt( opts.fileNumLimit, 10 ),\n                flag = true;\n    \n            if ( !max ) {\n                return;\n            }\n    \n            uploader.on( 'beforeFileQueued', function( file ) {\n    \n                if ( count >= max && flag ) {\n                    flag = false;\n                    this.trigger( 'error', 'Q_EXCEED_NUM_LIMIT', max, file );\n                    setTimeout(function() {\n                        flag = true;\n                    }, 1 );\n                }\n    \n                return count >= max ? false : true;\n            });\n    \n            uploader.on( 'fileQueued', function() {\n                count++;\n            });\n    \n            uploader.on( 'fileDequeued', function() {\n                count--;\n            });\n    \n            uploader.on( 'reset', function() {\n                count = 0;\n            });\n        });\n    \n    \n        /**\n         * @property {int} [fileSizeLimit=undefined]\n         * @namespace options\n         * @for Uploader\n         * @description 验证文件总大小是否超出限制, 超出则不允许加入队列。\n         */\n        api.addValidator( 'fileSizeLimit', function() {\n            var uploader = this,\n                opts = uploader.options,\n                count = 0,\n                max = parseInt( opts.fileSizeLimit, 10 ),\n                flag = true;\n    \n            if ( !max ) {\n                return;\n            }\n    \n            uploader.on( 'beforeFileQueued', function( file ) {\n                var invalid = count + file.size > max;\n    \n                if ( invalid && flag ) {\n                    flag = false;\n                    this.trigger( 'error', 'Q_EXCEED_SIZE_LIMIT', max, file );\n                    setTimeout(function() {\n                        flag = true;\n                    }, 1 );\n                }\n    \n                return invalid ? false : true;\n            });\n    \n            uploader.on( 'fileQueued', function( file ) {\n                count += file.size;\n            });\n    \n            uploader.on( 'fileDequeued', function( file ) {\n                count -= file.size;\n            });\n    \n            uploader.on( 'reset', function() {\n                count = 0;\n            });\n        });\n    \n        /**\n         * @property {int} [fileSingleSizeLimit=undefined]\n         * @namespace options\n         * @for Uploader\n         * @description 验证单个文件大小是否超出限制, 超出则不允许加入队列。\n         */\n        api.addValidator( 'fileSingleSizeLimit', function() {\n            var uploader = this,\n                opts = uploader.options,\n                max = opts.fileSingleSizeLimit;\n    \n            if ( !max ) {\n                return;\n            }\n    \n            uploader.on( 'beforeFileQueued', function( file ) {\n    \n                if ( file.size > max ) {\n                    file.setStatus( WUFile.Status.INVALID, 'exceed_size' );\n                    this.trigger( 'error', 'F_EXCEED_SIZE', max, file );\n                    return false;\n                }\n    \n            });\n    \n        });\n    \n        /**\n         * @property {Boolean} [duplicate=undefined]\n         * @namespace options\n         * @for Uploader\n         * @description 去重， 根据文件名字、文件大小和最后修改时间来生成hash Key.\n         */\n        api.addValidator( 'duplicate', function() {\n            var uploader = this,\n                opts = uploader.options,\n                mapping = {};\n    \n            if ( opts.duplicate ) {\n                return;\n            }\n    \n            function hashString( str ) {\n                var hash = 0,\n                    i = 0,\n                    len = str.length,\n                    _char;\n    \n                for ( ; i < len; i++ ) {\n                    _char = str.charCodeAt( i );\n                    hash = _char + (hash << 6) + (hash << 16) - hash;\n                }\n    \n                return hash;\n            }\n    \n            uploader.on( 'beforeFileQueued', function( file ) {\n                var hash = file.__hash || (file.__hash = hashString( file.name +\n                        file.size + file.lastModifiedDate ));\n    \n                // 已经重复了\n                if ( mapping[ hash ] ) {\n                    this.trigger( 'error', 'F_DUPLICATE', file );\n                    return false;\n                }\n            });\n    \n            uploader.on( 'fileQueued', function( file ) {\n                var hash = file.__hash;\n    \n                hash && (mapping[ hash ] = true);\n            });\n    \n            uploader.on( 'fileDequeued', function( file ) {\n                var hash = file.__hash;\n    \n                hash && (delete mapping[ hash ]);\n            });\n    \n            uploader.on( 'reset', function() {\n                mapping = {};\n            });\n        });\n    \n        return api;\n    });\n    \n    /**\n     * @fileOverview Runtime管理器，负责Runtime的选择, 连接\n     */\n    define('runtime/compbase',[],function() {\n    \n        function CompBase( owner, runtime ) {\n    \n            this.owner = owner;\n            this.options = owner.options;\n    \n            this.getRuntime = function() {\n                return runtime;\n            };\n    \n            this.getRuid = function() {\n                return runtime.uid;\n            };\n    \n            this.trigger = function() {\n                return owner.trigger.apply( owner, arguments );\n            };\n        }\n    \n        return CompBase;\n    });\n    /**\n     * @fileOverview Html5Runtime\n     */\n    define('runtime/html5/runtime',[\n        'base',\n        'runtime/runtime',\n        'runtime/compbase'\n    ], function( Base, Runtime, CompBase ) {\n    \n        var type = 'html5',\n            components = {};\n    \n        function Html5Runtime() {\n            var pool = {},\n                me = this,\n                destroy = this.destroy;\n    \n            Runtime.apply( me, arguments );\n            me.type = type;\n    \n    \n            // 这个方法的调用者，实际上是RuntimeClient\n            me.exec = function( comp, fn/*, args...*/) {\n                var client = this,\n                    uid = client.uid,\n                    args = Base.slice( arguments, 2 ),\n                    instance;\n    \n                if ( components[ comp ] ) {\n                    instance = pool[ uid ] = pool[ uid ] ||\n                            new components[ comp ]( client, me );\n    \n                    if ( instance[ fn ] ) {\n                        return instance[ fn ].apply( instance, args );\n                    }\n                }\n            };\n    \n            me.destroy = function() {\n                // @todo 删除池子中的所有实例\n                return destroy && destroy.apply( this, arguments );\n            };\n        }\n    \n        Base.inherits( Runtime, {\n            constructor: Html5Runtime,\n    \n            // 不需要连接其他程序，直接执行callback\n            init: function() {\n                var me = this;\n                setTimeout(function() {\n                    me.trigger('ready');\n                }, 1 );\n            }\n    \n        });\n    \n        // 注册Components\n        Html5Runtime.register = function( name, component ) {\n            var klass = components[ name ] = Base.inherits( CompBase, component );\n            return klass;\n        };\n    \n        // 注册html5运行时。\n        // 只有在支持的前提下注册。\n        if ( window.Blob && window.FileReader && window.DataView ) {\n            Runtime.addRuntime( type, Html5Runtime );\n        }\n    \n        return Html5Runtime;\n    });\n    /**\n     * @fileOverview Blob Html实现\n     */\n    define('runtime/html5/blob',[\n        'runtime/html5/runtime',\n        'lib/blob'\n    ], function( Html5Runtime, Blob ) {\n    \n        return Html5Runtime.register( 'Blob', {\n            slice: function( start, end ) {\n                var blob = this.owner.source,\n                    slice = blob.slice || blob.webkitSlice || blob.mozSlice;\n    \n                blob = slice.call( blob, start, end );\n    \n                return new Blob( this.getRuid(), blob );\n            }\n        });\n    });\n    /**\r\n     * @fileOverview FilePaste\r\n     */\r\n    define('runtime/html5/dnd',[\r\n        'base',\r\n        'runtime/html5/runtime',\r\n        'lib/file'\r\n    ], function( Base, Html5Runtime, File ) {\r\n    \r\n        var $ = Base.$,\r\n            prefix = 'webuploader-dnd-';\r\n    \r\n        return Html5Runtime.register( 'DragAndDrop', {\r\n            init: function() {\r\n                var elem = this.elem = this.options.container;\r\n    \r\n                this.dragEnterHandler = Base.bindFn( this._dragEnterHandler, this );\r\n                this.dragOverHandler = Base.bindFn( this._dragOverHandler, this );\r\n                this.dragLeaveHandler = Base.bindFn( this._dragLeaveHandler, this );\r\n                this.dropHandler = Base.bindFn( this._dropHandler, this );\r\n                this.dndOver = false;\r\n    \r\n                elem.on( 'dragenter', this.dragEnterHandler );\r\n                elem.on( 'dragover', this.dragOverHandler );\r\n                elem.on( 'dragleave', this.dragLeaveHandler );\r\n                elem.on( 'drop', this.dropHandler );\r\n    \r\n                if ( this.options.disableGlobalDnd ) {\r\n                    $( document ).on( 'dragover', this.dragOverHandler );\r\n                    $( document ).on( 'drop', this.dropHandler );\r\n                }\r\n            },\r\n    \r\n            _dragEnterHandler: function( e ) {\r\n                var me = this,\r\n                    denied = me._denied || false,\r\n                    items;\r\n    \r\n                e = e.originalEvent || e;\r\n    \r\n                if ( !me.dndOver ) {\r\n                    me.dndOver = true;\r\n    \r\n                    // 注意只有 chrome 支持。\r\n                    items = e.dataTransfer.items;\r\n    \r\n                    if ( items && items.length ) {\r\n                        me._denied = denied = !me.trigger( 'accept', items );\r\n                    }\r\n    \r\n                    me.elem.addClass( prefix + 'over' );\r\n                    me.elem[ denied ? 'addClass' :\r\n                            'removeClass' ]( prefix + 'denied' );\r\n                }\r\n    \r\n                e.dataTransfer.dropEffect = denied ? 'none' : 'copy';\r\n    \r\n                return false;\r\n            },\r\n    \r\n            _dragOverHandler: function( e ) {\r\n                // 只处理框内的。\r\n                var parentElem = this.elem.parent().get( 0 );\r\n                if ( parentElem && !$.contains( parentElem, e.currentTarget ) ) {\r\n                    return false;\r\n                }\r\n    \r\n                clearTimeout( this._leaveTimer );\r\n                this._dragEnterHandler.call( this, e );\r\n    \r\n                return false;\r\n            },\r\n    \r\n            _dragLeaveHandler: function() {\r\n                var me = this,\r\n                    handler;\r\n    \r\n                handler = function() {\r\n                    me.dndOver = false;\r\n                    me.elem.removeClass( prefix + 'over ' + prefix + 'denied' );\r\n                };\r\n    \r\n                clearTimeout( me._leaveTimer );\r\n                me._leaveTimer = setTimeout( handler, 100 );\r\n                return false;\r\n            },\r\n    \r\n            _dropHandler: function( e ) {\r\n                var me = this,\r\n                    ruid = me.getRuid(),\r\n                    parentElem = me.elem.parent().get( 0 ),\r\n                    dataTransfer, data;\r\n    \r\n                // 只处理框内的。\r\n                if ( parentElem && !$.contains( parentElem, e.currentTarget ) ) {\r\n                    return false;\r\n                }\r\n    \r\n                e = e.originalEvent || e;\r\n                dataTransfer = e.dataTransfer;\r\n    \r\n                // 如果是页面内拖拽，还不能处理，不阻止事件。\r\n                // 此处 ie11 下会报参数错误，\r\n                try {\r\n                    data = dataTransfer.getData('text/html');\r\n                } catch( err ) {\r\n                }\r\n    \r\n                if ( data ) {\r\n                    return;\r\n                }\r\n    \r\n                me._getTansferFiles( dataTransfer, function( results ) {\r\n                    me.trigger( 'drop', $.map( results, function( file ) {\r\n                        return new File( ruid, file );\r\n                    }) );\r\n                });\r\n    \r\n                me.dndOver = false;\r\n                me.elem.removeClass( prefix + 'over' );\r\n                return false;\r\n            },\r\n    \r\n            // 如果传入 callback 则去查看文件夹，否则只管当前文件夹。\r\n            _getTansferFiles: function( dataTransfer, callback ) {\r\n                var results  = [],\r\n                    promises = [],\r\n                    items, files, file, item, i, len, canAccessFolder;\r\n    \r\n                items = dataTransfer.items;\r\n                files = dataTransfer.files;\r\n    \r\n                canAccessFolder = !!(items && items[ 0 ].webkitGetAsEntry);\r\n    \r\n                for ( i = 0, len = files.length; i < len; i++ ) {\r\n                    file = files[ i ];\r\n                    item = items && items[ i ];\r\n    \r\n                    if ( canAccessFolder && item.webkitGetAsEntry().isDirectory ) {\r\n    \r\n                        promises.push( this._traverseDirectoryTree(\r\n                                item.webkitGetAsEntry(), results ) );\r\n                    } else {\r\n                        results.push( file );\r\n                    }\r\n                }\r\n    \r\n                Base.when.apply( Base, promises ).done(function() {\r\n    \r\n                    if ( !results.length ) {\r\n                        return;\r\n                    }\r\n    \r\n                    callback( results );\r\n                });\r\n            },\r\n    \r\n            _traverseDirectoryTree: function( entry, results ) {\r\n                var deferred = Base.Deferred(),\r\n                    me = this;\r\n    \r\n                if ( entry.isFile ) {\r\n                    entry.file(function( file ) {\r\n                        results.push( file );\r\n                        deferred.resolve();\r\n                    });\r\n                } else if ( entry.isDirectory ) {\r\n                    entry.createReader().readEntries(function( entries ) {\r\n                        var len = entries.length,\r\n                            promises = [],\r\n                            arr = [],    // 为了保证顺序。\r\n                            i;\r\n    \r\n                        for ( i = 0; i < len; i++ ) {\r\n                            promises.push( me._traverseDirectoryTree(\r\n                                    entries[ i ], arr ) );\r\n                        }\r\n    \r\n                        Base.when.apply( Base, promises ).then(function() {\r\n                            results.push.apply( results, arr );\r\n                            deferred.resolve();\r\n                        }, deferred.reject );\r\n                    });\r\n                }\r\n    \r\n                return deferred.promise();\r\n            },\r\n    \r\n            destroy: function() {\r\n                var elem = this.elem;\r\n    \r\n                // 还没 init 就调用 destroy\r\n                if (!elem) {\r\n                    return;\r\n                }\r\n                \r\n                elem.off( 'dragenter', this.dragEnterHandler );\r\n                elem.off( 'dragover', this.dragOverHandler );\r\n                elem.off( 'dragleave', this.dragLeaveHandler );\r\n                elem.off( 'drop', this.dropHandler );\r\n    \r\n                if ( this.options.disableGlobalDnd ) {\r\n                    $( document ).off( 'dragover', this.dragOverHandler );\r\n                    $( document ).off( 'drop', this.dropHandler );\r\n                }\r\n            }\r\n        });\r\n    });\r\n    \n    /**\r\n     * @fileOverview FilePaste\r\n     */\r\n    define('runtime/html5/filepaste',[\r\n        'base',\r\n        'runtime/html5/runtime',\r\n        'lib/file'\r\n    ], function( Base, Html5Runtime, File ) {\r\n    \r\n        return Html5Runtime.register( 'FilePaste', {\r\n            init: function() {\r\n                var opts = this.options,\r\n                    elem = this.elem = opts.container,\r\n                    accept = '.*',\r\n                    arr, i, len, item;\r\n    \r\n                // accetp的mimeTypes中生成匹配正则。\r\n                if ( opts.accept ) {\r\n                    arr = [];\r\n    \r\n                    for ( i = 0, len = opts.accept.length; i < len; i++ ) {\r\n                        item = opts.accept[ i ].mimeTypes;\r\n                        item && arr.push( item );\r\n                    }\r\n    \r\n                    if ( arr.length ) {\r\n                        accept = arr.join(',');\r\n                        accept = accept.replace( /,/g, '|' ).replace( /\\*/g, '.*' );\r\n                    }\r\n                }\r\n                this.accept = accept = new RegExp( accept, 'i' );\r\n                this.hander = Base.bindFn( this._pasteHander, this );\r\n                elem.on( 'paste', this.hander );\r\n            },\r\n    \r\n            _pasteHander: function( e ) {\r\n                var allowed = [],\r\n                    ruid = this.getRuid(),\r\n                    items, item, blob, i, len;\r\n    \r\n                e = e.originalEvent || e;\r\n                items = e.clipboardData.items;\r\n    \r\n                for ( i = 0, len = items.length; i < len; i++ ) {\r\n                    item = items[ i ];\r\n    \r\n                    if ( item.kind !== 'file' || !(blob = item.getAsFile()) ) {\r\n                        continue;\r\n                    }\r\n    \r\n                    allowed.push( new File( ruid, blob ) );\r\n                }\r\n    \r\n                if ( allowed.length ) {\r\n                    // 不阻止非文件粘贴（文字粘贴）的事件冒泡\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    this.trigger( 'paste', allowed );\r\n                }\r\n            },\r\n    \r\n            destroy: function() {\r\n                this.elem.off( 'paste', this.hander );\r\n            }\r\n        });\r\n    });\r\n    \n    /**\r\n     * @fileOverview FilePicker\r\n     */\r\n    define('runtime/html5/filepicker',[\r\n        'base',\r\n        'runtime/html5/runtime'\r\n    ], function( Base, Html5Runtime ) {\r\n    \r\n        var $ = Base.$;\r\n    \r\n        return Html5Runtime.register( 'FilePicker', {\r\n            init: function() {\r\n                var container = this.getRuntime().getContainer(),\r\n                    me = this,\r\n                    owner = me.owner,\r\n                    opts = me.options,\r\n                    label = this.label = $( document.createElement('label') ),\r\n                    input =  this.input = $( document.createElement('input') ),\r\n                    arr, i, len, mouseHandler;\r\n    \r\n                input.attr( 'type', 'file' );\r\n                input.attr( 'name', opts.name );\r\n                input.addClass('webuploader-element-invisible');\r\n    \r\n                label.on( 'click', function() {\r\n                    input.trigger('click');\r\n                });\r\n    \r\n                label.css({\r\n                    opacity: 0,\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    display: 'block',\r\n                    cursor: 'pointer',\r\n                    background: '#ffffff'\r\n                });\r\n    \r\n                if ( opts.multiple ) {\r\n                    input.attr( 'multiple', 'multiple' );\r\n                }\r\n    \r\n                // @todo Firefox不支持单独指定后缀\r\n                if ( opts.accept && opts.accept.length > 0 ) {\r\n                    arr = [];\r\n    \r\n                    for ( i = 0, len = opts.accept.length; i < len; i++ ) {\r\n                        arr.push( opts.accept[ i ].mimeTypes );\r\n                    }\r\n    \r\n                    input.attr( 'accept', arr.join(',') );\r\n                }\r\n    \r\n                container.append( input );\r\n                container.append( label );\r\n    \r\n                mouseHandler = function( e ) {\r\n                    owner.trigger( e.type );\r\n                };\r\n    \r\n                input.on( 'change', function( e ) {\r\n                    var fn = arguments.callee,\r\n                        clone;\r\n    \r\n                    me.files = e.target.files;\r\n    \r\n                    // reset input\r\n                    clone = this.cloneNode( true );\r\n                    clone.value = null;\r\n                    this.parentNode.replaceChild( clone, this );\r\n    \r\n                    input.off();\r\n                    input = $( clone ).on( 'change', fn )\r\n                            .on( 'mouseenter mouseleave', mouseHandler );\r\n    \r\n                    owner.trigger('change');\r\n                });\r\n    \r\n                label.on( 'mouseenter mouseleave', mouseHandler );\r\n    \r\n            },\r\n    \r\n    \r\n            getFiles: function() {\r\n                return this.files;\r\n            },\r\n    \r\n            destroy: function() {\r\n                this.input.off();\r\n                this.label.off();\r\n            }\r\n        });\r\n    });\n    /**\n     * @fileOverview Transport\n     * @todo 支持chunked传输，优势：\n     * 可以将大文件分成小块，挨个传输，可以提高大文件成功率，当失败的时候，也只需要重传那小部分，\n     * 而不需要重头再传一次。另外断点续传也需要用chunked方式。\n     */\n    define('runtime/html5/transport',[\n        'base',\n        'runtime/html5/runtime'\n    ], function( Base, Html5Runtime ) {\n    \n        var noop = Base.noop,\n            $ = Base.$;\n    \n        return Html5Runtime.register( 'Transport', {\n            init: function() {\n                this._status = 0;\n                this._response = null;\n            },\n    \n            send: function() {\n                var owner = this.owner,\n                    opts = this.options,\n                    xhr = this._initAjax(),\n                    blob = owner._blob,\n                    server = opts.server,\n                    formData, binary, fr;\n    \n                if ( opts.sendAsBinary ) {\n                    server += (/\\?/.test( server ) ? '&' : '?') +\n                            $.param( owner._formData );\n    \n                    binary = blob.getSource();\n                } else {\n                    formData = new FormData();\n                    $.each( owner._formData, function( k, v ) {\n                        formData.append( k, v );\n                    });\n    \n                    formData.append( opts.fileVal, blob.getSource(),\n                            opts.filename || owner._formData.name || '' );\n                }\n    \n                if ( opts.withCredentials && 'withCredentials' in xhr ) {\n                    xhr.open( opts.method, server, true );\n                    xhr.withCredentials = true;\n                } else {\n                    xhr.open( opts.method, server );\n                }\n    \n                this._setRequestHeader( xhr, opts.headers );\n    \n                if ( binary ) {\n                    // 强制设置成 content-type 为文件流。\n                    xhr.overrideMimeType &&\n                            xhr.overrideMimeType('application/octet-stream');\n    \n                    // android直接发送blob会导致服务端接收到的是空文件。\n                    // bug详情。\n                    // https://code.google.com/p/android/issues/detail?id=39882\n                    // 所以先用fileReader读取出来再通过arraybuffer的方式发送。\n                    if ( Base.os.android ) {\n                        fr = new FileReader();\n    \n                        fr.onload = function() {\n                            xhr.send( this.result );\n                            fr = fr.onload = null;\n                        };\n    \n                        fr.readAsArrayBuffer( binary );\n                    } else {\n                        xhr.send( binary );\n                    }\n                } else {\n                    xhr.send( formData );\n                }\n            },\n    \n            getResponse: function() {\n                return this._response;\n            },\n    \n            getResponseAsJson: function() {\n                return this._parseJson( this._response );\n            },\n    \n            getStatus: function() {\n                return this._status;\n            },\n    \n            abort: function() {\n                var xhr = this._xhr;\n    \n                if ( xhr ) {\n                    xhr.upload.onprogress = noop;\n                    xhr.onreadystatechange = noop;\n                    xhr.abort();\n    \n                    this._xhr = xhr = null;\n                }\n            },\n    \n            destroy: function() {\n                this.abort();\n            },\n    \n            _initAjax: function() {\n                var me = this,\n                    xhr = new XMLHttpRequest(),\n                    opts = this.options;\n    \n                if ( opts.withCredentials && !('withCredentials' in xhr) &&\n                        typeof XDomainRequest !== 'undefined' ) {\n                    xhr = new XDomainRequest();\n                }\n    \n                xhr.upload.onprogress = function( e ) {\n                    var percentage = 0;\n    \n                    if ( e.lengthComputable ) {\n                        percentage = e.loaded / e.total;\n                    }\n    \n                    return me.trigger( 'progress', percentage );\n                };\n    \n                xhr.onreadystatechange = function() {\n    \n                    if ( xhr.readyState !== 4 ) {\n                        return;\n                    }\n    \n                    xhr.upload.onprogress = noop;\n                    xhr.onreadystatechange = noop;\n                    me._xhr = null;\n                    me._status = xhr.status;\n    \n                    if ( xhr.status >= 200 && xhr.status < 300 ) {\n                        me._response = xhr.responseText;\n                        return me.trigger('load');\n                    } else if ( xhr.status >= 500 && xhr.status < 600 ) {\n                        me._response = xhr.responseText;\n                        return me.trigger( 'error', 'server' );\n                    }\n    \n    \n                    return me.trigger( 'error', me._status ? 'http' : 'abort' );\n                };\n    \n                me._xhr = xhr;\n                return xhr;\n            },\n    \n            _setRequestHeader: function( xhr, headers ) {\n                $.each( headers, function( key, val ) {\n                    xhr.setRequestHeader( key, val );\n                });\n            },\n    \n            _parseJson: function( str ) {\n                var json;\n    \n                try {\n                    json = JSON.parse( str );\n                } catch ( ex ) {\n                    json = {};\n                }\n    \n                return json;\n            }\n        });\n    });\n    /**\n     * @fileOverview FlashRuntime\n     */\n    define('runtime/flash/runtime',[\n        'base',\n        'runtime/runtime',\n        'runtime/compbase'\n    ], function( Base, Runtime, CompBase ) {\n    \n        var $ = Base.$,\n            type = 'flash',\n            components = {};\n    \n    \n        function getFlashVersion() {\n            var version;\n    \n            try {\n                version = navigator.plugins[ 'Shockwave Flash' ];\n                version = version.description;\n            } catch ( ex ) {\n                try {\n                    version = new ActiveXObject('ShockwaveFlash.ShockwaveFlash')\n                            .GetVariable('$version');\n                } catch ( ex2 ) {\n                    version = '0.0';\n                }\n            }\n            version = version.match( /\\d+/g );\n            return parseFloat( version[ 0 ] + '.' + version[ 1 ], 10 );\n        }\n    \n        function FlashRuntime() {\n            var pool = {},\n                clients = {},\n                destroy = this.destroy,\n                me = this,\n                jsreciver = Base.guid('webuploader_');\n    \n            Runtime.apply( me, arguments );\n            me.type = type;\n    \n    \n            // 这个方法的调用者，实际上是RuntimeClient\n            me.exec = function( comp, fn/*, args...*/ ) {\n                var client = this,\n                    uid = client.uid,\n                    args = Base.slice( arguments, 2 ),\n                    instance;\n    \n                clients[ uid ] = client;\n    \n                if ( components[ comp ] ) {\n                    if ( !pool[ uid ] ) {\n                        pool[ uid ] = new components[ comp ]( client, me );\n                    }\n    \n                    instance = pool[ uid ];\n    \n                    if ( instance[ fn ] ) {\n                        return instance[ fn ].apply( instance, args );\n                    }\n                }\n    \n                return me.flashExec.apply( client, arguments );\n            };\n    \n            function handler( evt, obj ) {\n                var type = evt.type || evt,\n                    parts, uid;\n    \n                parts = type.split('::');\n                uid = parts[ 0 ];\n                type = parts[ 1 ];\n    \n                // console.log.apply( console, arguments );\n    \n                if ( type === 'Ready' && uid === me.uid ) {\n                    me.trigger('ready');\n                } else if ( clients[ uid ] ) {\n                    clients[ uid ].trigger( type.toLowerCase(), evt, obj );\n                }\n    \n                // Base.log( evt, obj );\n            }\n    \n            // flash的接受器。\n            window[ jsreciver ] = function() {\n                var args = arguments;\n    \n                // 为了能捕获得到。\n                setTimeout(function() {\n                    handler.apply( null, args );\n                }, 1 );\n            };\n    \n            this.jsreciver = jsreciver;\n    \n            this.destroy = function() {\n                // @todo 删除池子中的所有实例\n                return destroy && destroy.apply( this, arguments );\n            };\n    \n            this.flashExec = function( comp, fn ) {\n                var flash = me.getFlash(),\n                    args = Base.slice( arguments, 2 );\n    \n                return flash.exec( this.uid, comp, fn, args );\n            };\n    \n            // @todo\n        }\n    \n        Base.inherits( Runtime, {\n            constructor: FlashRuntime,\n    \n            init: function() {\n                var container = this.getContainer(),\n                    opts = this.options,\n                    html;\n    \n                // if not the minimal height, shims are not initialized\n                // in older browsers (e.g FF3.6, IE6,7,8, Safari 4.0,5.0, etc)\n                container.css({\n                    position: 'absolute',\n                    top: '-8px',\n                    left: '-8px',\n                    width: '9px',\n                    height: '9px',\n                    overflow: 'hidden'\n                });\n    \n                // insert flash object\n                html = '<object id=\"' + this.uid + '\" type=\"application/' +\n                        'x-shockwave-flash\" data=\"' +  opts.swf + '\" ';\n    \n                if ( Base.browser.ie ) {\n                    html += 'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" ';\n                }\n    \n                html += 'width=\"100%\" height=\"100%\" style=\"outline:0\">'  +\n                    '<param name=\"movie\" value=\"' + opts.swf + '\" />' +\n                    '<param name=\"flashvars\" value=\"uid=' + this.uid +\n                    '&jsreciver=' + this.jsreciver + '\" />' +\n                    '<param name=\"wmode\" value=\"transparent\" />' +\n                    '<param name=\"allowscriptaccess\" value=\"always\" />' +\n                '</object>';\n    \n                container.html( html );\n            },\n    \n            getFlash: function() {\n                if ( this._flash ) {\n                    return this._flash;\n                }\n    \n                this._flash = $( '#' + this.uid ).get( 0 );\n                return this._flash;\n            }\n    \n        });\n    \n        FlashRuntime.register = function( name, component ) {\n            component = components[ name ] = Base.inherits( CompBase, $.extend({\n    \n                // @todo fix this later\n                flashExec: function() {\n                    var owner = this.owner,\n                        runtime = this.getRuntime();\n    \n                    return runtime.flashExec.apply( owner, arguments );\n                }\n            }, component ) );\n    \n            return component;\n        };\n    \n        if ( getFlashVersion() >= 11.4 ) {\n            Runtime.addRuntime( type, FlashRuntime );\n        }\n    \n        return FlashRuntime;\n    });\n    /**\n     * @fileOverview FilePicker\n     */\n    define('runtime/flash/filepicker',[\n        'base',\n        'runtime/flash/runtime'\n    ], function( Base, FlashRuntime ) {\n        var $ = Base.$;\n    \n        return FlashRuntime.register( 'FilePicker', {\n            init: function( opts ) {\n                var copy = $.extend({}, opts ),\n                    len, i;\n    \n                // 修复Flash再没有设置title的情况下无法弹出flash文件选择框的bug.\n                len = copy.accept && copy.accept.length;\n                for (  i = 0; i < len; i++ ) {\n                    if ( !copy.accept[ i ].title ) {\n                        copy.accept[ i ].title = 'Files';\n                    }\n                }\n    \n                delete copy.button;\n                delete copy.id;\n                delete copy.container;\n    \n                this.flashExec( 'FilePicker', 'init', copy );\n            },\n    \n            destroy: function() {\n                this.flashExec( 'FilePicker', 'destroy' );\n            }\n        });\n    });\n    /**\n     * @fileOverview  Transport flash实现\n     */\n    define('runtime/flash/transport',[\n        'base',\n        'runtime/flash/runtime',\n        'runtime/client'\n    ], function( Base, FlashRuntime, RuntimeClient ) {\n        var $ = Base.$;\n    \n        return FlashRuntime.register( 'Transport', {\n            init: function() {\n                this._status = 0;\n                this._response = null;\n                this._responseJson = null;\n            },\n    \n            send: function() {\n                var owner = this.owner,\n                    opts = this.options,\n                    xhr = this._initAjax(),\n                    blob = owner._blob,\n                    server = opts.server,\n                    binary;\n    \n                xhr.connectRuntime( blob.ruid );\n    \n                if ( opts.sendAsBinary ) {\n                    server += (/\\?/.test( server ) ? '&' : '?') +\n                            $.param( owner._formData );\n    \n                    binary = blob.uid;\n                } else {\n                    $.each( owner._formData, function( k, v ) {\n                        xhr.exec( 'append', k, v );\n                    });\n    \n                    xhr.exec( 'appendBlob', opts.fileVal, blob.uid,\n                            opts.filename || owner._formData.name || '' );\n                }\n    \n                this._setRequestHeader( xhr, opts.headers );\n                xhr.exec( 'send', {\n                    method: opts.method,\n                    url: server,\n                    forceURLStream: opts.forceURLStream,\n                    mimeType: 'application/octet-stream'\n                }, binary );\n            },\n    \n            getStatus: function() {\n                return this._status;\n            },\n    \n            getResponse: function() {\n                return this._response || '';\n            },\n    \n            getResponseAsJson: function() {\n                return this._responseJson;\n            },\n    \n            abort: function() {\n                var xhr = this._xhr;\n    \n                if ( xhr ) {\n                    xhr.exec('abort');\n                    xhr.destroy();\n                    this._xhr = xhr = null;\n                }\n            },\n    \n            destroy: function() {\n                this.abort();\n            },\n    \n            _initAjax: function() {\n                var me = this,\n                    xhr = new RuntimeClient('XMLHttpRequest');\n    \n                xhr.on( 'uploadprogress progress', function( e ) {\n                    var percent = e.loaded / e.total;\n                    percent = Math.min( 1, Math.max( 0, percent ) );\n                    return me.trigger( 'progress', percent );\n                });\n    \n                xhr.on( 'load', function() {\n                    var status = xhr.exec('getStatus'),\n                        readBody = false,\n                        err = '',\n                        p;\n    \n                    xhr.off();\n                    me._xhr = null;\n    \n                    if ( status >= 200 && status < 300 ) {\n                        readBody = true;\n                    } else if ( status >= 500 && status < 600 ) {\n                        readBody = true;\n                        err = 'server';\n                    } else {\n                        err = 'http';\n                    }\n    \n                    if ( readBody ) {\n                        me._response = xhr.exec('getResponse');\n                        me._response = decodeURIComponent( me._response );\n    \n                        // flash 处理可能存在 bug, 没辙只能靠 js 了\n                        // try {\n                        //     me._responseJson = xhr.exec('getResponseAsJson');\n                        // } catch ( error ) {\n                            \n                        p = window.JSON && window.JSON.parse || function( s ) {\n                            try {\n                                return new Function('return ' + s).call();\n                            } catch ( err ) {\n                                return {};\n                            }\n                        };\n                        me._responseJson  = me._response ? p(me._response) : {};\n                            \n                        // }\n                    }\n                    \n                    xhr.destroy();\n                    xhr = null;\n    \n                    return err ? me.trigger( 'error', err ) : me.trigger('load');\n                });\n    \n                xhr.on( 'error', function() {\n                    xhr.off();\n                    me._xhr = null;\n                    me.trigger( 'error', 'http' );\n                });\n    \n                me._xhr = xhr;\n                return xhr;\n            },\n    \n            _setRequestHeader: function( xhr, headers ) {\n                $.each( headers, function( key, val ) {\n                    xhr.exec( 'setRequestHeader', key, val );\n                });\n            }\n        });\n    });\n    /**\n     * @fileOverview 没有图像处理的版本。\n     */\n    define('preset/withoutimage',[\n        'base',\n    \n        // widgets\n        'widgets/filednd',\n        'widgets/filepaste',\n        'widgets/filepicker',\n        'widgets/queue',\n        'widgets/runtime',\n        'widgets/upload',\n        'widgets/validator',\n    \n        // runtimes\n        // html5\n        'runtime/html5/blob',\n        'runtime/html5/dnd',\n        'runtime/html5/filepaste',\n        'runtime/html5/filepicker',\n        'runtime/html5/transport',\n    \n        // flash\n        'runtime/flash/filepicker',\n        'runtime/flash/transport'\n    ], function( Base ) {\n        return Base;\n    });\n    define('webuploader',[\n        'preset/withoutimage'\n    ], function( preset ) {\n        return preset;\n    });\n    return require('webuploader');\n});\n"],"sourceRoot":"/source/"}